{"version":3,"sources":["D2App/pages/Page.module.css","D2App/components/MaxResultsAlertBar/MaxResultsAlertBar.module.css","D2App/components/PageHeader/PageHeader.module.css","D2App/components/DownloadAs/DownloadAs.module.css","D2App/pages/FollowUpAnalysis/follow-up-analysis-table/FollowUpAnalysisTable.module.css","D2App/components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree.module.css","D2App/pages/OutlierDetection/Form.module.css","D2App/pages/OutlierDetection/OutlierAnalysisTable/OutlierAnalysisTable.module.css","D2App/pages/ValidationRulesAnalysis/ValidationRulesDetails/ValidationRulesDetails.module.css","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/TableCellContent.module.css","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/ValidationRulesAnalysisTable.module.css","D2App/pages/Overview/grid-section/GridSection.module.css","D2App/pages/Overview/Overview.module.css","D2App/components/Sidebar/Sidebar.module.css","D2App/components/App/App.module.css","D2App/components/MaxResultsAlertBar/MaxResultsAlertBar.js","D2App/components/DocsLink/DocsLink.js","D2App/components/PageHeader/PageHeader.js","D2App/helpers/dates.js","D2App/helpers/threeMonthsAgo.js","D2App/server.conf.js","D2App/pages/Page.js","D2App/components/DownloadAs/DownloadAs.js","D2App/components/FormattedNumber/FormattedNumber.js","D2App/pages/PageStyles.js","D2App/pages/FollowUpAnalysis/follow-up-analysis-table/FollowUpAnalysisTable.js","D2App/components/AvailableDatasetsSelect/AvailableDatasetsSelect.js","D2App/components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree.js","D2App/pages/FollowUpAnalysis/Form.js","D2App/pages/FollowUpAnalysis/FollowUpAnalysis.js","D2App/components/Sidebar/SidebarContext.js","D2App/pages/OutlierDetection/constants.js","D2App/pages/OutlierDetection/Form.js","D2App/pages/OutlierDetection/OutlierAnalysisTable/ElementRow.js","D2App/pages/OutlierDetection/OutlierAnalysisTable/OutlierAnalysisTable.js","D2App/pages/OutlierDetection/OutlierDetection.js","D2App/pages/ValidationRulesAnalysis/ValidationRuleGroupsSelect.js","D2App/pages/ValidationRulesAnalysis/Form.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesDetails/ValidationRulesDetails.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/TableCellContent.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/ValidationRulesAnalysisTable.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysis.js","D2App/pages/sections.conf.js","D2App/pages/Overview/grid-section/GridSection.js","D2App/pages/Overview/Overview.js","D2App/components/AppRouter/NoMatch.js","D2App/components/AppRouter/AppRouter.js","D2App/components/Sidebar/Sidebar.js","D2App/components/App/App.js","D2App/theme.js","D2App/locales/index.js","D2App/App.js"],"names":["module","exports","MaxResultsAlertBar","show","React","createElement","Paper","className","styles","alertBar","i18n","t","DocsLink","sectionKey","serverVersion","useConfig","docsVersion","major","minor","tag","concat","getDocsVersion","docsKey","getDocsKeyForSection","IconButton","iconStyle","color","href","target","rel","tooltip","tooltipPosition","iconClassName","PageHeader","title","onBack","header","onClick","FontIcon","headerTitle","convertDateToApiDateFormat","date","toISOString","split","threeMonthsAgo","Date","setMonth","getMonth","apiConf","endpoints","validationRulesAnalysis","validationRulesExpression","validationRulesReport","validationRules","outlierDetection","folloupAnalysis","markOutlierDataValue","markFollowUpDataValue","reportAnalysis","results","analysis","limit","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Page","Component","UNSAFE_componentWillMount","this","pageMounted","context","currentSection","props","updateAppState","componentWillUnmount","isPageMounted","manageError","error","console","PropTypes","string","isRequired","d2","object","func","DownloadAs","endpoint","fileTypes","queryStr","hrefs","useD2","baseUrl","Api","getApi","timestamp","now","reduce","acc","type","useHrefs","downloadAs","includes","pdf","download","xls","csv","defaultProps","FormattedNumber","minimumFractionDigits","maximumFractionDigits","Intl","NumberFormat","language","format","pageStyles","inputForm","width","iconColor","fill","cursorStyle","cursor","FollowUpAnalysisTable","element1","element2","attributeOptionComboId","categoryOptionComboId","periodId","organisationUnitId","dataElementId","constructor","super","state","showComment","comment","unfollow","bind","closeCommentDialog","unfollowups","i","elements","length","e","marked","push","convertElementToUnFollowupRequest","setState","updateCheckbox","element","toggleCheckbox","render","oneChecked","commentDialogActions","FlatButton","label","primary","rows","map","TableRow","TableRowColumn","dataElement","organisation","period","cssPageStyles","right","min","max","centerFlex","checkboxWrapper","Checkbox","checked","onCheck","jsPageStyles","center","style","Dialog","actions","modal","open","onRequestClose","id","cardHeader","Table","selectable","classNames","appTable","followUpAnalysisTable","TableHeader","displaySelectAll","adjustForCheckbox","enableSelectAll","TableHeaderColumn","TableBody","displayRowCheckbox","stripedRows","cardFooter","spaceBetween","RaisedButton","disabled","loading","array","bool","sourceId","generateElementKey","dataElementName","sourceName","name","Number","parseFloat","followup","AvailableDatasetsSelect","selected","onChange","dataSets","setDataSets","useState","setError","useEffect","async","dataSetsResponse","models","dataSet","list","paging","fields","toArray","Help","MultiSelect","filterable","noMatchText","item","MultiSelectOption","displayName","CircularLoader","allRootQuery","allRoots","resource","params","filter","query","data","AvailableOrganisationUnitsTree","multiselect","setSelected","Map","organisationUnits","useDataQuery","loadingAll","dataAll","errorAll","refetch","lazy","_data$data","authorities","useUserOrganisationUnits","handleChange","path","s","newSelected","set","delete","values","selectedId","has","wrapper","OrganisationUnitTree","keys","roots","ou","singleSelection","FollowUpButton","noValuesFoundAlert","useAlert","success","errorAlert","message","critical","Button","mainButton","Form","onSubmit","submitDisabled","dataSetIds","onDataSetsChange","onOrganisationUnitChange","startDate","onStartDateChange","endDate","onEndDateChange","Fragment","formLabel","DatePicker","textFieldStyle","floatingLabelText","defaultDate","maxDate","minDate","FollowUpAnalysis","pageState","api","request","ds","response","post","convertElementFromApiResponse","showTable","event","followups","areElementsTheSame","UNSAFE_componentWillReceiveProps","nextProps","nextState","forEach","property","STATE_PROPERTIES","isFormValid","isActionDisabled","handleBack","showMaxResultsAlertBar","Card","card","display","getFollowUpList","handleDataSetsChange","handleOrganisationUnitChange","startDateOnChange","endDateOnChange","SidebarContext","createContext","useSidebar","useContext","SidebarProvider","Provider","Z_SCORE","MEAN_ABS_DEV","DEFAULT_ORDER_BY","ThresholdField","threshold","SelectField","MenuItem","primaryText","ZScoreFields","showAdvancedZScoreFields","onToggleAdvancedZScoreFields","orderBy","onOrderByChange","dataStartDate","dataEndDate","onDataStartDateChange","onDataEndDateChange","small","secondary","toggleBtn","optionalDatepickerContainer","valid","algorithm","onAlgorithmChange","onThresholdChange","onDataSetsOnChange","maxResults","onMaxResultsChange","ElementRow","isZScoreAlgorithm","onToggleCheckbox","pe","ouName","zScore","absDev","stdDev","mean","lowerBound","upperBound","OutlierAnalyisTable","csvQueryStr","downloadLink","outlierAnalysisTable","end","getElementDisplayName","str","deName","cocName","aocName","aoc","coc","de","OutlierDetection","sidebar","setLoading","tableVisible","setTableVisible","setElements","setCsvQueryStr","organisationUnitIds","handleStartDateChange","handleEndDateChange","handleAlgorithmChange","handleToggleAdvancedZScoreFields","handleThresholdChange","handleOrderByChange","handleDataStartDateChange","handleDataEndDateChange","handleMaxResultsChange","setStartDate","setEndDate","setOrganisationUnitIds","setAlgorithm","setShowAdvancedZScoreFields","setThreshold","setOrderBy","setDataStartDate","setDataEndDate","setDataSetIds","setMaxResults","index","useFormState","successfulMarkAlert","duration","formValid","shouldShowMaxResultsAlertBar","querySegments","join","createQueryString","get","outlierValues","hide","currentElement","find","update","orgUnit","categoryOptionCombo","attributeOptionCombo","newMarked","ALL_VALIDATION_RULE_GROUPS_OPTION","ValidationRuleGroupsSelect","validationRuleGroups","setValidationRuleGroups","validationRuleGroupsLoadErrorAlert","nsSeparator","validationRuleGroup","then","validationRuleGroupsResponse","catch","onValidationRuleGroupChange","sendNotfications","onSendNotificationsChange","persistNewResults","onPersistNewResultsChange","ValidationRulesDetails","args","openDetails","rule","expression","leftSide","rightSide","getD2Instance","requestRule","validationRuleId","requestExpression","Promise","all","dialogActions","handleClose","result","sectionBox","sectionTitle","sectionSubTitle","displayDescription","showNoData","side","noData","buildSection","classNameRow","Tooltip","content","openDelay","closeDelay","icon","loadDetails","autoScrollBodyContent","TableCellContent","size","children","cx","tableCellContent","ValidationRulesAnalysisTable","shouldDisplayAttributeOptionCombo","some","importance","validationRule","leftValue","operator","rightValue","validationTable","fixedHeader","bodyStyle","overflowX","attributeOptionComboDisplayName","organisationUnitDisplayName","periodDisplayName","validationRuleDescription","leftSideValue","rightSideValue","sections","component","validationRuleGroupId","handleValidationRuleGroupChange","handleSendNotificationsChange","handlePersistNewResultsChange","setOrganisationUnitId","setValidationRuleGroupId","setSendNotifications","setPersistNewResults","validationPassedAlert","notification","persist","vrg","info","description","actionText","docs","_sections$find","section","GridSection","PureComponent","Link","link","to","gridElement","gridTitleBar","gridTitleDescription","gridIcon","gridDescription","gridActionText","shape","Overview","gridContainer","NoMatch","location","pathname","AppRouter","routes","Route","exact","Switch","SidebarItem","history","useHistory","isActive","useRouteMatch","sidebarItem","active","Sidebar","Menu","App","visible","setVisible","listen","classnames","container","containerWithSidebar","contentWrapper","theme","spacing","Spacing","fontFamily","palette","primary1Color","primary2Color","blue700","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","orangeA200","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","namespace","addResources","arTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppWrapper","CssVariables","spacers","colors","MuiThemeProvider","appTheme","HashRouter"],"mappings":"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","file":"static/js/app.79071e5b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Page_card__2YJUQ\",\"mainButton\":\"Page_mainButton__3ZqEW\",\"appTable\":\"Page_appTable__jOHgy\",\"right\":\"Page_right__2IgFz\",\"center\":\"Page_center__2X94F\",\"centerFlex\":\"Page_centerFlex__7_iZ7\",\"pageHeader\":\"Page_pageHeader__HmeVS\",\"cardHeader\":\"Page_cardHeader__2RRDB\",\"cardFooter\":\"Page_cardFooter__IQAZb\",\"spaceBetween\":\"Page_spaceBetween__13D7y\",\"end\":\"Page_end__uY7Dd\",\"formLabel\":\"Page_formLabel__1UsDH\",\"checkboxWrapper\":\"Page_checkboxWrapper__JAojq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alertBar\":\"MaxResultsAlertBar_alertBar__2GmaS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"PageHeader_header__1jM0V\",\"headerTitle\":\"PageHeader_headerTitle__1KEEp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"downloadAs\":\"DownloadAs_downloadAs__2llIV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followUpAnalysisTable\":\"FollowUpAnalysisTable_followUpAnalysisTable__2U8d0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AvailableOrganisationUnitsTree_wrapper__1GxRZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleBtn\":\"Form_toggleBtn__1ahRY\",\"optionalDatepickerContainer\":\"Form_optionalDatepickerContainer__3epJv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outlierAnalysisTable\":\"OutlierAnalysisTable_outlierAnalysisTable__2jiQP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionBox\":\"ValidationRulesDetails_sectionBox__2d5TC\",\"sectionTitle\":\"ValidationRulesDetails_sectionTitle__2XPK4\",\"sectionSubTitle\":\"ValidationRulesDetails_sectionSubTitle__2ipEu\",\"noData\":\"ValidationRulesDetails_noData__2SXYM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableCellContent\":\"TableCellContent_tableCellContent__1s3wz\",\"tableCellContent-narrow\":\"TableCellContent_tableCellContent-narrow__2zlhv\",\"tableCellContent-medium\":\"TableCellContent_tableCellContent-medium__2sEcd\",\"tableCellContent-wide\":\"TableCellContent_tableCellContent-wide__WtVIn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"validationTable\":\"ValidationRulesAnalysisTable_validationTable__3-ha4\",\"operator\":\"ValidationRulesAnalysisTable_operator__p9vPK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"GridSection_link__1wOeA\",\"gridElement\":\"GridSection_gridElement__13uMv\",\"gridTitleBar\":\"GridSection_gridTitleBar__2yKRT\",\"gridTitleDescription\":\"GridSection_gridTitleDescription__1MJBK\",\"gridIcon\":\"GridSection_gridIcon__1Zrzs\",\"gridDescription\":\"GridSection_gridDescription__9-Td7\",\"gridActionText\":\"GridSection_gridActionText__frHQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"Overview_gridContainer__1j9lQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarItem\":\"Sidebar_sidebarItem__3GXPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1rmxQ\",\"containerWithSidebar\":\"App_containerWithSidebar__1Hbl7\",\"sidebar\":\"App_sidebar__LDzrw\",\"content\":\"App_content__3ZxSB\",\"contentWrapper\":\"App_contentWrapper__rsw_W\"};","import i18n from '@dhis2/d2-i18n';\nimport { Paper } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './MaxResultsAlertBar.module.css';\n\nconst MaxResultsAlertBar = ({\n  show\n}) => {\n  if (!show) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Paper, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.alertBar\n  }, i18n.t('More than 500 values found, please narrow the search to see all')));\n};\n\nMaxResultsAlertBar.propTypes = {\n  show: PropTypes.bool.isRequired\n};\nexport default MaxResultsAlertBar;","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { IconButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getDocsKeyForSection } from '../../pages/sections.conf';\n\nconst getDocsVersion = ({\n  major,\n  minor,\n  tag\n}) => {\n  if (tag === 'SNAPSHOT') {\n    return 'master';\n  }\n\n  return \"\".concat(major).concat(minor);\n};\n\nconst DocsLink = ({\n  sectionKey\n}) => {\n  const {\n    serverVersion\n  } = useConfig();\n  const docsVersion = getDocsVersion(serverVersion);\n  const docsKey = getDocsKeyForSection(sectionKey);\n  return /*#__PURE__*/React.createElement(IconButton, {\n    className: \"helper-icon\",\n    iconStyle: {\n      color: '#276696'\n    },\n    href: \"https://docs.dhis2.org/en/use/user-guides/dhis-core-version-\".concat(docsVersion, \"/collecting-data/data-quality.html#\").concat(docsKey),\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    tooltip: i18n.t('Open user guide'),\n    tooltipPosition: \"bottom-center\",\n    iconClassName: \"material-icons\"\n  }, \"help\");\n};\n\nDocsLink.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DocsLink;","import { FontIcon, IconButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DocsLink from '../DocsLink/DocsLink';\nimport styles from './PageHeader.module.css';\n\nconst PageHeader = ({\n  title,\n  onBack,\n  sectionKey\n}) => /*#__PURE__*/React.createElement(\"header\", {\n  className: styles.header\n}, onBack && /*#__PURE__*/React.createElement(IconButton, {\n  onClick: onBack\n}, /*#__PURE__*/React.createElement(FontIcon, {\n  className: 'material-icons'\n}, \"arrow_back\")), /*#__PURE__*/React.createElement(\"h1\", {\n  className: styles.headerTitle\n}, title), sectionKey && /*#__PURE__*/React.createElement(DocsLink, {\n  sectionKey: sectionKey\n}));\n\nPageHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionKey: PropTypes.string,\n  onBack: PropTypes.func\n};\nexport default PageHeader;","// get Date from YYYY-MM-DDTHH:mm:ss.mmmm\nexport const convertDateToApiDateFormat = date => date.toISOString().split('T')[0];\nexport default convertDateToApiDateFormat;","const threeMonthsAgo = () => {\n  const date = new Date();\n  date.setMonth(date.getMonth() - 3);\n  return date;\n};\n\nexport default threeMonthsAgo;","export const apiConf = {\n  endpoints: {\n    validationRulesAnalysis: '/dataAnalysis/validationRules',\n    validationRulesExpression: '/dataAnalysis/validationRulesExpression',\n    validationRulesReport: '/dataAnalysis/validationRules/report',\n    validationRules: '/validationRules',\n    outlierDetection: '/outlierDetection',\n    folloupAnalysis: '/dataAnalysis/followup',\n    markOutlierDataValue: '/dataValues/followup',\n    markFollowUpDataValue: '/dataAnalysis/followup/mark',\n    reportAnalysis: '/dataAnalysis/report'\n  },\n  results: {\n    analysis: {\n      limit: 500\n    }\n  }\n};\nexport default apiConf;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport { Component } from 'react'; // TODO: Delete file\n\nclass Page extends Component {\n  UNSAFE_componentWillMount() {\n    this.pageMounted = true; // update section on side bar\n\n    if (this.context.currentSection !== this.props.sectionKey) {\n      this.context.updateAppState({\n        currentSection: this.props.sectionKey\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.pageMounted = false;\n  }\n\n  isPageMounted() {\n    return this.pageMounted;\n  }\n\n  manageError(error) {\n    console.error(error);\n  }\n\n}\n\n_defineProperty(Page, \"propTypes\", {\n  sectionKey: PropTypes.string.isRequired\n});\n\n_defineProperty(Page, \"contextTypes\", {\n  d2: PropTypes.object,\n  currentSection: PropTypes.string,\n  updateAppState: PropTypes.func\n});\n\nexport default Page;","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './DownloadAs.module.css';\n\nconst useHrefs = ({\n  endpoint,\n  fileTypes,\n  queryStr\n}) => {\n  const {\n    d2\n  } = useD2();\n  const {\n    baseUrl\n  } = d2.Api.getApi();\n  const timestamp = Date.now(); // The new outlierDetection endpoint produces the correct report\n  // based on query params, but older endpoints only take a timestamp\n\n  queryStr = queryStr || \"t=\".concat(timestamp);\n  return fileTypes.reduce((acc, type) => {\n    acc[type] = \"\".concat(baseUrl).concat(endpoint, \".\").concat(type, \"?\").concat(queryStr);\n    return acc;\n  }, {});\n};\n\nconst DownloadAs = ({\n  endpoint,\n  fileTypes,\n  queryStr\n}) => {\n  const hrefs = useHrefs({\n    endpoint,\n    fileTypes,\n    queryStr\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.downloadAs\n  }, fileTypes.includes('pdf') && /*#__PURE__*/React.createElement(\"a\", {\n    href: hrefs.pdf,\n    download: true\n  }, i18n.t('Download as PDF')), fileTypes.includes('xls') && /*#__PURE__*/React.createElement(\"a\", {\n    href: hrefs.xls,\n    download: true\n  }, i18n.t('Download as XLS')), fileTypes.includes('csv') && /*#__PURE__*/React.createElement(\"a\", {\n    href: hrefs.csv,\n    download: true\n  }, i18n.t('Download as CSV')));\n};\n\nDownloadAs.propTypes = {\n  endpoint: PropTypes.string.isRequired,\n  fileTypes: PropTypes.arrayOf(PropTypes.oneOf(['pdf', 'xls', 'csv'])),\n  queryStr: PropTypes.string\n};\nDownloadAs.defaultProps = {\n  fileTypes: ['pdf', 'xls', 'csv']\n};\nexport default DownloadAs;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst FormattedNumber = ({\n  value,\n  minimumFractionDigits,\n  maximumFractionDigits\n}) => /*#__PURE__*/React.createElement(\"span\", null, new Intl.NumberFormat(i18n.language, {\n  minimumFractionDigits,\n  maximumFractionDigits\n}).format(value));\n\nFormattedNumber.defaultProps = {\n  maximumFractionDigits: 2,\n  minimumFractionDigits: 2\n};\nFormattedNumber.propTypes = {\n  value: PropTypes.number.isRequired,\n  maximumFractionDigits: PropTypes.number,\n  minimumFractionDigits: PropTypes.number\n};\nexport default FormattedNumber;","const pageStyles = {\n  inputForm: {\n    width: '100%'\n  },\n  iconColor: {\n    fill: '#ff9900'\n  },\n  cursorStyle: {\n    cursor: 'pointer'\n  }\n};\nexport default pageStyles;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Checkbox, FontIcon, RaisedButton, Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn, IconButton, Dialog, FlatButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport DownloadAs from '../../../components/DownloadAs/DownloadAs';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport jsPageStyles from '../../PageStyles';\nimport styles from './FollowUpAnalysisTable.module.css';\n\nclass FollowUpAnalysisTable extends Component {\n  static areElementsTheSame(element1, element2) {\n    return element1.attributeOptionComboId === element2.attributeOptionComboId && element1.categoryOptionComboId === element2.categoryOptionComboId && element1.periodId === element2.periodId && element1.organisationUnitId === element2.organisationUnitId && element1.dataElementId === element2.dataElementId;\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      showComment: false,\n      comment: null\n    };\n    this.unfollow = this.unfollow.bind(this);\n    this.closeCommentDialog = this.closeCommentDialog.bind(this);\n  }\n\n  unfollow() {\n    const unfollowups = [];\n\n    for (let i = 0; i < this.props.elements.length; i++) {\n      const e = this.props.elements[i];\n\n      if (e.marked) {\n        unfollowups.push(FollowUpAnalysisTable.convertElementToUnFollowupRequest(e));\n      }\n    }\n\n    this.props.unfollow(unfollowups);\n  }\n\n  closeCommentDialog() {\n    this.setState({\n      showComment: false\n    });\n  }\n\n  updateCheckbox(element) {\n    this.props.toggleCheckbox(element);\n  }\n\n  showComment(element) {\n    if (element.comment) {\n      this.setState({\n        showComment: true,\n        comment: element.comment\n      });\n    }\n  }\n\n  render() {\n    let oneChecked = false;\n    const commentDialogActions = [/*#__PURE__*/React.createElement(FlatButton, {\n      key: 'close',\n      label: i18n.t('Close'),\n      primary: true,\n      onClick: this.closeCommentDialog\n    })]; // Table Rows\n\n    const rows = this.props.elements.map(element => {\n      const updateCheckbox = () => {\n        this.updateCheckbox(element);\n      };\n\n      const showComment = () => {\n        this.showComment(element);\n      };\n\n      oneChecked = element.marked ? true : oneChecked;\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: element.key\n      }, /*#__PURE__*/React.createElement(TableRowColumn, null, element.dataElement), /*#__PURE__*/React.createElement(TableRowColumn, null, element.organisation), /*#__PURE__*/React.createElement(TableRowColumn, null, element.period), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.min\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.value\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.max\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.centerFlex\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: cssPageStyles.checkboxWrapper\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: element.marked,\n        onCheck: updateCheckbox,\n        iconStyle: jsPageStyles.iconColor\n      }))), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.center\n      }, element.comment && /*#__PURE__*/React.createElement(IconButton, {\n        key: element.key,\n        onClick: showComment\n      }, /*#__PURE__*/React.createElement(FontIcon, {\n        className: 'material-icons',\n        style: jsPageStyles.cursorStyle\n      }, \"speaker_notes\"))));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Dialog, {\n      title: i18n.t('Comment'),\n      actions: commentDialogActions,\n      modal: false,\n      open: this.state.showComment,\n      onRequestClose: this.closeCommentDialog\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: 'comment-content'\n    }, this.state.comment)), /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.cardHeader\n    }, /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.reportAnalysis\n    })), /*#__PURE__*/React.createElement(Table, {\n      selectable: false,\n      className: classNames(cssPageStyles.appTable, styles.followUpAnalysisTable)\n    }, /*#__PURE__*/React.createElement(TableHeader, {\n      displaySelectAll: false,\n      adjustForCheckbox: false,\n      enableSelectAll: false\n    }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Data Element')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Min')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Max')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.center\n    }, i18n.t('Unfollow')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.center\n    }, i18n.t('Comment')))), /*#__PURE__*/React.createElement(TableBody, {\n      displayRowCheckbox: false,\n      stripedRows: false\n    }, rows)), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(cssPageStyles.cardFooter, cssPageStyles.spaceBetween)\n    }, /*#__PURE__*/React.createElement(RaisedButton, {\n      id: \"unfollow-action\",\n      primary: true,\n      disabled: this.props.loading || !oneChecked,\n      label: i18n.t('unfollow'),\n      onClick: this.unfollow\n    }), /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.reportAnalysis\n    })));\n  }\n\n}\n\n_defineProperty(FollowUpAnalysisTable, \"propTypes\", {\n  elements: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  toggleCheckbox: PropTypes.func.isRequired,\n  unfollow: PropTypes.func.isRequired\n});\n\n_defineProperty(FollowUpAnalysisTable, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\n_defineProperty(FollowUpAnalysisTable, \"generateElementKey\", e => \"\".concat(e.attributeOptionComboId, \"-\").concat(e.categoryOptionComboId, \"-\").concat(e.periodId, \"-\").concat(e.sourceId, \"-\").concat(e.dataElementId));\n\n_defineProperty(FollowUpAnalysisTable, \"convertElementFromApiResponse\", e => ({\n  key: FollowUpAnalysisTable.generateElementKey(e),\n  attributeOptionComboId: e.attributeOptionComboId,\n  categoryOptionComboId: e.categoryOptionComboId,\n  periodId: e.periodId,\n  organisationUnitId: e.sourceId,\n  dataElementId: e.dataElementId,\n  dataElement: e.dataElementName,\n  organisation: e.sourceName,\n  period: e.period.name,\n  min: e.min,\n  max: e.max,\n  value: Number.parseFloat(e.value, 10),\n  marked: !e.followup,\n  comment: e.comment\n}));\n\n_defineProperty(FollowUpAnalysisTable, \"convertElementToUnFollowupRequest\", e => ({\n  dataElementId: e.dataElementId,\n  periodId: e.periodId,\n  organisationUnitId: e.organisationUnitId,\n  categoryOptionComboId: e.categoryOptionComboId,\n  attributeOptionComboId: e.attributeOptionComboId,\n  followup: false\n}));\n\nexport default FollowUpAnalysisTable;","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport i18n from '@dhis2/d2-i18n';\nimport { MultiSelect, MultiSelectOption, Help, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\n\nconst AvailableDatasetsSelect = ({\n  selected,\n  onChange\n}) => {\n  const [dataSets, setDataSets] = useState(null);\n  const [error, setError] = useState(false);\n  const {\n    d2\n  } = useD2();\n  useEffect(async () => {\n    try {\n      const dataSetsResponse = await d2.models.dataSet.list({\n        paging: false,\n        fields: 'id,displayName'\n      });\n      setDataSets(dataSetsResponse.toArray());\n    } catch (error) {\n      setError(true);\n    }\n  }, []);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(Help, {\n      error: true\n    }, i18n.t('Error loading datasets.'));\n  }\n\n  if (!dataSets) {\n    return /*#__PURE__*/React.createElement(CircularLoader, null);\n  }\n\n  return /*#__PURE__*/React.createElement(MultiSelect, {\n    filterable: true,\n    noMatchText: i18n.t('No match found'),\n    onChange: onChange,\n    selected: selected\n  }, dataSets.map(item => /*#__PURE__*/React.createElement(MultiSelectOption, {\n    key: item.id,\n    value: item.id,\n    label: item.displayName\n  })));\n};\n\nAvailableDatasetsSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  selected: PropTypes.array\n};\nexport default AvailableDatasetsSelect;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { OrganisationUnitTree } from '@dhis2/ui';\nimport { CircularLoader, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport styles from './AvailableOrganisationUnitsTree.module.css';\nconst allRootQuery = {\n  allRoots: {\n    resource: 'organisationUnits',\n    params: {\n      filter: 'level:eq:1',\n      fields: 'id',\n      paging: 'false'\n    }\n  }\n};\nconst query = {\n  data: {\n    resource: 'me',\n    params: {\n      fields: 'organisationUnits, authorities'\n    }\n  }\n};\n\nconst useUserOrganisationUnits = () => {\n  const {\n    loading,\n    data,\n    error\n  } = useDataQuery(query);\n  const {\n    loading: loadingAll,\n    data: dataAll,\n    error: errorAll,\n    refetch\n  } = useDataQuery(allRootQuery, {\n    lazy: true\n  });\n  useEffect(() => {\n    var _data$data;\n\n    if (!(data !== null && data !== void 0 && data.data.organisationUnits.length) && data !== null && data !== void 0 && (_data$data = data.data) !== null && _data$data !== void 0 && _data$data.authorities.includes('ALL')) {\n      //fetch all orgs\n      refetch();\n    }\n  }, [data]);\n  return {\n    loading: loadingAll || loading,\n    organisationUnits: (dataAll === null || dataAll === void 0 ? void 0 : dataAll.allRoots.organisationUnits) || (data === null || data === void 0 ? void 0 : data.data.organisationUnits),\n    error: errorAll || error\n  };\n};\n\nconst AvailableOrganisationUnitsTree = ({\n  multiselect = false,\n  onChange\n}) => {\n  const [selected, setSelected] = useState(new Map());\n  const {\n    loading,\n    organisationUnits,\n    error\n  } = useUserOrganisationUnits();\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CircularLoader, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(Help, {\n      error: true\n    }, i18n.t('Something went wrong whilst loading your organisation units.'));\n  }\n\n  if (organisationUnits.length === 0) {\n    return /*#__PURE__*/React.createElement(\"p\", null, i18n.t('You do not have access to any organisation units.'));\n  }\n\n  const handleOrgUnitClickSingle = ({\n    id,\n    path\n  }) => {\n    let selectedId = id;\n\n    if (selected.has(path)) {\n      //deselect\n      selectedId = null;\n      setSelected(new Map());\n    } else {\n      setSelected(new Map().set(path, id));\n    }\n\n    if (onChange) {\n      onChange(selectedId);\n    }\n  };\n\n  const handleOrgUnitClickMulti = ({\n    id,\n    path,\n    selected: s\n  }) => {\n    const newSelected = new Map(selected);\n\n    if (s.includes(path)) {\n      newSelected.set(path, id);\n    } else {\n      newSelected.delete(path);\n    }\n\n    setSelected(newSelected);\n\n    if (onChange) {\n      onChange([...newSelected.values()]);\n    }\n  };\n\n  const handleChange = multiselect ? handleOrgUnitClickMulti : handleOrgUnitClickSingle;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.wrapper\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    selected: [...selected.keys()],\n    roots: organisationUnits.map(ou => ou.id),\n    singleSelection: !multiselect,\n    onChange: handleChange\n  }));\n};\n\nAvailableOrganisationUnitsTree.propTypes = {\n  multiselect: PropTypes.bool,\n  onChange: PropTypes.func\n};\nexport default AvailableOrganisationUnitsTree;","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport DatePicker from 'material-ui/DatePicker';\nimport React from 'react';\nimport AvailableDatasetsSelect from '../../components/AvailableDatasetsSelect/AvailableDatasetsSelect';\nimport AvailableOrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\n/* eslint-disable react/prop-types */\n\nconst FollowUpButton = ({\n  onClick,\n  disabled\n}) => {\n  const noValuesFoundAlert = useAlert(i18n.t('No values found'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => (error === null || error === void 0 ? void 0 : error.message) || i18n.t('An unexpected error happened during analysis'), {\n    critical: true\n  });\n\n  const handleClick = async () => {\n    try {\n      const result = await onClick();\n\n      if (result === 'NO_VALUES_FOUND') {\n        noValuesFoundAlert.show();\n      }\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    className: cssPageStyles.mainButton,\n    onClick: handleClick,\n    disabled: disabled\n  }, i18n.t('Follow up'));\n};\n\nconst Form = ({\n  onSubmit,\n  submitDisabled,\n  dataSetIds,\n  onDataSetsChange,\n  onOrganisationUnitChange,\n  startDate,\n  onStartDateChange,\n  endDate,\n  onEndDateChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Data Set')), /*#__PURE__*/React.createElement(AvailableDatasetsSelect, {\n  selected: dataSetIds,\n  onChange: onDataSetsChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Parent organisation unit')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n  onChange: onOrganisationUnitChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  id: \"start-date\",\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Start Date'),\n  onChange: onStartDateChange,\n  defaultDate: new Date(),\n  maxDate: endDate,\n  value: startDate\n}), /*#__PURE__*/React.createElement(DatePicker, {\n  id: \"end-date\",\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('End Date'),\n  onChange: onEndDateChange,\n  defaultDate: new Date(),\n  minDate: startDate,\n  value: endDate\n}))), /*#__PURE__*/React.createElement(FollowUpButton, {\n  onClick: onSubmit,\n  disabled: submitDisabled\n}));\n\nexport default Form;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport React from 'react';\nimport MaxResultsAlertBar from '../../components/MaxResultsAlertBar/MaxResultsAlertBar';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport threeMonthsAgo from '../../helpers/threeMonthsAgo';\nimport { apiConf } from '../../server.conf';\nimport Page from '../Page';\nimport cssPageStyles from '../Page.module.css';\nimport FollowUpAnalysisTable from './follow-up-analysis-table/FollowUpAnalysisTable';\nimport Form from './Form';\n\nclass FollowUpAnalysis extends Page {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"getFollowUpList\", async () => {\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const api = this.context.d2.Api.getApi();\n      const request = {\n        startDate: convertDateToApiDateFormat(this.state.startDate),\n        endDate: convertDateToApiDateFormat(this.state.endDate),\n        ou: this.state.organisationUnitId,\n        ds: this.state.dataSetIds\n      };\n      const response = await api.post(apiConf.endpoints.folloupAnalysis, request);\n\n      if (!this.isPageMounted()) {\n        return;\n      }\n\n      const elements = response.map(FollowUpAnalysisTable.convertElementFromApiResponse);\n      this.context.updateAppState({\n        pageState: {\n          loading: false,\n          elements,\n          showTable: elements && elements.length > 0\n        }\n      });\n      return elements.length === 0 ? 'NO_VALUES_FOUND' : null;\n    });\n\n    _defineProperty(this, \"handleBack\", () => {\n      this.setState({\n        showTable: false\n      });\n      this.context.updateAppState({\n        pageState: {\n          showTable: false\n        }\n      });\n    });\n\n    _defineProperty(this, \"startDateOnChange\", (event, date) => {\n      this.setState({\n        startDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"endDateOnChange\", (event, date) => {\n      this.setState({\n        endDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleOrganisationUnitChange\", organisationUnitId => {\n      this.setState({\n        organisationUnitId\n      });\n    });\n\n    _defineProperty(this, \"handleDataSetsChange\", ({\n      selected\n    }) => {\n      this.setState({\n        dataSetIds: selected\n      });\n    });\n\n    _defineProperty(this, \"toggleCheckbox\", element => {\n      this.setState({\n        elements: this.state.elements.map(e => {\n          if (e.key === element.key) {\n            return { ...e,\n              marked: !e.marked\n            };\n          }\n\n          return e;\n        })\n      });\n    });\n\n    _defineProperty(this, \"unfollow\", async unfollowups => {\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const api = this.context.d2.Api.getApi();\n      await api.post(apiConf.endpoints.markFollowUpDataValue, {\n        followups: unfollowups\n      });\n\n      if (!this.isPageMounted()) {\n        return;\n      } // remove unfollowed elements\n\n\n      const elements = this.state.elements.filter(element => {\n        for (const unfollow of unfollowups) {\n          if (FollowUpAnalysisTable.areElementsTheSame(element, unfollow)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n      this.context.updateAppState({\n        pageState: {\n          loading: false,\n          elements\n        }\n      });\n    });\n\n    _defineProperty(this, \"showMaxResultsAlertBar\", () => this.state.showTable && this.state.elements && this.state.elements.length >= apiConf.results.analysis.limit);\n\n    this.state = {\n      showTable: false,\n      startDate: threeMonthsAgo(),\n      endDate: new Date(),\n      organisationUnitId: null,\n      dataSetIds: [],\n      elements: [],\n      loading: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (FollowUpAnalysis.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  isFormValid() {\n    return this.state.startDate && this.state.endDate && this.state.organisationUnitId && this.state.dataSetIds && this.state.dataSetIds.length > 0;\n  }\n\n  isActionDisabled() {\n    return !this.isFormValid() || this.state.loading;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n      title: i18n.t('Follow-Up Analysis'),\n      onBack: this.state.showTable ? this.handleBack : null,\n      sectionKey: this.props.sectionKey\n    }), /*#__PURE__*/React.createElement(MaxResultsAlertBar, {\n      show: this.showMaxResultsAlertBar()\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: cssPageStyles.card\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: this.state.showTable ? 'none' : 'block'\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.getFollowUpList,\n      submitDisabled: this.isActionDisabled(),\n      dataSetIds: this.state.dataSetIds,\n      onDataSetsChange: this.handleDataSetsChange,\n      onOrganisationUnitChange: this.handleOrganisationUnitChange,\n      startDate: this.state.startDate,\n      onStartDateChange: this.startDateOnChange,\n      endDate: this.state.endDate,\n      onEndDateChange: this.endDateOnChange\n    })), this.state.showTable && /*#__PURE__*/React.createElement(FollowUpAnalysisTable, {\n      elements: this.state.elements,\n      toggleCheckbox: this.toggleCheckbox,\n      unfollow: this.unfollow,\n      loading: this.state.loading\n    })));\n  }\n\n}\n\n_defineProperty(FollowUpAnalysis, \"STATE_PROPERTIES\", ['showTable', 'startDate', 'endDate', 'organisationUnitId', 'dataSetIds', 'elements', 'loading']);\n\nexport default FollowUpAnalysis;","import React, { useContext } from 'react';\nconst SidebarContext = /*#__PURE__*/React.createContext();\nexport const useSidebar = () => useContext(SidebarContext);\nexport const SidebarProvider = SidebarContext.Provider;","export const Z_SCORE = 'Z_SCORE';\nexport const MIN_MAX = 'MIN_MAX';\nexport const MEAN_ABS_DEV = 'MEAN_ABS_DEV';\nexport const DEFAULT_THRESHOLD = 3.0;\nexport const DEFAULT_ALGORITHM = Z_SCORE;\nexport const DEFAULT_MAX_RESULTS = 500;\nexport const DEFAULT_ORDER_BY = MEAN_ABS_DEV;","import i18n from '@dhis2/d2-i18n';\nimport { Button, CircularLoader } from '@dhis2/ui';\nimport DatePicker from 'material-ui/DatePicker';\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport React from 'react';\nimport AvailableDatasetsSelect from '../../components/AvailableDatasetsSelect/AvailableDatasetsSelect';\nimport AvailableOrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\nimport { Z_SCORE, MIN_MAX, MEAN_ABS_DEV } from './constants';\nimport styles from './Form.module.css';\n/* eslint-disable react/prop-types */\n\nconst ThresholdField = ({\n  threshold,\n  onChange\n}) => /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Threshold'),\n  onChange: onChange,\n  value: threshold\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: 1,\n  primaryText: \"1.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 1.5,\n  primaryText: \"1.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 2,\n  primaryText: \"2.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 2.5,\n  primaryText: \"2.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 3,\n  primaryText: \"3.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 3.5,\n  primaryText: \"3.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 4,\n  primaryText: \"4.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 4.5,\n  primaryText: \"4.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 5,\n  primaryText: \"5.0\"\n}));\n\nconst ZScoreFields = ({\n  showAdvancedZScoreFields,\n  onToggleAdvancedZScoreFields,\n  orderBy,\n  onOrderByChange,\n  dataStartDate,\n  dataEndDate,\n  onDataStartDateChange,\n  onDataEndDateChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  secondary: true,\n  className: styles.toggleBtn,\n  onClick: onToggleAdvancedZScoreFields\n}, showAdvancedZScoreFields ? i18n.t('Hide advanced options') : i18n.t('Show advanced options')), showAdvancedZScoreFields && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.optionalDatepickerContainer\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Data start date'),\n  onChange: (event, date) => onDataStartDateChange(date),\n  maxDate: dataEndDate,\n  value: dataStartDate\n}), /*#__PURE__*/React.createElement(Button, {\n  secondary: true,\n  small: true,\n  disabled: !dataStartDate,\n  onClick: () => onDataStartDateChange(null)\n}, i18n.t('Clear'))), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.optionalDatepickerContainer\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Data end date'),\n  onChange: (event, date) => onDataEndDateChange(date),\n  minDate: dataStartDate,\n  value: dataEndDate\n}), /*#__PURE__*/React.createElement(Button, {\n  secondary: true,\n  small: true,\n  disabled: !dataEndDate,\n  onClick: () => onDataEndDateChange(null)\n}, i18n.t('Clear'))), /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Sort by'),\n  onChange: onOrderByChange,\n  value: orderBy\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: Z_SCORE,\n  primaryText: \"Z-score\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: MEAN_ABS_DEV,\n  primaryText: \"Absolute Deviation from Mean\"\n}))));\n\nconst Form = ({\n  onSubmit,\n  valid,\n  loading,\n  startDate,\n  endDate,\n  algorithm,\n  showAdvancedZScoreFields,\n  onToggleAdvancedZScoreFields,\n  onAlgorithmChange,\n  threshold,\n  onThresholdChange,\n  orderBy,\n  onOrderByChange,\n  dataStartDate,\n  dataEndDate,\n  onDataStartDateChange,\n  onDataEndDateChange,\n  dataSetIds,\n  onDataSetsOnChange,\n  onOrganisationUnitChange,\n  maxResults,\n  onMaxResultsChange,\n  onStartDateChange,\n  onEndDateChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Data set')), /*#__PURE__*/React.createElement(AvailableDatasetsSelect, {\n  selected: dataSetIds,\n  onChange: onDataSetsOnChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Organisation units')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n  multiselect: true,\n  onChange: onOrganisationUnitChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Start date'),\n  onChange: onStartDateChange,\n  defaultDate: new Date(),\n  maxDate: endDate,\n  value: startDate\n}), /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('End date'),\n  onChange: onEndDateChange,\n  defaultDate: new Date(),\n  minDate: startDate,\n  value: endDate\n}), /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Algorithm'),\n  onChange: onAlgorithmChange,\n  value: algorithm\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: Z_SCORE,\n  primaryText: \"Z-score\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: MIN_MAX,\n  primaryText: \"Min-max values\"\n})), algorithm === Z_SCORE && /*#__PURE__*/React.createElement(ThresholdField, {\n  threshold: threshold,\n  onChange: onThresholdChange\n}), /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Max results'),\n  onChange: onMaxResultsChange,\n  value: maxResults\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: 100,\n  primaryText: \"100\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 200,\n  primaryText: \"200\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 500,\n  primaryText: \"500\"\n})), algorithm === Z_SCORE && /*#__PURE__*/React.createElement(ZScoreFields, {\n  showAdvancedZScoreFields: showAdvancedZScoreFields,\n  onToggleAdvancedZScoreFields: onToggleAdvancedZScoreFields,\n  orderBy: orderBy,\n  onOrderByChange: onOrderByChange,\n  dataStartDate: dataStartDate,\n  dataEndDate: dataEndDate,\n  onDataStartDateChange: onDataStartDateChange,\n  onDataEndDateChange: onDataEndDateChange\n}))), /*#__PURE__*/React.createElement(Button, {\n  primary: true,\n  className: cssPageStyles.mainButton,\n  disabled: !valid || loading,\n  onClick: onSubmit\n}, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Processing...'), /*#__PURE__*/React.createElement(CircularLoader, {\n  small: true\n})) : i18n.t('Start')));\n\nexport default Form;","import { Checkbox, TableRow, TableRowColumn } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport cssPageStyles from '../../Page.module.css';\nimport jsPageStyles from '../../PageStyles';\n\nconst ElementRow = ({\n  element,\n  isZScoreAlgorithm,\n  onToggleCheckbox\n}) => /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableRowColumn, null, /*#__PURE__*/React.createElement(\"span\", {\n  title: element.displayName\n}, element.displayName)), /*#__PURE__*/React.createElement(TableRowColumn, null, element.pe), /*#__PURE__*/React.createElement(TableRowColumn, null, /*#__PURE__*/React.createElement(\"span\", {\n  title: element.ouName\n}, element.ouName)), /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.right\n}, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.value,\n  minimumFractionDigits: 0\n})), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.right\n}, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.zScore\n})), /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.right\n}, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.absDev,\n  minimumFractionDigits: 0\n})), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.right\n}, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.stdDev\n})), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.right\n}, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.mean,\n  minimumFractionDigits: 0\n})), /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.right\n}, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.lowerBound,\n  minimumFractionDigits: 0\n})), /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.right\n}, /*#__PURE__*/React.createElement(FormattedNumber, {\n  value: element.upperBound,\n  minimumFractionDigits: 0\n})), /*#__PURE__*/React.createElement(TableRowColumn, {\n  className: cssPageStyles.centerFlex\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: cssPageStyles.checkboxWrapper\n}, /*#__PURE__*/React.createElement(Checkbox, {\n  checked: element.marked,\n  onCheck: () => onToggleCheckbox(element),\n  iconStyle: jsPageStyles.iconColor\n}))));\n\nElementRow.propTypes = {\n  element: PropTypes.object.isRequired,\n  isZScoreAlgorithm: PropTypes.bool.isRequired,\n  onToggleCheckbox: PropTypes.func.isRequired\n};\nexport default ElementRow;","import i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Table, TableBody, TableHeader, TableHeaderColumn, TableRow } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DownloadAs from '../../../components/DownloadAs/DownloadAs';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport { Z_SCORE, MIN_MAX } from '../constants';\nimport ElementRow from './ElementRow';\nimport styles from './OutlierAnalysisTable.module.css';\n\nconst OutlierAnalyisTable = ({\n  csvQueryStr,\n  elements,\n  onToggleCheckbox,\n  algorithm\n}) => {\n  const isZScoreAlgorithm = algorithm === Z_SCORE;\n  const downloadLink = /*#__PURE__*/React.createElement(DownloadAs, {\n    fileTypes: ['csv'],\n    endpoint: apiConf.endpoints.outlierDetection,\n    queryStr: csvQueryStr\n  });\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: cssPageStyles.cardHeader\n  }, downloadLink), /*#__PURE__*/React.createElement(Table, {\n    selectable: false,\n    className: classNames(cssPageStyles.appTable, styles.outlierAnalysisTable)\n  }, /*#__PURE__*/React.createElement(TableHeader, {\n    displaySelectAll: false,\n    adjustForCheckbox: false,\n    enableSelectAll: false\n  }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Data Element')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Value')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Z-Score')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Deviation')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Std Dev')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Mean')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Min')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Max')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.center\n  }, i18n.t('Follow-up')))), /*#__PURE__*/React.createElement(TableBody, {\n    displayRowCheckbox: false,\n    stripedRows: false\n  }, elements.map(element => /*#__PURE__*/React.createElement(ElementRow, {\n    key: element.key,\n    element: element,\n    isZScoreAlgorithm: isZScoreAlgorithm,\n    onToggleCheckbox: onToggleCheckbox\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(cssPageStyles.cardFooter, cssPageStyles.end)\n  }, downloadLink));\n};\n\nOutlierAnalyisTable.propTypes = {\n  algorithm: PropTypes.oneOf([Z_SCORE, MIN_MAX]).isRequired,\n  csvQueryStr: PropTypes.string.isRequired,\n  elements: PropTypes.array.isRequired,\n  onToggleCheckbox: PropTypes.func.isRequired\n};\nexport default OutlierAnalyisTable;","import { useAlert } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport MaxResultsAlertBar from '../../components/MaxResultsAlertBar/MaxResultsAlertBar';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { useSidebar } from '../../components/Sidebar/SidebarContext';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport threeMonthsAgo from '../../helpers/threeMonthsAgo';\nimport { apiConf } from '../../server.conf';\nimport cssPageStyles from '../Page.module.css';\nimport { Z_SCORE, DEFAULT_THRESHOLD, DEFAULT_ALGORITHM, DEFAULT_MAX_RESULTS, DEFAULT_ORDER_BY } from './constants';\nimport Form from './Form';\nimport OutlierAnalyisTable from './OutlierAnalysisTable/OutlierAnalysisTable';\n\nconst getElementDisplayName = e => {\n  let str = e.deName; // In the context of a dataElement, the default COC or AOC means \"none\".\n  // The \"default\" string is not localised, and probably won't ever be.\n  // That is why the conditions below should work in the foreseeable future.\n\n  if (e.cocName !== 'default') {\n    str += \" (\".concat(e.cocName, \")\");\n  }\n\n  if (e.aocName !== 'default') {\n    str += \" (\".concat(e.aocName, \")\");\n  }\n\n  return str;\n};\n\nconst convertElementFromApiResponse = e => ({\n  displayName: getElementDisplayName(e),\n  key: \"\".concat(e.aoc, \"-\").concat(e.coc, \"-\").concat(e.de, \"-\").concat(e.pe, \"-\").concat(e.ou),\n  marked: e.followup,\n  ...e\n});\n\nconst convertElementToToggleFollowupRequest = e => ({\n  dataElement: e.de,\n  period: e.pe,\n  orgUnit: e.ou,\n  categoryOptionCombo: e.coc || null,\n  attributeOptionCombo: e.aoc || null,\n  followup: !e.marked\n});\n\nconst useFormState = () => {\n  const [startDate, setStartDate] = useState(threeMonthsAgo());\n  const [endDate, setEndDate] = useState(new Date());\n  const [organisationUnitIds, setOrganisationUnitIds] = useState([]);\n  const [algorithm, setAlgorithm] = useState(DEFAULT_ALGORITHM);\n  const [showAdvancedZScoreFields, setShowAdvancedZScoreFields] = useState(false);\n  const [threshold, setThreshold] = useState(DEFAULT_THRESHOLD);\n  const [orderBy, setOrderBy] = useState(DEFAULT_ORDER_BY);\n  const [dataStartDate, setDataStartDate] = useState(null);\n  const [dataEndDate, setDataEndDate] = useState(null);\n  const [dataSetIds, setDataSetIds] = useState([]);\n  const [maxResults, setMaxResults] = useState(DEFAULT_MAX_RESULTS);\n\n  const handleStartDateChange = (event, date) => {\n    setStartDate(new Date(date));\n  };\n\n  const handleEndDateChange = (event, date) => {\n    setEndDate(new Date(date));\n  };\n\n  const handleAlgorithmChange = (event, index, value) => {\n    setAlgorithm(value);\n  };\n\n  const handleToggleAdvancedZScoreFields = () => {\n    if (showAdvancedZScoreFields) {\n      setDataStartDate(null);\n      setDataEndDate(null);\n      setOrderBy(DEFAULT_ORDER_BY);\n    }\n\n    setShowAdvancedZScoreFields(!showAdvancedZScoreFields);\n  };\n\n  const handleThresholdChange = (event, index, value) => {\n    setThreshold(value);\n  };\n\n  const handleOrderByChange = (event, index, value) => {\n    setOrderBy(value);\n  };\n\n  const handleDataStartDateChange = date => {\n    setDataStartDate(date && new Date(date));\n  };\n\n  const handleDataEndDateChange = date => {\n    setDataEndDate(date && new Date(date));\n  };\n\n  const handleDataSetsChange = ({\n    selected\n  }) => {\n    setDataSetIds(selected);\n  };\n\n  const handleMaxResultsChange = (event, index, value) => {\n    setMaxResults(value);\n  };\n\n  return {\n    organisationUnitIds,\n    handleOrganisationUnitChange: setOrganisationUnitIds,\n    startDate,\n    handleStartDateChange,\n    endDate,\n    handleEndDateChange,\n    algorithm,\n    handleAlgorithmChange,\n    showAdvancedZScoreFields,\n    handleToggleAdvancedZScoreFields,\n    threshold,\n    handleThresholdChange,\n    orderBy,\n    handleOrderByChange,\n    dataStartDate,\n    handleDataStartDateChange,\n    dataEndDate,\n    handleDataEndDateChange,\n    dataSetIds,\n    handleDataSetsChange,\n    maxResults,\n    handleMaxResultsChange\n  };\n};\n\nconst OutlierDetection = () => {\n  const sidebar = useSidebar();\n  const [loading, setLoading] = useState(false);\n  const [tableVisible, setTableVisible] = useState(false);\n  const [elements, setElements] = useState([]);\n  const [csvQueryStr, setCsvQueryStr] = useState(null);\n  const {\n    d2\n  } = useD2();\n  const {\n    organisationUnitIds,\n    handleOrganisationUnitChange,\n    startDate,\n    handleStartDateChange,\n    endDate,\n    handleEndDateChange,\n    algorithm,\n    handleAlgorithmChange,\n    showAdvancedZScoreFields,\n    handleToggleAdvancedZScoreFields,\n    threshold,\n    handleThresholdChange,\n    orderBy,\n    handleOrderByChange,\n    dataStartDate,\n    handleDataStartDateChange,\n    dataEndDate,\n    handleDataEndDateChange,\n    dataSetIds,\n    handleDataSetsChange,\n    maxResults,\n    handleMaxResultsChange\n  } = useFormState();\n  const noValuesFoundAlert = useAlert(i18n.t('No values found'), {\n    success: true\n  });\n  const successfulMarkAlert = useAlert(({\n    marked\n  }) => marked ? i18n.t('Marked for follow-up') : i18n.t('Unmarked for follow-up'), {\n    success: true,\n    duration: 2e3\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => (error === null || error === void 0 ? void 0 : error.message) || i18n.t('An unexpected error happened during analysis'), {\n    critical: true\n  });\n\n  const showForm = () => {\n    setTableVisible(false);\n    setCsvQueryStr(null);\n    sidebar.show();\n  };\n\n  const showTable = () => {\n    setTableVisible(true);\n    sidebar.hide();\n  };\n\n  const createQueryString = () => {\n    const querySegments = [...dataSetIds.map(id => \"ds=\".concat(id)), ...organisationUnitIds.map(id => \"ou=\".concat(id)), \"startDate=\".concat(convertDateToApiDateFormat(startDate)), \"endDate=\".concat(convertDateToApiDateFormat(endDate)), \"algorithm=\".concat(algorithm), \"maxResults=\".concat(maxResults), \"orderBy=\".concat(orderBy)];\n\n    if (algorithm === Z_SCORE) {\n      querySegments.push(\"threshold=\".concat(threshold));\n\n      if (dataStartDate) {\n        querySegments.push(\"dataStartDate=\".concat(convertDateToApiDateFormat(dataStartDate)));\n      }\n\n      if (dataEndDate) {\n        querySegments.push(\"dataEndDate=\".concat(convertDateToApiDateFormat(dataEndDate)));\n      }\n    }\n\n    return querySegments.join('&');\n  };\n\n  const handleStart = async () => {\n    const api = d2.Api.getApi();\n    const endpoint = apiConf.endpoints.outlierDetection;\n    const csvQueryStr = createQueryString();\n    setLoading(true);\n\n    try {\n      const response = await api.get(\"\".concat(endpoint, \"?\").concat(csvQueryStr));\n      const elements = response.outlierValues.map(convertElementFromApiResponse);\n      setElements(elements);\n      setCsvQueryStr(csvQueryStr);\n\n      if (elements.length > 0) {\n        showTable();\n      } else {\n        noValuesFoundAlert.show();\n      }\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n\n    setLoading(false);\n  };\n\n  const handleToggleCheckbox = async element => {\n    const currentElement = elements.find(({\n      key\n    }) => key === element.key); // TODO: Verify that this check is needed\n\n    if (!currentElement) {\n      return;\n    }\n\n    const api = d2.Api.getApi();\n\n    try {\n      await api.update(apiConf.endpoints.markOutlierDataValue, convertElementToToggleFollowupRequest(currentElement));\n      const newMarked = !element.marked;\n      setElements(elements.map(e => {\n        if (e.key === element.key) {\n          return { ...e,\n            marked: newMarked\n          };\n        } else {\n          return e;\n        }\n      }));\n      successfulMarkAlert.show({\n        marked: newMarked\n      });\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n  };\n\n  const formValid = startDate && endDate && organisationUnitIds.length > 0 && threshold && dataSetIds.length > 0;\n  const shouldShowMaxResultsAlertBar = tableVisible && elements.length >= apiConf.results.analysis.limit;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: i18n.t('Outlier Detection'),\n    onBack: tableVisible ? showForm : null\n  }), /*#__PURE__*/React.createElement(MaxResultsAlertBar, {\n    show: shouldShowMaxResultsAlertBar\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: cssPageStyles.card\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: tableVisible ? 'none' : 'block'\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleStart,\n    valid: formValid,\n    loading: loading,\n    onOrganisationUnitChange: handleOrganisationUnitChange,\n    startDate: startDate,\n    onStartDateChange: handleStartDateChange,\n    endDate: endDate,\n    onEndDateChange: handleEndDateChange,\n    algorithm: algorithm,\n    onAlgorithmChange: handleAlgorithmChange,\n    showAdvancedZScoreFields: showAdvancedZScoreFields,\n    onToggleAdvancedZScoreFields: handleToggleAdvancedZScoreFields,\n    threshold: threshold,\n    onThresholdChange: handleThresholdChange,\n    orderBy: orderBy,\n    onOrderByChange: handleOrderByChange,\n    dataStartDate: dataStartDate,\n    onDataStartDateChange: handleDataStartDateChange,\n    dataEndDate: dataEndDate,\n    onDataEndDateChange: handleDataEndDateChange,\n    dataSetIds: dataSetIds,\n    onDataSetsOnChange: handleDataSetsChange,\n    maxResults: maxResults,\n    onMaxResultsChange: handleMaxResultsChange\n  })), tableVisible && csvQueryStr && /*#__PURE__*/React.createElement(OutlierAnalyisTable, {\n    algorithm: algorithm,\n    csvQueryStr: csvQueryStr,\n    elements: elements,\n    onToggleCheckbox: handleToggleCheckbox\n  })));\n};\n\nexport default OutlierDetection;","import { useAlert } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport i18n from '@dhis2/d2-i18n';\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nexport const ALL_VALIDATION_RULE_GROUPS_ID = -1;\nexport const ALL_VALIDATION_RULE_GROUPS_OPTION = {\n  id: ALL_VALIDATION_RULE_GROUPS_ID,\n  displayName: i18n.t('[All Validation Rules]')\n};\n\nconst ValidationRuleGroupsSelect = ({\n  onChange,\n  style\n}) => {\n  const [validationRuleGroups, setValidationRuleGroups] = useState([ALL_VALIDATION_RULE_GROUPS_OPTION]);\n  const [selected, setSelected] = useState(ALL_VALIDATION_RULE_GROUPS_ID);\n  const validationRuleGroupsLoadErrorAlert = useAlert(({\n    error\n  }) => i18n.t('Error loading validation rule groups: {{error}}', {\n    nsSeparator: null,\n    error\n  }), {\n    critical: true\n  });\n  const {\n    d2\n  } = useD2();\n  useEffect(() => {\n    d2.models.validationRuleGroup.list({\n      paging: false,\n      fields: 'id,displayName'\n    }).then(validationRuleGroupsResponse => {\n      setValidationRuleGroups([ALL_VALIDATION_RULE_GROUPS_OPTION, ...validationRuleGroupsResponse.toArray()]);\n    }).catch(error => {\n      validationRuleGroupsLoadErrorAlert.show({\n        error\n      });\n    });\n  }, []);\n\n  const handleChange = (event, index, value) => {\n    setSelected(value);\n    onChange(value);\n  };\n\n  return /*#__PURE__*/React.createElement(SelectField, {\n    style: style,\n    floatingLabelText: i18n.t('Validation Rule Group'),\n    onChange: handleChange,\n    value: selected\n  }, validationRuleGroups.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n    key: item.id,\n    value: item.id,\n    primaryText: item.displayName\n  })));\n};\n\nValidationRuleGroupsSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  style: PropTypes.object\n};\nValidationRuleGroupsSelect.defaultProps = {\n  style: {}\n};\nexport default ValidationRuleGroupsSelect;","import i18n from '@dhis2/d2-i18n';\nimport { Button, Checkbox, CircularLoader } from '@dhis2/ui';\nimport DatePicker from 'material-ui/DatePicker';\nimport React from 'react';\nimport AvailableOrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\nimport ValidationRuleGroupsSelect from './ValidationRuleGroupsSelect';\n/* eslint-disable react/prop-types */\n\nconst Form = ({\n  onSubmit,\n  valid,\n  loading,\n  onOrganisationUnitChange,\n  startDate,\n  onStartDateChange,\n  endDate,\n  onEndDateChange,\n  onValidationRuleGroupChange,\n  sendNotfications,\n  onSendNotificationsChange,\n  persistNewResults,\n  onPersistNewResultsChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Parent organisation unit')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n  onChange: onOrganisationUnitChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Start Date'),\n  onChange: onStartDateChange,\n  value: startDate,\n  defaultDate: new Date(),\n  maxDate: endDate\n}), /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('End Date'),\n  onChange: onEndDateChange,\n  value: endDate,\n  defaultDate: new Date(),\n  minDate: startDate\n}), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ValidationRuleGroupsSelect, {\n  style: jsPageStyles.inputForm,\n  onChange: onValidationRuleGroupChange\n})), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Checkbox, {\n  label: i18n.t('Send Notifications'),\n  checked: sendNotfications,\n  onChange: onSendNotificationsChange\n})), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Checkbox, {\n  label: i18n.t('Persist new results'),\n  checked: persistNewResults,\n  onChange: onPersistNewResultsChange\n})))), /*#__PURE__*/React.createElement(Button, {\n  primary: true,\n  className: cssPageStyles.mainButton,\n  disabled: !valid || loading,\n  onClick: onSubmit\n}, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, i18n.t('Validating...'), /*#__PURE__*/React.createElement(CircularLoader, {\n  small: true\n})) : i18n.t('Validate')));\n\nexport default Form;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, CircularLoader, Tooltip } from '@dhis2/ui';\nimport classNames from 'classnames';\nimport { getInstance as getD2Instance } from 'd2';\nimport { Dialog, FlatButton, FontIcon } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport styles from './ValidationRulesDetails.module.css';\n\nclass ValidationRulesDetails extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      loading: false,\n      openDetails: false,\n      rule: {},\n      expression: {\n        leftSide: [],\n        rightSide: []\n      }\n    });\n\n    _defineProperty(this, \"loadDetails\", async () => {\n      const d2 = await getD2Instance();\n      const api = d2.Api.getApi();\n      const requestRule = \"\".concat(apiConf.endpoints.validationRules, \"/\").concat(this.props.validationRuleId);\n      const requestExpression = \"\".concat(apiConf.endpoints.validationRulesExpression) + \"?validationRuleId=\".concat(this.props.validationRuleId) + \"&periodId=\".concat(this.props.periodId) + \"&organisationUnitId=\".concat(this.props.organisationUnitId) + \"&attributeOptionComboId=\".concat(this.props.attributeOptionComboId);\n      this.setState({\n        loading: true\n      });\n      Promise.all([api.get(requestRule), api.get(requestExpression)]).then(([rule, expression]) => {\n        this.setState({\n          loading: false,\n          openDetails: true,\n          rule,\n          expression\n        });\n      }).catch(() => {\n        this.manageError();\n      });\n    });\n\n    _defineProperty(this, \"handleClose\", () => {\n      this.setState({\n        openDetails: false\n      });\n    });\n  }\n\n  render() {\n    // Details Actions\n    const dialogActions = [/*#__PURE__*/React.createElement(FlatButton, {\n      className: \"close-action\",\n      key: \"FB\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      label: i18n.t('Close'),\n      primary: true,\n      onClick: this.handleClose\n    })];\n    const result = /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', 'results-row', styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, i18n.t('VALIDATIONS RESULT DETAILS')), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionSubTitle)\n    }, i18n.t('VALIDATION RULE')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-3'\n    }, i18n.t('Name')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-9'\n    }, this.state.rule.displayName), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-3'\n    }, i18n.t('Description')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-9'\n    }, this.state.rule.displayDescription));\n\n    const showNoData = side => /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, side), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', cssPageStyles.center)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.noData\n    }, i18n.t('no data available'))));\n\n    const buildSection = (side, elements, classNameRow) => /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', classNameRow, styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, side), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-10', styles.sectionSubTitle)\n    }, i18n.t('DATA ELEMENT')), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-2', styles.sectionSubTitle, cssPageStyles.right)\n    }, i18n.t('VALUE')), elements.map(element => /*#__PURE__*/React.createElement(\"div\", {\n      key: element.name,\n      className: 'col-xs-12'\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'row'\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-10'\n    }, element.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-2', cssPageStyles.right)\n    }, element.value ? /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: Number(element.value)\n    }) : '-')))));\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Tooltip, {\n      content: i18n.t('Show details'),\n      openDelay: 0,\n      closeDelay: 0\n    }, /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      icon: this.state.loading ? /*#__PURE__*/React.createElement(CircularLoader, {\n        small: true\n      }) : /*#__PURE__*/React.createElement(FontIcon, {\n        className: \"material-icons\"\n      }, \"info\"),\n      disabled: this.state.loading,\n      onClick: this.loadDetails\n    })), /*#__PURE__*/React.createElement(Dialog, {\n      className: \"validation-rules-details-dialog\",\n      key: \"D\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      autoScrollBodyContent: true,\n      title: i18n.t('Validation Details'),\n      actions: dialogActions,\n      modal: true,\n      open: this.state.openDetails,\n      onRequestClose: this.handleClose\n    }, result, this.state.expression.leftSide && this.state.expression.leftSide.length > 0 ? buildSection(i18n.t('LEFT SIDE'), this.state.expression.leftSide, 'left-side-row') : showNoData(i18n.t('LEFT SIDE')), this.state.expression.rightSide && this.state.expression.rightSide.length > 0 ? buildSection(i18n.t('RIGHT SIDE'), this.state.expression.rightSide, 'right-side-row') : showNoData(i18n.t('RIGHT SIDE'))));\n  }\n\n}\n\n_defineProperty(ValidationRulesDetails, \"propTypes\", {\n  attributeOptionComboId: PropTypes.string.isRequired,\n  organisationUnitId: PropTypes.string.isRequired,\n  periodId: PropTypes.string.isRequired,\n  validationRuleId: PropTypes.string.isRequired\n});\n\nexport default ValidationRulesDetails;","import cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './TableCellContent.module.css';\n\nconst TableCellContent = ({\n  className,\n  size,\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: cx(styles.tableCellContent, className, {\n    [styles[\"tableCellContent-\".concat(size)]]: size\n  })\n}, children);\n\nTableCellContent.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  size: PropTypes.oneOf(['narrow', 'medium', 'wide'])\n};\nexport default TableCellContent;","import i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DownloadAs from '../../../components/DownloadAs/DownloadAs';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport ValidationRulesDetails from '../ValidationRulesDetails/ValidationRulesDetails';\nimport TableCellContent from './TableCellContent';\nimport styles from './ValidationRulesAnalysisTable.module.css';\n\nconst ValidationRulesAnalysisTable = ({\n  elements\n}) => {\n  const shouldDisplayAttributeOptionCombo = elements.some(e => e.attributeOptionCombo && e.attributeOptionCombo !== 'default'); // Table Rows\n\n  const rows = elements.map(element => /*#__PURE__*/React.createElement(TableRow, {\n    key: element.key\n  }, /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.organisation\n  }, /*#__PURE__*/React.createElement(TableCellContent, null, element.organisation)), shouldDisplayAttributeOptionCombo && /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.attributeOptionCombo\n  }, /*#__PURE__*/React.createElement(TableCellContent, {\n    size: \"wide\"\n  }, element.attributeOptionCombo)), /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.period\n  }, /*#__PURE__*/React.createElement(TableCellContent, null, element.period)), /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.importance\n  }, /*#__PURE__*/React.createElement(TableCellContent, null, element.importance)), /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.validationRule\n  }, /*#__PURE__*/React.createElement(TableCellContent, {\n    size: 'medium'\n  }, element.validationRule)), /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.leftValue\n  }, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n    value: element.leftValue\n  }))), /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.operator\n  }, /*#__PURE__*/React.createElement(TableCellContent, {\n    className: styles.operator\n  }, element.operator)), /*#__PURE__*/React.createElement(TableRowColumn, {\n    title: element.rightValue\n  }, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n    value: element.rightValue\n  }))), /*#__PURE__*/React.createElement(TableRowColumn, null, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(ValidationRulesDetails, {\n    validationRuleId: element.validationRuleId,\n    periodId: element.periodId,\n    organisationUnitId: element.organisationUnitId,\n    attributeOptionComboId: element.attributeOptionComboId\n  })))));\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: cssPageStyles.cardHeader\n  }, /*#__PURE__*/React.createElement(DownloadAs, {\n    endpoint: apiConf.endpoints.validationRulesReport\n  })), /*#__PURE__*/React.createElement(Table, {\n    selectable: false,\n    className: classNames(cssPageStyles.appTable, styles.validationTable),\n    fixedHeader: false,\n    bodyStyle: {\n      overflowX: 'auto'\n    }\n  }, /*#__PURE__*/React.createElement(TableHeader, {\n    displaySelectAll: false,\n    adjustForCheckbox: false,\n    enableSelectAll: false\n  }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Organisation Unit')\n  }, i18n.t('Organisation Unit')), shouldDisplayAttributeOptionCombo && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Attribute Option Combination')\n  }, i18n.t('Attr. Opt. Combo')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Period')\n  }, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Importance')\n  }, i18n.t('Importance')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Validation Rule')\n  }, i18n.t('Validation Rule')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Value')\n  }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Operator')\n  }, i18n.t('Operator')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Value')\n  }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    title: i18n.t('Details')\n  }, i18n.t('Details')))), /*#__PURE__*/React.createElement(TableBody, {\n    displayRowCheckbox: false,\n    stripedRows: false\n  }, rows)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(cssPageStyles.cardFooter, cssPageStyles.end)\n  }, /*#__PURE__*/React.createElement(DownloadAs, {\n    endpoint: apiConf.endpoints.validationRulesReport\n  })));\n};\n\nValidationRulesAnalysisTable.propTypes = {\n  elements: PropTypes.array.isRequired\n};\nexport default ValidationRulesAnalysisTable;","import { useAlert } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Card } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport MaxResultsAlertBar from '../../components/MaxResultsAlertBar/MaxResultsAlertBar';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { useSidebar } from '../../components/Sidebar/SidebarContext';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport threeMonthsAgo from '../../helpers/threeMonthsAgo';\nimport { apiConf } from '../../server.conf';\nimport cssPageStyles from '../Page.module.css';\nimport Form from './Form';\nimport { ALL_VALIDATION_RULE_GROUPS_ID } from './ValidationRuleGroupsSelect';\nimport ValidationRulesAnalysisTable from './ValidationRulesAnalysisTable/ValidationRulesAnalysisTable';\n\nconst generateElementKey = e => \"\".concat(e.validationRuleId, \"-\").concat(e.periodId, \"-\").concat(e.organisationUnitId, \"-\").concat(e.attributeOptionComboId);\n\nconst convertElementFromApiResponse = e => ({\n  key: generateElementKey(e),\n  validationRuleId: e.validationRuleId,\n  attributeOptionCombo: e.attributeOptionComboDisplayName,\n  attributeOptionComboId: e.attributeOptionComboId,\n  organisation: e.organisationUnitDisplayName,\n  organisationUnitId: e.organisationUnitId,\n  period: e.periodDisplayName,\n  periodId: e.periodId,\n  importance: e.importance,\n  validationRule: e.validationRuleDescription,\n  leftValue: e.leftSideValue,\n  operator: e.operator,\n  rightValue: e.rightSideValue\n});\n\nconst useFormState = () => {\n  const [organisationUnitId, setOrganisationUnitId] = useState(null);\n  const [startDate, setStartDate] = useState(threeMonthsAgo());\n  const [endDate, setEndDate] = useState(new Date());\n  const [validationRuleGroupId, setValidationRuleGroupId] = useState(ALL_VALIDATION_RULE_GROUPS_ID);\n  const [sendNotfications, setSendNotifications] = useState(false);\n  const [persistNewResults, setPersistNewResults] = useState(false);\n\n  const handleStartDateChange = (event, date) => {\n    setStartDate(new Date(date));\n  };\n\n  const handleEndDateChange = (event, date) => {\n    setEndDate(new Date(date));\n  };\n\n  const handleSendNotificationsChange = ({\n    checked\n  }) => {\n    setSendNotifications(checked);\n  };\n\n  const handlePersistNewResultsChange = ({\n    checked\n  }) => {\n    setPersistNewResults(checked);\n  };\n\n  return {\n    organisationUnitId,\n    handleOrganisationUnitChange: setOrganisationUnitId,\n    startDate,\n    handleStartDateChange,\n    endDate,\n    handleEndDateChange,\n    validationRuleGroupId,\n    handleValidationRuleGroupChange: setValidationRuleGroupId,\n    sendNotfications,\n    handleSendNotificationsChange,\n    persistNewResults,\n    handlePersistNewResultsChange\n  };\n};\n\nconst ValidationRulesAnalysis = ({\n  sectionKey\n}) => {\n  const sidebar = useSidebar();\n  const [loading, setLoading] = useState(false);\n  const [tableVisible, setTableVisible] = useState(false);\n  const [elements, setElements] = useState([]);\n  const {\n    d2\n  } = useD2();\n  const {\n    organisationUnitId,\n    handleOrganisationUnitChange,\n    startDate,\n    handleStartDateChange,\n    endDate,\n    handleEndDateChange,\n    validationRuleGroupId,\n    handleValidationRuleGroupChange,\n    sendNotfications,\n    handleSendNotificationsChange,\n    persistNewResults,\n    handlePersistNewResultsChange\n  } = useFormState();\n  const validationPassedAlert = useAlert(i18n.t('Validation passed successfully'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => (error === null || error === void 0 ? void 0 : error.message) || i18n.t('An unexpected error happened during analysis'), {\n    critical: true\n  });\n\n  const showForm = () => {\n    setTableVisible(false);\n    sidebar.show();\n  };\n\n  const showTable = () => {\n    setTableVisible(true);\n    sidebar.hide();\n  };\n\n  const handleValidate = async () => {\n    const api = d2.Api.getApi();\n    const request = {\n      startDate: convertDateToApiDateFormat(startDate),\n      endDate: convertDateToApiDateFormat(endDate),\n      ou: organisationUnitId,\n      notification: sendNotfications,\n      persist: persistNewResults\n    };\n\n    if (validationRuleGroupId !== ALL_VALIDATION_RULE_GROUPS_ID) {\n      request.vrg = validationRuleGroupId;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await api.post(apiConf.endpoints.validationRulesAnalysis, request);\n      const elements = response.map(convertElementFromApiResponse);\n      setElements(elements);\n\n      if (elements.length > 0) {\n        showTable();\n      } else {\n        validationPassedAlert.show();\n      }\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n\n    setLoading(false);\n  };\n\n  const shouldShowMaxResultsAlertBar = tableVisible && elements.length >= apiConf.results.analysis.limit;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n    title: i18n.t('Validation Rule Analysis'),\n    onBack: tableVisible ? showForm : null,\n    sectionKey: sectionKey\n  }), /*#__PURE__*/React.createElement(MaxResultsAlertBar, {\n    show: shouldShowMaxResultsAlertBar\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: cssPageStyles.card\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: tableVisible ? 'none' : 'block'\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleValidate,\n    valid: startDate && endDate && organisationUnitId,\n    loading: loading,\n    onOrganisationUnitChange: handleOrganisationUnitChange,\n    startDate: startDate,\n    onStartDateChange: handleStartDateChange,\n    endDate: endDate,\n    onEndDateChange: handleEndDateChange,\n    onValidationRuleGroupChange: handleValidationRuleGroupChange,\n    sendNotfications: sendNotfications,\n    onSendNotificationsChange: handleSendNotificationsChange,\n    persistNewResults: persistNewResults,\n    onPersistNewResultsChange: handlePersistNewResultsChange\n  })), tableVisible && /*#__PURE__*/React.createElement(ValidationRulesAnalysisTable, {\n    elements: elements\n  })));\n};\n\nValidationRulesAnalysis.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default ValidationRulesAnalysis;","import i18n from '@dhis2/d2-i18n';\nimport FollowUpAnalysis from './FollowUpAnalysis/FollowUpAnalysis';\nimport OutlierDetection from './OutlierDetection/OutlierDetection';\nimport ValidationRulesAnalysis from './ValidationRulesAnalysis/ValidationRulesAnalysis';\nexport const sections = [{\n  key: 'validationRulesAnalysis',\n  path: '/validation-rules-analysis',\n  component: ValidationRulesAnalysis,\n  info: {\n    label: i18n.t('Validation Rule Analysis'),\n    icon: 'done_all',\n    description: i18n.t('Run validation rules in order to unveil anomalies and errors in the data in the database.'),\n    actionText: i18n.t('Run Validation'),\n    docs: 'validation_rule_analysis'\n  }\n}, {\n  key: 'outlierDetection',\n  path: '/outlier-detection',\n  component: OutlierDetection,\n  info: {\n    label: i18n.t('Outlier detection'),\n    icon: 'show_chart',\n    description: i18n.t('Analyze potential outlier values based on standard deviations or min-max values. Outlier values can be examined and marked for follow-up.'),\n    actionText: i18n.t('Analyze'),\n    docs: 'outlier_detection'\n  }\n}, {\n  key: 'followUpAnalysis',\n  path: '/follow-up-analysis',\n  component: FollowUpAnalysis,\n  info: {\n    label: i18n.t('Follow-Up Analysis'),\n    icon: 'description',\n    description: i18n.t('View or edit data values marked for further follow-up during data entry or analysis.'),\n    actionText: i18n.t('View Data Values'),\n    docs: 'follow_up_analysis'\n  }\n}];\nexport const getDocsKeyForSection = sectionKey => {\n  var _sections$find;\n\n  return ((_sections$find = sections.find(section => section.key === sectionKey)) === null || _sections$find === void 0 ? void 0 : _sections$find.info.docs) || '';\n};\nexport default sections;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Card } from '@dhis2/ui';\nimport classNames from 'classnames';\nimport FontIcon from 'material-ui/FontIcon';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './GridSection.module.css';\n\nclass GridSection extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(Link, {\n      className: styles.link,\n      to: this.props.section.path\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: classNames('section', styles.gridElement)\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', styles.gridTitleBar)\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: classNames('section-title', styles.gridTitleDescription)\n    }, this.props.section.info.label), /*#__PURE__*/React.createElement(FontIcon, {\n      className: classNames('material-icons', 'icon', styles.gridIcon)\n    }, this.props.section.info.icon)), /*#__PURE__*/React.createElement(\"p\", {\n      className: classNames('section-description', 'row', styles.gridDescription)\n    }, this.props.section.info.description)), /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-action-text', 'row', styles.gridActionText)\n    }, this.props.section.info.actionText)));\n  }\n\n}\n\n_defineProperty(GridSection, \"propTypes\", {\n  section: PropTypes.shape({\n    info: PropTypes.shape({\n      actionText: PropTypes.string,\n      description: PropTypes.string,\n      icon: PropTypes.string,\n      label: PropTypes.string\n    }),\n    key: PropTypes.string,\n    path: PropTypes.string\n  }).isRequired\n});\n\nexport default GridSection;","import classNames from 'classnames';\nimport React from 'react';\nimport { sections } from '../sections.conf';\nimport GridSection from './grid-section/GridSection';\nimport styles from './Overview.module.css';\n\nconst Overview = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, sections.map(section => /*#__PURE__*/React.createElement(\"div\", {\n  key: section.key,\n  className: classNames('col-sm-12 col-md-6 col-lg-4', styles.gridContainer)\n}, /*#__PURE__*/React.createElement(GridSection, {\n  section: section\n}))));\n\nexport default Overview;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\n\nclass NoMatch extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, \"No match for \", /*#__PURE__*/React.createElement(\"code\", null, this.props.location.pathname)));\n  }\n\n}\n\n_defineProperty(NoMatch, \"propTypes\", {\n  location: PropTypes.object.isRequired\n});\n\nexport default NoMatch;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Overview from '../../pages/Overview/Overview';\nimport { sections } from '../../pages/sections.conf';\nimport NoMatch from './NoMatch';\n\nconst AppRouter = () => {\n  const routes = sections.map(section => {\n    const routeRender = () => {\n      const Page = section.component;\n      return /*#__PURE__*/React.createElement(Page, {\n        sectionKey: section.key\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(Route, {\n      key: section.key,\n      exact: true,\n      path: section.path,\n      render: routeRender\n    });\n  });\n  routes.push( /*#__PURE__*/React.createElement(Route, {\n    key: \"overview\",\n    exact: true,\n    path: \"/\",\n    component: Overview\n  }));\n  /* No Match Route */\n\n  routes.push( /*#__PURE__*/React.createElement(Route, {\n    key: \"no-match-route\",\n    component: NoMatch\n  }));\n  return /*#__PURE__*/React.createElement(\"main\", null, /*#__PURE__*/React.createElement(Switch, null, routes));\n};\n\nexport default AppRouter;","import { PropTypes } from '@dhis2/prop-types';\nimport { Menu, MenuItem } from '@dhis2/ui';\nimport React from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { sections } from '../../pages/sections.conf';\nimport styles from './Sidebar.module.css';\n\nconst SidebarItem = ({\n  label,\n  path\n}) => {\n  const history = useHistory();\n  const isActive = !!useRouteMatch(path);\n\n  const navigateToPath = () => history.push(path);\n\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: styles.sidebarItem,\n    onClick: navigateToPath,\n    active: isActive,\n    label: label\n  });\n};\n\nSidebarItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired\n};\n\nconst Sidebar = () => /*#__PURE__*/React.createElement(Menu, null, sections.map(section => /*#__PURE__*/React.createElement(SidebarItem, {\n  key: section.key,\n  label: section.info.label,\n  path: section.path\n})));\n\nexport default Sidebar;","import classnames from 'classnames';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AppRouter from '../AppRouter/AppRouter';\nimport Sidebar from '../Sidebar/Sidebar';\nimport { SidebarProvider } from '../Sidebar/SidebarContext';\nimport styles from './App.module.css';\n\nconst useSidebar = () => {\n  const [visible, setVisible] = useState(true);\n  return {\n    visible,\n    show: () => {\n      setVisible(true);\n    },\n    hide: () => {\n      setVisible(false);\n    }\n  };\n};\n\nconst App = () => {\n  const sidebar = useSidebar();\n  const history = useHistory();\n  useEffect(() => {\n    // Restore sidebar when user visits different page (which could be\n    // triggered by back button)\n    history.listen(() => {\n      sidebar.show();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames(styles.container, {\n      [styles.containerWithSidebar]: sidebar.visible\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.sidebar\n  }, /*#__PURE__*/React.createElement(Sidebar, null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.content\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contentWrapper\n  }, /*#__PURE__*/React.createElement(SidebarProvider, {\n    value: sidebar\n  }, /*#__PURE__*/React.createElement(AppRouter, null)))));\n};\n\nexport default App;","import { blue100, blue700, grey100, grey400, orange500, orangeA200, darkBlack, white } from 'material-ui/styles/colors';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport Spacing from 'material-ui/styles/spacing';\nimport { fade } from 'material-ui/utils/colorManipulator';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: '#004ba0',\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: orangeA200,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default muiTheme;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport { CssVariables } from '@dhis2/ui';\nimport { MuiThemeProvider } from 'material-ui/styles';\nimport React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport 'material-design-icons-iconfont';\nimport App from './components/App/App';\nimport appTheme from './theme';\nimport './grid.css';\nimport './locales';\n\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2();\n\n  if (!d2) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true\n  }), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    muiTheme: appTheme\n  }, /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(App, null))));\n};\n\nexport default AppWrapper;"],"sourceRoot":""}