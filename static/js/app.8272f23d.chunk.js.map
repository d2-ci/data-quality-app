{"version":3,"sources":["D2App/pages/Page.module.css","D2App/components/MaxResultsAlertBar/MaxResultsAlertBar.module.css","D2App/components/PageHeader/PageHeader.module.css","D2App/components/DownloadAs/DownloadAs.module.css","D2App/pages/FollowUpAnalysis/follow-up-analysis-table/FollowUpAnalysisTable.module.css","D2App/components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree.module.css","D2App/pages/OutlierDetection/Form.module.css","D2App/pages/OutlierDetection/outlier-analysis-table/OutlierAnalysisTable.module.css","D2App/pages/ValidationRulesAnalysis/ValidationRulesDetails/ValidationRulesDetails.module.css","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/TableCellContent.module.css","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/ValidationRulesAnalysisTable.module.css","D2App/pages/Overview/grid-section/GridSection.module.css","D2App/pages/Overview/Overview.module.css","D2App/components/Sidebar/Sidebar.module.css","D2App/components/App/App.module.css","D2App/components/MaxResultsAlertBar/MaxResultsAlertBar.js","D2App/components/DocsLink/DocsLink.js","D2App/components/PageHeader/PageHeader.js","D2App/helpers/dates.js","D2App/helpers/threeMonthsAgo.js","D2App/server.conf.js","D2App/pages/Page.js","D2App/components/DownloadAs/DownloadAs.js","D2App/components/FormattedNumber/FormattedNumber.js","D2App/pages/PageStyles.js","D2App/pages/FollowUpAnalysis/follow-up-analysis-table/FollowUpAnalysisTable.js","D2App/components/AvailableDatasetsSelect/AvailableDatasetsSelect.js","D2App/components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree.js","D2App/pages/FollowUpAnalysis/Form.js","D2App/pages/FollowUpAnalysis/FollowUpAnalysis.js","D2App/pages/OutlierDetection/constants.js","D2App/pages/OutlierDetection/Form.js","D2App/pages/OutlierDetection/outlier-analysis-table/OutlierAnalysisTable.js","D2App/pages/OutlierDetection/OutlierDetection.js","D2App/pages/ValidationRulesAnalysis/ValidationRuleGroupsSelect.js","D2App/pages/ValidationRulesAnalysis/Form.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesDetails/ValidationRulesDetails.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/TableCellContent.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysisTable/ValidationRulesAnalysisTable.js","D2App/pages/ValidationRulesAnalysis/ValidationRulesAnalysis.js","D2App/pages/sections.conf.js","D2App/pages/Overview/grid-section/GridSection.js","D2App/pages/Overview/Overview.js","D2App/components/AppRouter/NoMatch.js","D2App/components/AppRouter/AppRouter.js","D2App/components/Sidebar/Sidebar.js","D2App/components/App/App.js","D2App/theme.js","D2App/locales/index.js","D2App/App.js"],"names":["module","exports","MaxResultsAlertBar","show","React","createElement","Paper","className","styles","alertBar","i18n","t","DocsLink","sectionKey","serverVersion","useConfig","docsVersion","major","minor","tag","concat","getDocsVersion","docsKey","getDocsKeyForSection","IconButton","iconStyle","color","href","target","rel","tooltip","tooltipPosition","iconClassName","PageHeader","title","onBack","header","onClick","style","display","state","showTable","FontIcon","headerTitle","convertDateToApiDateFormat","date","toISOString","split","threeMonthsAgo","Date","setMonth","getMonth","apiConf","endpoints","validationRulesAnalysis","validationRulesExpression","validationRulesReport","validationRules","outlierDetection","folloupAnalysis","markOutlierDataValue","markFollowUpDataValue","reportAnalysis","results","analysis","limit","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Page","Component","UNSAFE_componentWillMount","this","pageMounted","context","currentSection","props","updateAppState","componentWillUnmount","isPageMounted","manageError","error","console","PropTypes","string","isRequired","d2","object","func","DownloadAs","PureComponent","getHrefs","baseUrl","Api","getApi","endpoint","fileTypes","timestamp","now","queryStr","reduce","acc","type","render","hrefs","downloadAs","includes","pdf","download","xls","csv","arrayOf","oneOf","FormattedNumber","minimumFractionDigits","maximumFractionDigits","Intl","NumberFormat","language","format","defaultProps","pageStyles","inputForm","width","iconColor","fill","cursorStyle","cursor","FollowUpAnalysisTable","element1","element2","attributeOptionComboId","categoryOptionComboId","periodId","organisationUnitId","dataElementId","constructor","super","showComment","comment","unfollow","bind","closeCommentDialog","unfollowups","i","elements","length","e","marked","push","convertElementToUnFollowupRequest","setState","updateCheckbox","element","toggleCheckbox","oneChecked","commentDialogActions","FlatButton","label","primary","rows","map","TableRow","TableRowColumn","dataElement","organisation","period","cssPageStyles","right","min","max","centerFlex","checkboxWrapper","Checkbox","checked","onCheck","jsPageStyles","center","Dialog","actions","modal","open","onRequestClose","id","cardHeader","Table","selectable","classNames","appTable","followUpAnalysisTable","TableHeader","displaySelectAll","adjustForCheckbox","enableSelectAll","TableHeaderColumn","TableBody","displayRowCheckbox","stripedRows","cardFooter","spaceBetween","RaisedButton","disabled","loading","array","bool","sourceId","generateElementKey","dataElementName","sourceName","name","Number","parseFloat","followup","AvailableDatasetsSelect","dataSets","loadDatasets","models","dataSet","list","paging","fields","componentDidMount","then","dataSetsResponse","toArray","catch","Help","MultiSelect","filterable","noMatchText","onChange","selected","item","MultiSelectOption","displayName","CircularLoader","allRootQuery","allRoots","resource","params","filter","query","data","AvailableOrganisationUnitsTree","multiselect","setSelected","useState","Map","organisationUnits","useDataQuery","loadingAll","dataAll","errorAll","refetch","lazy","useEffect","_data$data","authorities","useUserOrganisationUnits","handleChange","path","s","newSelected","set","delete","values","selectedId","has","wrapper","OrganisationUnitTree","keys","roots","ou","singleSelection","FollowUpButton","noValuesFoundAlert","useAlert","success","errorAlert","message","critical","Button","mainButton","async","Form","onSubmit","submitDisabled","dataSetIds","onDataSetsChange","onOrganisationUnitChange","startDate","onStartDateChange","endDate","onEndDateChange","Fragment","formLabel","DatePicker","textFieldStyle","floatingLabelText","defaultDate","maxDate","minDate","FollowUpAnalysis","pageState","api","request","ds","response","post","convertElementFromApiResponse","event","followups","areElementsTheSame","UNSAFE_componentWillReceiveProps","nextProps","nextState","forEach","property","STATE_PROPERTIES","isFormValid","isActionDisabled","handleBack","showMaxResultsAlertBar","Card","card","getFollowUpList","handleDataSetsChange","handleOrganisationUnitChange","startDateOnChange","endDateOnChange","Z_SCORE","DEFAULT_SORT_BY","StartButton","ThresholdField","threshold","SelectField","MenuItem","primaryText","ZScoreFields","showAdvancedZScoreFields","onToggleAdvancedZScoreFields","orderBy","onOrderByChange","dataStartDate","dataEndDate","onDataStartDateChange","onDataEndDateChange","small","secondary","toggleBtn","optionalDatepickerContainer","algorithm","onAlgorithmChange","onThresholdChange","onDataSetsOnChange","maxResults","onMaxResultsChange","OutlierAnalyisTable","csvQueryStr","successfulMarkAlert","isZScoreAlgorithm","downloadLink","tableRows","pe","ouName","zScore","absDev","stdDev","mean","lowerBound","upperBound","outlierAnalysisTable","end","getDisplayName","str","deName","cocName","aocName","aoc","coc","de","convertElementToToggleFollowupRequest","orgUnit","categoryOptionCombo","attributeOptionCombo","contextTypes","OutlierDetection","createQueryString","get","outlierValues","index","organisationUnitIds","currentElementIndex","findIndex","currentElement","update","updatedElement","slice","querySegments","join","start","toggleShowAdvancedZScoreFields","handleAlgorithmChange","handleThresholdChange","handleOrderByChange","handleDataStartDateChange","handleDataEndDateChange","handleMaxResultsChange","handleStartDateChange","handleEndDateChange","ALL_VALIDATION_RULE_GROUPS_OPTION","ValidationRuleGroupsSelect","validationRuleGroups","translatedAllValidationRulesOption","validationRuleGroup","validationRuleGroupsResponse","selectedName","ValidateButton","validationPassedAlert","onValidationRuleGroupChange","sendNotfications","onSendNotificationsChange","persistNewResults","onPersistNewResultsChange","ValidationRulesDetails","openDetails","rule","expression","leftSide","rightSide","loadDetails","handleClose","ValidationRulesAnalysis","requestRule","validationRuleId","requestExpression","Promise","all","dialogActions","result","sectionBox","sectionTitle","sectionSubTitle","displayDescription","showNoData","side","noData","buildSection","classNameRow","autoScrollBodyContent","TableCellContent","size","children","cx","tableCellContent","ValidationRulesAnalysisTable","shouldDisplayAttributeOptionCombo","some","importance","validationRule","leftValue","operator","rightValue","validationTable","fixedHeader","bodyStyle","overflowX","notification","persist","validationRuleGroupId","vrg","back","validate","handleValidationRuleGroupChange","handleSendNotificationsChange","handlePersistNewResultsChange","attributeOptionComboDisplayName","organisationUnitDisplayName","periodDisplayName","validationRuleDescription","leftSideValue","rightSideValue","sections","component","info","icon","description","actionText","docs","_sections$find","find","section","GridSection","Link","link","to","gridElement","gridTitleBar","gridTitleDescription","gridIcon","gridDescription","gridActionText","shape","Overview","gridContainer","NoMatch","location","pathname","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","AppRouter","routes","Route","exact","Switch","SidebarItem","history","useHistory","isActive","useRouteMatch","sidebarItem","active","Sidebar","Menu","App","appState","getChildContext","_this$state$pageState","showSidebar","container","sidebar","content","contentWrapper","withRouter","theme","spacing","Spacing","fontFamily","palette","primary1Color","primary2Color","blue700","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","orangeA200","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","namespace","addResources","arTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppWrapper","useD2","CssVariables","spacers","colors","MuiThemeProvider","appTheme","HashRouter"],"mappings":"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","file":"static/js/app.8272f23d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Page_card__2YJUQ\",\"mainButton\":\"Page_mainButton__3ZqEW\",\"appTable\":\"Page_appTable__jOHgy\",\"right\":\"Page_right__2IgFz\",\"center\":\"Page_center__2X94F\",\"centerFlex\":\"Page_centerFlex__7_iZ7\",\"pageHeader\":\"Page_pageHeader__HmeVS\",\"cardHeader\":\"Page_cardHeader__2RRDB\",\"cardFooter\":\"Page_cardFooter__IQAZb\",\"spaceBetween\":\"Page_spaceBetween__13D7y\",\"end\":\"Page_end__uY7Dd\",\"formLabel\":\"Page_formLabel__1UsDH\",\"checkboxWrapper\":\"Page_checkboxWrapper__JAojq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alertBar\":\"MaxResultsAlertBar_alertBar__2GmaS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"PageHeader_header__1jM0V\",\"headerTitle\":\"PageHeader_headerTitle__1KEEp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"downloadAs\":\"DownloadAs_downloadAs__2llIV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followUpAnalysisTable\":\"FollowUpAnalysisTable_followUpAnalysisTable__2U8d0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AvailableOrganisationUnitsTree_wrapper__1GxRZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleBtn\":\"Form_toggleBtn__1ahRY\",\"optionalDatepickerContainer\":\"Form_optionalDatepickerContainer__3epJv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outlierAnalysisTable\":\"OutlierAnalysisTable_outlierAnalysisTable__2PyJS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionBox\":\"ValidationRulesDetails_sectionBox__2d5TC\",\"sectionTitle\":\"ValidationRulesDetails_sectionTitle__2XPK4\",\"sectionSubTitle\":\"ValidationRulesDetails_sectionSubTitle__2ipEu\",\"noData\":\"ValidationRulesDetails_noData__2SXYM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableCellContent\":\"TableCellContent_tableCellContent__1s3wz\",\"tableCellContent-narrow\":\"TableCellContent_tableCellContent-narrow__2zlhv\",\"tableCellContent-medium\":\"TableCellContent_tableCellContent-medium__2sEcd\",\"tableCellContent-wide\":\"TableCellContent_tableCellContent-wide__WtVIn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"validationTable\":\"ValidationRulesAnalysisTable_validationTable__3-ha4\",\"operator\":\"ValidationRulesAnalysisTable_operator__p9vPK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"GridSection_link__1wOeA\",\"gridElement\":\"GridSection_gridElement__13uMv\",\"gridTitleBar\":\"GridSection_gridTitleBar__2yKRT\",\"gridTitleDescription\":\"GridSection_gridTitleDescription__1MJBK\",\"gridIcon\":\"GridSection_gridIcon__1Zrzs\",\"gridDescription\":\"GridSection_gridDescription__9-Td7\",\"gridActionText\":\"GridSection_gridActionText__frHQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"Overview_gridContainer__1j9lQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarItem\":\"Sidebar_sidebarItem__3GXPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1rmxQ\",\"sidebar\":\"App_sidebar__LDzrw\",\"content\":\"App_content__3ZxSB\",\"contentWrapper\":\"App_contentWrapper__rsw_W\"};","import i18n from '@dhis2/d2-i18n';\nimport { Paper } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './MaxResultsAlertBar.module.css';\n\nconst MaxResultsAlertBar = ({\n  show\n}) => {\n  if (!show) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Paper, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.alertBar\n  }, i18n.t('More than 500 values found, please narrow the search to see all')));\n};\n\nMaxResultsAlertBar.propTypes = {\n  show: PropTypes.bool.isRequired\n};\nexport default MaxResultsAlertBar;","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { IconButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getDocsKeyForSection } from '../../pages/sections.conf';\n\nconst getDocsVersion = ({\n  major,\n  minor,\n  tag\n}) => {\n  if (tag === 'SNAPSHOT') {\n    return 'master';\n  }\n\n  return \"\".concat(major).concat(minor);\n};\n\nconst DocsLink = ({\n  sectionKey\n}) => {\n  const {\n    serverVersion\n  } = useConfig();\n  const docsVersion = getDocsVersion(serverVersion);\n  const docsKey = getDocsKeyForSection(sectionKey);\n  return /*#__PURE__*/React.createElement(IconButton, {\n    className: \"helper-icon\",\n    iconStyle: {\n      color: '#276696'\n    },\n    href: \"https://docs.dhis2.org/en/use/user-guides/dhis-core-version-\".concat(docsVersion, \"/collecting-data/data-quality.html#\").concat(docsKey),\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    tooltip: i18n.t('Open user guide'),\n    tooltipPosition: \"bottom-center\",\n    iconClassName: \"material-icons\"\n  }, \"help\");\n};\n\nDocsLink.propTypes = {\n  sectionKey: PropTypes.string.isRequired\n};\nexport default DocsLink;","import { FontIcon, IconButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DocsLink from '../DocsLink/DocsLink';\nimport styles from './PageHeader.module.css';\n\nconst PageHeader = ({\n  title,\n  onBack,\n  sectionKey\n}) => /*#__PURE__*/React.createElement(\"header\", {\n  className: styles.header\n}, onBack && /*#__PURE__*/React.createElement(IconButton, {\n  onClick: this.onBack,\n  style: {\n    display: this.state.showTable ? 'inline' : 'none'\n  }\n}, /*#__PURE__*/React.createElement(FontIcon, {\n  className: 'material-icons'\n}, \"arrow_back\")), /*#__PURE__*/React.createElement(\"h1\", {\n  className: styles.headerTitle\n}, title), sectionKey && /*#__PURE__*/React.createElement(DocsLink, {\n  sectionKey: sectionKey\n}));\n\nPageHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionKey: PropTypes.string,\n  onBack: PropTypes.func\n};\nexport default PageHeader;","// get Date from YYYY-MM-DDTHH:mm:ss.mmmm\nexport const convertDateToApiDateFormat = date => date.toISOString().split('T')[0];\nexport default convertDateToApiDateFormat;","const threeMonthsAgo = () => {\n  const date = new Date();\n  date.setMonth(date.getMonth() - 3);\n  return date;\n};\n\nexport default threeMonthsAgo;","export const apiConf = {\n  endpoints: {\n    validationRulesAnalysis: '/dataAnalysis/validationRules',\n    validationRulesExpression: '/dataAnalysis/validationRulesExpression',\n    validationRulesReport: '/dataAnalysis/validationRules/report',\n    validationRules: '/validationRules',\n    outlierDetection: '/outlierDetection',\n    folloupAnalysis: '/dataAnalysis/followup',\n    markOutlierDataValue: '/dataValues/followup',\n    markFollowUpDataValue: '/dataAnalysis/followup/mark',\n    reportAnalysis: '/dataAnalysis/report'\n  },\n  results: {\n    analysis: {\n      limit: 500\n    }\n  }\n};\nexport default apiConf;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\n\nclass Page extends Component {\n  UNSAFE_componentWillMount() {\n    this.pageMounted = true; // update section on side bar\n\n    if (this.context.currentSection !== this.props.sectionKey) {\n      this.context.updateAppState({\n        currentSection: this.props.sectionKey\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.pageMounted = false;\n  }\n\n  isPageMounted() {\n    return this.pageMounted;\n  }\n\n  manageError(error) {\n    console.error(error);\n  }\n\n}\n\n_defineProperty(Page, \"propTypes\", {\n  sectionKey: PropTypes.string.isRequired\n});\n\n_defineProperty(Page, \"contextTypes\", {\n  d2: PropTypes.object,\n  currentSection: PropTypes.string,\n  updateAppState: PropTypes.func\n});\n\nexport default Page;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport styles from './DownloadAs.module.css';\n\nclass DownloadAs extends PureComponent {\n  getHrefs() {\n    const {\n      baseUrl\n    } = this.context.d2.Api.getApi();\n    const {\n      endpoint,\n      fileTypes\n    } = this.props;\n    const timestamp = Date.now(); // The new outlierDetection endpoint produces the correct report\n    // based on query params, but older endpoints only take a timestamp\n\n    const queryStr = this.props.queryStr || \"t=\".concat(timestamp);\n    return fileTypes.reduce((acc, type) => {\n      acc[type] = \"\".concat(baseUrl).concat(endpoint, \".\").concat(type, \"?\").concat(queryStr);\n      return acc;\n    }, {});\n  }\n\n  render() {\n    const {\n      fileTypes\n    } = this.props;\n    const hrefs = this.getHrefs();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.downloadAs\n    }, fileTypes.includes('pdf') && /*#__PURE__*/React.createElement(\"a\", {\n      href: hrefs.pdf,\n      download: true\n    }, i18n.t('Download as PDF')), fileTypes.includes('xls') && /*#__PURE__*/React.createElement(\"a\", {\n      href: hrefs.xls,\n      download: true\n    }, i18n.t('Download as XLS')), fileTypes.includes('csv') && /*#__PURE__*/React.createElement(\"a\", {\n      href: hrefs.csv,\n      download: true\n    }, i18n.t('Download as CSV')));\n  }\n\n}\n\n_defineProperty(DownloadAs, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\n_defineProperty(DownloadAs, \"propTypes\", {\n  endpoint: PropTypes.string.isRequired,\n  fileTypes: PropTypes.arrayOf(PropTypes.oneOf(['pdf', 'xls', 'csv'])),\n  queryStr: PropTypes.string\n});\n\n_defineProperty(DownloadAs, \"defaultProps\", {\n  fileTypes: ['pdf', 'xls', 'csv']\n});\n\nexport default DownloadAs;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst FormattedNumber = ({\n  value,\n  minimumFractionDigits,\n  maximumFractionDigits\n}) => /*#__PURE__*/React.createElement(\"span\", null, new Intl.NumberFormat(i18n.language, {\n  minimumFractionDigits,\n  maximumFractionDigits\n}).format(value));\n\nFormattedNumber.defaultProps = {\n  maximumFractionDigits: 2,\n  minimumFractionDigits: 2\n};\nFormattedNumber.propTypes = {\n  value: PropTypes.number.isRequired,\n  maximumFractionDigits: PropTypes.number,\n  minimumFractionDigits: PropTypes.number\n};\nexport default FormattedNumber;","const pageStyles = {\n  inputForm: {\n    width: '100%'\n  },\n  iconColor: {\n    fill: '#ff9900'\n  },\n  cursorStyle: {\n    cursor: 'pointer'\n  }\n};\nexport default pageStyles;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Checkbox, FontIcon, RaisedButton, Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn, IconButton, Dialog, FlatButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport DownloadAs from '../../../components/DownloadAs/DownloadAs';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport jsPageStyles from '../../PageStyles';\nimport styles from './FollowUpAnalysisTable.module.css';\n\nclass FollowUpAnalysisTable extends Component {\n  static areElementsTheSame(element1, element2) {\n    return element1.attributeOptionComboId === element2.attributeOptionComboId && element1.categoryOptionComboId === element2.categoryOptionComboId && element1.periodId === element2.periodId && element1.organisationUnitId === element2.organisationUnitId && element1.dataElementId === element2.dataElementId;\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      showComment: false,\n      comment: null\n    };\n    this.unfollow = this.unfollow.bind(this);\n    this.closeCommentDialog = this.closeCommentDialog.bind(this);\n  }\n\n  unfollow() {\n    const unfollowups = [];\n\n    for (let i = 0; i < this.props.elements.length; i++) {\n      const e = this.props.elements[i];\n\n      if (e.marked) {\n        unfollowups.push(FollowUpAnalysisTable.convertElementToUnFollowupRequest(e));\n      }\n    }\n\n    this.props.unfollow(unfollowups);\n  }\n\n  closeCommentDialog() {\n    this.setState({\n      showComment: false\n    });\n  }\n\n  updateCheckbox(element) {\n    this.props.toggleCheckbox(element);\n  }\n\n  showComment(element) {\n    if (element.comment) {\n      this.setState({\n        showComment: true,\n        comment: element.comment\n      });\n    }\n  }\n\n  render() {\n    let oneChecked = false;\n    const commentDialogActions = [/*#__PURE__*/React.createElement(FlatButton, {\n      key: 'close',\n      label: i18n.t('Close'),\n      primary: true,\n      onClick: this.closeCommentDialog\n    })]; // Table Rows\n\n    const rows = this.props.elements.map(element => {\n      const updateCheckbox = () => {\n        this.updateCheckbox(element);\n      };\n\n      const showComment = () => {\n        this.showComment(element);\n      };\n\n      oneChecked = element.marked ? true : oneChecked;\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: element.key\n      }, /*#__PURE__*/React.createElement(TableRowColumn, null, element.dataElement), /*#__PURE__*/React.createElement(TableRowColumn, null, element.organisation), /*#__PURE__*/React.createElement(TableRowColumn, null, element.period), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.min\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.value\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.max\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.centerFlex\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: cssPageStyles.checkboxWrapper\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: element.marked,\n        onCheck: updateCheckbox,\n        iconStyle: jsPageStyles.iconColor\n      }))), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.center\n      }, element.comment && /*#__PURE__*/React.createElement(IconButton, {\n        key: element.key,\n        onClick: showComment\n      }, /*#__PURE__*/React.createElement(FontIcon, {\n        className: 'material-icons',\n        style: jsPageStyles.cursorStyle\n      }, \"speaker_notes\"))));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Dialog, {\n      title: i18n.t('Comment'),\n      actions: commentDialogActions,\n      modal: false,\n      open: this.state.showComment,\n      onRequestClose: this.closeCommentDialog\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: 'comment-content'\n    }, this.state.comment)), /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.cardHeader\n    }, /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.reportAnalysis\n    })), /*#__PURE__*/React.createElement(Table, {\n      selectable: false,\n      className: classNames(cssPageStyles.appTable, styles.followUpAnalysisTable)\n    }, /*#__PURE__*/React.createElement(TableHeader, {\n      displaySelectAll: false,\n      adjustForCheckbox: false,\n      enableSelectAll: false\n    }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Data Element')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Min')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Max')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.center\n    }, i18n.t('Unfollow')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.center\n    }, i18n.t('Comment')))), /*#__PURE__*/React.createElement(TableBody, {\n      displayRowCheckbox: false,\n      stripedRows: false\n    }, rows)), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(cssPageStyles.cardFooter, cssPageStyles.spaceBetween)\n    }, /*#__PURE__*/React.createElement(RaisedButton, {\n      id: \"unfollow-action\",\n      primary: true,\n      disabled: this.props.loading || !oneChecked,\n      label: i18n.t('unfollow'),\n      onClick: this.unfollow\n    }), /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.reportAnalysis\n    })));\n  }\n\n}\n\n_defineProperty(FollowUpAnalysisTable, \"propTypes\", {\n  elements: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  toggleCheckbox: PropTypes.func.isRequired,\n  unfollow: PropTypes.func.isRequired\n});\n\n_defineProperty(FollowUpAnalysisTable, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\n_defineProperty(FollowUpAnalysisTable, \"generateElementKey\", e => \"\".concat(e.attributeOptionComboId, \"-\").concat(e.categoryOptionComboId, \"-\").concat(e.periodId, \"-\").concat(e.sourceId, \"-\").concat(e.dataElementId));\n\n_defineProperty(FollowUpAnalysisTable, \"convertElementFromApiResponse\", e => ({\n  key: FollowUpAnalysisTable.generateElementKey(e),\n  attributeOptionComboId: e.attributeOptionComboId,\n  categoryOptionComboId: e.categoryOptionComboId,\n  periodId: e.periodId,\n  organisationUnitId: e.sourceId,\n  dataElementId: e.dataElementId,\n  dataElement: e.dataElementName,\n  organisation: e.sourceName,\n  period: e.period.name,\n  min: e.min,\n  max: e.max,\n  value: Number.parseFloat(e.value, 10),\n  marked: !e.followup,\n  comment: e.comment\n}));\n\n_defineProperty(FollowUpAnalysisTable, \"convertElementToUnFollowupRequest\", e => ({\n  dataElementId: e.dataElementId,\n  periodId: e.periodId,\n  organisationUnitId: e.organisationUnitId,\n  categoryOptionComboId: e.categoryOptionComboId,\n  attributeOptionComboId: e.attributeOptionComboId,\n  followup: false\n}));\n\nexport default FollowUpAnalysisTable;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { MultiSelect, MultiSelectOption, Help, CircularLoader } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\n\nclass AvailableDatasetsSelect extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      dataSets: null,\n      error: false\n    };\n  }\n\n  loadDatasets() {\n    const d2 = this.context.d2;\n    return d2.models.dataSet.list({\n      paging: false,\n      fields: 'id,displayName'\n    });\n  }\n\n  componentDidMount() {\n    this.loadDatasets().then(dataSetsResponse => {\n      this.setState({\n        dataSets: dataSetsResponse.toArray()\n      });\n    }).catch(() => {\n      this.setState({\n        error: true\n      });\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      return /*#__PURE__*/React.createElement(Help, {\n        error: true\n      }, i18n.t('Error loading datasets.'));\n    }\n\n    if (!this.state.dataSets) {\n      return /*#__PURE__*/React.createElement(CircularLoader, null);\n    }\n\n    return /*#__PURE__*/React.createElement(MultiSelect, {\n      filterable: true,\n      noMatchText: i18n.t('No match found'),\n      onChange: this.props.onChange,\n      selected: this.props.selected\n    }, this.state.dataSets.map(item => /*#__PURE__*/React.createElement(MultiSelectOption, {\n      key: item.id,\n      value: item.id,\n      label: item.displayName\n    })));\n  }\n\n}\n\n_defineProperty(AvailableDatasetsSelect, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\n_defineProperty(AvailableDatasetsSelect, \"propTypes\", {\n  selected: PropTypes.array,\n  onChange: PropTypes.func\n});\n\nexport default AvailableDatasetsSelect;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { OrganisationUnitTree } from '@dhis2/ui';\nimport { CircularLoader, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport styles from './AvailableOrganisationUnitsTree.module.css';\nconst allRootQuery = {\n  allRoots: {\n    resource: 'organisationUnits',\n    params: {\n      filter: 'level:eq:1',\n      fields: 'id',\n      paging: 'false'\n    }\n  }\n};\nconst query = {\n  data: {\n    resource: 'me',\n    params: {\n      fields: 'organisationUnits, authorities'\n    }\n  }\n};\n\nconst useUserOrganisationUnits = () => {\n  const {\n    loading,\n    data,\n    error\n  } = useDataQuery(query);\n  const {\n    loading: loadingAll,\n    data: dataAll,\n    error: errorAll,\n    refetch\n  } = useDataQuery(allRootQuery, {\n    lazy: true\n  });\n  useEffect(() => {\n    var _data$data;\n\n    if (!(data !== null && data !== void 0 && data.data.organisationUnits.length) && data !== null && data !== void 0 && (_data$data = data.data) !== null && _data$data !== void 0 && _data$data.authorities.includes('ALL')) {\n      //fetch all orgs\n      refetch();\n    }\n  }, [data]);\n  return {\n    loading: loadingAll || loading,\n    organisationUnits: (dataAll === null || dataAll === void 0 ? void 0 : dataAll.allRoots.organisationUnits) || (data === null || data === void 0 ? void 0 : data.data.organisationUnits),\n    error: errorAll || error\n  };\n};\n\nconst AvailableOrganisationUnitsTree = ({\n  multiselect = false,\n  onChange\n}) => {\n  const [selected, setSelected] = useState(new Map());\n  const {\n    loading,\n    organisationUnits,\n    error\n  } = useUserOrganisationUnits();\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CircularLoader, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(Help, {\n      error: true\n    }, i18n.t('Something went wrong whilst loading your organisation units.'));\n  }\n\n  if (organisationUnits.length === 0) {\n    return /*#__PURE__*/React.createElement(\"p\", null, i18n.t('You do not have access to any organisation units.'));\n  }\n\n  const handleOrgUnitClickSingle = ({\n    id,\n    path\n  }) => {\n    let selectedId = id;\n\n    if (selected.has(path)) {\n      //deselect\n      selectedId = null;\n      setSelected(new Map());\n    } else {\n      setSelected(new Map().set(path, id));\n    }\n\n    if (onChange) {\n      onChange(selectedId);\n    }\n  };\n\n  const handleOrgUnitClickMulti = ({\n    id,\n    path,\n    selected: s\n  }) => {\n    const newSelected = new Map(selected);\n\n    if (s.includes(path)) {\n      newSelected.set(path, id);\n    } else {\n      newSelected.delete(path);\n    }\n\n    setSelected(newSelected);\n\n    if (onChange) {\n      onChange([...newSelected.values()]);\n    }\n  };\n\n  const handleChange = multiselect ? handleOrgUnitClickMulti : handleOrgUnitClickSingle;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.wrapper\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    selected: [...selected.keys()],\n    roots: organisationUnits.map(ou => ou.id),\n    singleSelection: !multiselect,\n    onChange: handleChange\n  }));\n};\n\nAvailableOrganisationUnitsTree.propTypes = {\n  multiselect: PropTypes.bool,\n  onChange: PropTypes.func\n};\nexport default AvailableOrganisationUnitsTree;","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport DatePicker from 'material-ui/DatePicker';\nimport React from 'react';\nimport AvailableDatasetsSelect from '../../components/AvailableDatasetsSelect/AvailableDatasetsSelect';\nimport AvailableOrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\n/* eslint-disable react/prop-types */\n\nconst FollowUpButton = ({\n  onClick,\n  disabled\n}) => {\n  const noValuesFoundAlert = useAlert(i18n.t('No values found'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => {\n    (error === null || error === void 0 ? void 0 : error.message) || i18n.t('An unexpected error happened during analysis');\n  }, {\n    critical: true\n  });\n\n  const handleClick = async () => {\n    try {\n      const result = await onClick();\n\n      if (result === 'NO_VALUES_FOUND') {\n        noValuesFoundAlert.show();\n      }\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    className: cssPageStyles.mainButton,\n    onClick: handleClick,\n    disabled: disabled\n  }, i18n.t('Follow up'));\n};\n\nconst Form = ({\n  onSubmit,\n  submitDisabled,\n  dataSetIds,\n  onDataSetsChange,\n  onOrganisationUnitChange,\n  startDate,\n  onStartDateChange,\n  endDate,\n  onEndDateChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Data Set')), /*#__PURE__*/React.createElement(AvailableDatasetsSelect, {\n  selected: dataSetIds,\n  onChange: onDataSetsChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Parent organisation unit')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n  onChange: onOrganisationUnitChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  id: \"start-date\",\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Start Date'),\n  onChange: onStartDateChange,\n  defaultDate: new Date(),\n  maxDate: endDate,\n  value: startDate\n}), /*#__PURE__*/React.createElement(DatePicker, {\n  id: \"end-date\",\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('End Date'),\n  onChange: onEndDateChange,\n  defaultDate: new Date(),\n  minDate: startDate,\n  value: endDate\n}))), /*#__PURE__*/React.createElement(FollowUpButton, {\n  onClick: onSubmit,\n  disabled: submitDisabled\n}));\n\nexport default Form;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport React from 'react';\nimport MaxResultsAlertBar from '../../components/MaxResultsAlertBar/MaxResultsAlertBar';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport threeMonthsAgo from '../../helpers/threeMonthsAgo';\nimport { apiConf } from '../../server.conf';\nimport Page from '../Page';\nimport cssPageStyles from '../Page.module.css';\nimport FollowUpAnalysisTable from './follow-up-analysis-table/FollowUpAnalysisTable';\nimport Form from './Form';\n\nclass FollowUpAnalysis extends Page {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"getFollowUpList\", async () => {\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const api = this.context.d2.Api.getApi();\n      const request = {\n        startDate: convertDateToApiDateFormat(this.state.startDate),\n        endDate: convertDateToApiDateFormat(this.state.endDate),\n        ou: this.state.organisationUnitId,\n        ds: this.state.dataSetIds\n      };\n      const response = await api.post(apiConf.endpoints.folloupAnalysis, request);\n\n      if (!this.isPageMounted()) {\n        return;\n      }\n\n      const elements = response.map(FollowUpAnalysisTable.convertElementFromApiResponse);\n      this.context.updateAppState({\n        pageState: {\n          loading: false,\n          elements,\n          showTable: elements && elements.length > 0\n        }\n      });\n      return elements.length === 0 ? 'NO_VALUES_FOUND' : null;\n    });\n\n    _defineProperty(this, \"handleBack\", () => {\n      this.setState({\n        showTable: false\n      });\n      this.context.updateAppState({\n        pageState: {\n          showTable: false\n        }\n      });\n    });\n\n    _defineProperty(this, \"startDateOnChange\", (event, date) => {\n      this.setState({\n        startDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"endDateOnChange\", (event, date) => {\n      this.setState({\n        endDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleOrganisationUnitChange\", organisationUnitId => {\n      this.setState({\n        organisationUnitId\n      });\n    });\n\n    _defineProperty(this, \"handleDataSetsChange\", ({\n      selected\n    }) => {\n      this.setState({\n        dataSetIds: selected\n      });\n    });\n\n    _defineProperty(this, \"toggleCheckbox\", element => {\n      this.setState({\n        elements: this.state.elements.map(e => {\n          if (e.key === element.key) {\n            return { ...e,\n              marked: !e.marked\n            };\n          }\n\n          return e;\n        })\n      });\n    });\n\n    _defineProperty(this, \"unfollow\", async unfollowups => {\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const api = this.context.d2.Api.getApi();\n      await api.post(apiConf.endpoints.markFollowUpDataValue, {\n        followups: unfollowups\n      });\n\n      if (!this.isPageMounted()) {\n        return;\n      } // remove unfollowed elements\n\n\n      const elements = this.state.elements.filter(element => {\n        for (const unfollow of unfollowups) {\n          if (FollowUpAnalysisTable.areElementsTheSame(element, unfollow)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n      this.context.updateAppState({\n        pageState: {\n          loading: false,\n          elements\n        }\n      });\n    });\n\n    _defineProperty(this, \"showMaxResultsAlertBar\", () => this.state.showTable && this.state.elements && this.state.elements.length >= apiConf.results.analysis.limit);\n\n    this.state = {\n      showTable: false,\n      startDate: threeMonthsAgo(),\n      endDate: new Date(),\n      organisationUnitId: null,\n      dataSetIds: [],\n      elements: [],\n      loading: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (FollowUpAnalysis.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  isFormValid() {\n    return this.state.startDate && this.state.endDate && this.state.organisationUnitId && this.state.dataSetIds && this.state.dataSetIds.length > 0;\n  }\n\n  isActionDisabled() {\n    return !this.isFormValid() || this.state.loading;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n      title: i18n.t('Follow-Up Analysis'),\n      onBack: this.state.showTable ? this.handleBack : null,\n      sectionKey: this.props.sectionKey\n    }), /*#__PURE__*/React.createElement(MaxResultsAlertBar, {\n      show: this.showMaxResultsAlertBar()\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: cssPageStyles.card\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: this.state.showTable ? 'none' : 'block'\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.getFollowUpList,\n      submitDisabled: this.isActionDisabled(),\n      dataSetIds: this.state.dataSetIds,\n      onDataSetsChange: this.handleDataSetsChange,\n      onOrganisationUnitChange: this.handleOrganisationUnitChange,\n      startDate: this.state.startDate,\n      onStartDateChange: this.startDateOnChange,\n      endDate: this.state.endDate,\n      onEndDateChange: this.endDateOnChange\n    })), this.state.showTable && /*#__PURE__*/React.createElement(FollowUpAnalysisTable, {\n      elements: this.state.elements,\n      toggleCheckbox: this.toggleCheckbox,\n      unfollow: this.unfollow,\n      loading: this.state.loading\n    })));\n  }\n\n}\n\n_defineProperty(FollowUpAnalysis, \"STATE_PROPERTIES\", ['showTable', 'startDate', 'endDate', 'organisationUnitId', 'dataSetIds', 'elements', 'loading']);\n\nexport default FollowUpAnalysis;","export const Z_SCORE = 'Z_SCORE';\nexport const MEAN_ABS_DEV = 'MEAN_ABS_DEV';\nexport const DEFAULT_THRESHOLD = 3.0;\nexport const DEFAULT_ALGORITHM = Z_SCORE;\nexport const DEFAULT_MAX_RESULTS = 500;\nexport const DEFAULT_SORT_BY = MEAN_ABS_DEV;","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport DatePicker from 'material-ui/DatePicker';\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport React from 'react';\nimport AvailableDatasetsSelect from '../../components/AvailableDatasetsSelect/AvailableDatasetsSelect';\nimport AvailableOrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\nimport { Z_SCORE } from './constants';\nimport styles from './Form.module.css';\n/* eslint-disable react/prop-types */\n\nconst StartButton = ({\n  onClick,\n  disabled\n}) => {\n  const noValuesFoundAlert = useAlert(i18n.t('No values found'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => {\n    (error === null || error === void 0 ? void 0 : error.message) || i18n.t('An unexpected error happened during analysis');\n  }, {\n    critical: true\n  });\n\n  const handleClick = async () => {\n    try {\n      const result = await onClick();\n\n      if (result === 'NO_VALUES_FOUND') {\n        noValuesFoundAlert.show();\n      }\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    className: cssPageStyles.mainButton,\n    onClick: handleClick,\n    disabled: disabled\n  }, i18n.t('Start'));\n};\n\nconst ThresholdField = ({\n  threshold,\n  onChange\n}) => /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Threshold'),\n  onChange: onChange,\n  value: threshold\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: 1,\n  primaryText: \"1.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 1.5,\n  primaryText: \"1.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 2,\n  primaryText: \"2.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 2.5,\n  primaryText: \"2.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 3,\n  primaryText: \"3.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 3.5,\n  primaryText: \"3.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 4,\n  primaryText: \"4.0\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 4.5,\n  primaryText: \"4.5\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 5,\n  primaryText: \"5.0\"\n}));\n\nconst ZScoreFields = ({\n  showAdvancedZScoreFields,\n  onToggleAdvancedZScoreFields,\n  orderBy,\n  onOrderByChange,\n  dataStartDate,\n  dataEndDate,\n  onDataStartDateChange,\n  onDataEndDateChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  secondary: true,\n  className: styles.toggleBtn,\n  onClick: onToggleAdvancedZScoreFields\n}, showAdvancedZScoreFields ? i18n.t('Hide advanced options') : i18n.t('Show advanced options')), showAdvancedZScoreFields && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.optionalDatepickerContainer\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Data start date'),\n  onChange: (event, date) => onDataStartDateChange(date),\n  maxDate: dataEndDate,\n  value: dataStartDate\n}), /*#__PURE__*/React.createElement(Button, {\n  secondary: true,\n  small: true,\n  disabled: !dataStartDate,\n  onClick: () => onDataStartDateChange(null)\n}, i18n.t('Clear'))), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.optionalDatepickerContainer\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Data end date'),\n  onChange: (event, date) => onDataEndDateChange(date),\n  minDate: dataStartDate,\n  value: dataEndDate\n}), /*#__PURE__*/React.createElement(Button, {\n  secondary: true,\n  small: true,\n  disabled: !dataEndDate,\n  onClick: () => onDataEndDateChange(null)\n}, i18n.t('Clear'))), /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Sort by'),\n  onChange: onOrderByChange,\n  value: orderBy\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: Z_SCORE,\n  primaryText: \"Z-score\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: \"MEAN_ABS_DEV\",\n  primaryText: \"Absolute Deviation from Mean\"\n}))));\n\nconst Form = ({\n  onSubmit,\n  submitDisabled,\n  startDate,\n  endDate,\n  algorithm,\n  showAdvancedZScoreFields,\n  onToggleAdvancedZScoreFields,\n  onAlgorithmChange,\n  threshold,\n  onThresholdChange,\n  orderBy,\n  onOrderByChange,\n  dataStartDate,\n  dataEndDate,\n  onDataStartDateChange,\n  onDataEndDateChange,\n  dataSetIds,\n  onDataSetsOnChange,\n  onOrganisationUnitChange,\n  maxResults,\n  onMaxResultsChange,\n  onStartDateChange,\n  onEndDateChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Data set')), /*#__PURE__*/React.createElement(AvailableDatasetsSelect, {\n  selected: dataSetIds,\n  onChange: onDataSetsOnChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Organisation units')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n  multiselect: true,\n  onChange: onOrganisationUnitChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6 col-lg-4\"\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Start date'),\n  onChange: onStartDateChange,\n  defaultDate: new Date(),\n  maxDate: endDate,\n  value: startDate\n}), /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('End date'),\n  onChange: onEndDateChange,\n  defaultDate: new Date(),\n  minDate: startDate,\n  value: endDate\n}), /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Algorithm'),\n  onChange: onAlgorithmChange,\n  value: algorithm\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: Z_SCORE,\n  primaryText: \"Z-score\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: \"MIN_MAX\",\n  primaryText: \"Min-max values\"\n})), algorithm === Z_SCORE && /*#__PURE__*/React.createElement(ThresholdField, {\n  threshold: threshold,\n  onChange: onThresholdChange\n}), /*#__PURE__*/React.createElement(SelectField, {\n  style: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Max results'),\n  onChange: onMaxResultsChange,\n  value: maxResults\n}, /*#__PURE__*/React.createElement(MenuItem, {\n  value: 100,\n  primaryText: \"100\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 200,\n  primaryText: \"200\"\n}), /*#__PURE__*/React.createElement(MenuItem, {\n  value: 500,\n  primaryText: \"500\"\n})), algorithm === Z_SCORE && /*#__PURE__*/React.createElement(ZScoreFields, {\n  showAdvancedZScoreFields: showAdvancedZScoreFields,\n  onToggleAdvancedZScoreFields: onToggleAdvancedZScoreFields,\n  orderBy: orderBy,\n  onOrderByChange: onOrderByChange,\n  dataStartDate: dataStartDate,\n  dataEndDate: dataEndDate,\n  onDataStartDateChange: onDataStartDateChange,\n  onDataEndDateChange: onDataEndDateChange\n}))), /*#__PURE__*/React.createElement(StartButton, {\n  onClick: onSubmit,\n  disabled: submitDisabled\n}));\n\nexport default Form;","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Checkbox, Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DownloadAs from '../../../components/DownloadAs/DownloadAs';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport jsPageStyles from '../../PageStyles';\nimport { Z_SCORE } from '../constants';\nimport styles from './OutlierAnalysisTable.module.css';\n\nconst OutlierAnalyisTable = ({\n  csvQueryStr,\n  elements,\n  toggleCheckbox,\n  algorithm\n}) => {\n  const successfulMarkAlert = useAlert(({\n    marked\n  }) => marked ? i18n.t('Marked for follow-up') : i18n.t('Unmarked for follow-up'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => error.message, {\n    critical: true\n  });\n  const isZScoreAlgorithm = algorithm === Z_SCORE;\n  const downloadLink = /*#__PURE__*/React.createElement(DownloadAs, {\n    fileTypes: ['csv'],\n    endpoint: apiConf.endpoints.outlierDetection,\n    queryStr: csvQueryStr\n  });\n  const tableRows = elements.map(element => {\n    const updateCheckbox = async (event, marked) => {\n      try {\n        await toggleCheckbox(element);\n        successfulMarkAlert.show({\n          marked\n        });\n      } catch (error) {\n        errorAlert.show({\n          error\n        });\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: element.key\n    }, /*#__PURE__*/React.createElement(TableRowColumn, null, /*#__PURE__*/React.createElement(\"span\", {\n      title: element.displayName\n    }, element.displayName)), /*#__PURE__*/React.createElement(TableRowColumn, null, element.pe), /*#__PURE__*/React.createElement(TableRowColumn, null, /*#__PURE__*/React.createElement(\"span\", {\n      title: element.ouName\n    }, element.ouName)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.value,\n      minimumFractionDigits: 0\n    })), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.zScore\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.absDev,\n      minimumFractionDigits: 0\n    })), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.stdDev\n    })), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.mean,\n      minimumFractionDigits: 0\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.lowerBound,\n      minimumFractionDigits: 0\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.upperBound,\n      minimumFractionDigits: 0\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.centerFlex\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: cssPageStyles.checkboxWrapper\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      checked: element.marked,\n      onCheck: updateCheckbox,\n      iconStyle: jsPageStyles.iconColor\n    }))));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: cssPageStyles.cardHeader\n  }, downloadLink), /*#__PURE__*/React.createElement(Table, {\n    selectable: false,\n    className: classNames(cssPageStyles.appTable, styles.outlierAnalysisTable)\n  }, /*#__PURE__*/React.createElement(TableHeader, {\n    displaySelectAll: false,\n    adjustForCheckbox: false,\n    enableSelectAll: false\n  }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Data Element')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Value')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Z-Score')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Deviation')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Std Dev')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Mean')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Min')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Max')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.center\n  }, i18n.t('Follow-up')))), /*#__PURE__*/React.createElement(TableBody, {\n    displayRowCheckbox: false,\n    stripedRows: false\n  }, tableRows)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(cssPageStyles.cardFooter, cssPageStyles.end)\n  }, downloadLink));\n};\n\nOutlierAnalyisTable.generateElementKey = e => \"\".concat(e.attributeOptionComboId, \"-\").concat(e.categoryOptionComboId, \"-\").concat(e.periodId, \"-\").concat(e.sourceId, \"-\").concat(e.dataElementId);\n\nOutlierAnalyisTable.convertElementFromApiResponse = e => ({\n  displayName: getDisplayName(e),\n  key: \"\".concat(e.aoc, \"-\").concat(e.coc, \"-\").concat(e.de, \"-\").concat(e.pe, \"-\").concat(e.ou),\n  marked: e.followup,\n  ...e\n});\n\nOutlierAnalyisTable.convertElementToToggleFollowupRequest = e => ({\n  dataElement: e.de,\n  period: e.pe,\n  orgUnit: e.ou,\n  categoryOptionCombo: e.coc || null,\n  attributeOptionCombo: e.aoc || null,\n  followup: !e.marked\n});\n\nOutlierAnalyisTable.propTypes = {\n  csvQueryStr: PropTypes.string.isRequired,\n  elements: PropTypes.array.isRequired,\n  toggleCheckbox: PropTypes.func.isRequired,\n  algorithm: PropTypes.oneOf([Z_SCORE, 'MIN_MAX'])\n};\nOutlierAnalyisTable.contextTypes = {\n  d2: PropTypes.object\n};\n\nfunction getDisplayName(e) {\n  let str = e.deName; // In the context of a dataElement, the default COC or AOC means \"none\".\n  // The \"default\" string is not localised, and probably won't ever be.\n  // That is why the conditions below should work in the foreseeable future.\n\n  if (e.cocName !== 'default') {\n    str += \" (\".concat(e.cocName, \")\");\n  }\n\n  if (e.aocName !== 'default') {\n    str += \" (\".concat(e.aocName, \")\");\n  }\n\n  return str;\n}\n\nexport default OutlierAnalyisTable;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport React from 'react';\nimport MaxResultsAlertBar from '../../components/MaxResultsAlertBar/MaxResultsAlertBar';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport { apiConf } from '../../server.conf';\nimport Page from '../Page';\nimport cssPageStyles from '../Page.module.css';\nimport { Z_SCORE, DEFAULT_THRESHOLD, DEFAULT_ALGORITHM, DEFAULT_MAX_RESULTS, DEFAULT_SORT_BY } from './constants';\nimport Form from './Form';\nimport OutlierAnalyisTable from './outlier-analysis-table/OutlierAnalysisTable';\n\nclass OutlierDetection extends Page {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"start\", async () => {\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const endpoint = apiConf.endpoints.outlierDetection;\n      const csvQueryStr = this.createQueryString();\n      const api = this.context.d2.Api.getApi();\n      const response = await api.get(\"\".concat(endpoint, \"?\").concat(csvQueryStr));\n\n      if (!this.isPageMounted()) {\n        return;\n      }\n\n      const elements = response.outlierValues.map(OutlierAnalyisTable.convertElementFromApiResponse);\n      this.context.updateAppState({\n        pageState: {\n          loading: false,\n          elements,\n          showTable: elements && elements.length > 0,\n          csvQueryStr\n        }\n      });\n      return elements.length === 0 ? 'NO_VALUES_FOUND' : null;\n    });\n\n    _defineProperty(this, \"handleBack\", () => {\n      this.setState({\n        showTable: false,\n        csvQueryStr: null\n      });\n      this.context.updateAppState({\n        pageState: {\n          showTable: false\n        }\n      });\n    });\n\n    _defineProperty(this, \"handleStartDateChange\", (event, date) => {\n      this.setState({\n        startDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleEndDateChange\", (event, date) => {\n      this.setState({\n        endDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleDataStartDateChange\", date => {\n      this.setState({\n        dataStartDate: date && new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleDataEndDateChange\", date => {\n      this.setState({\n        dataEndDate: date && new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleMaxResultsChange\", (event, index, value) => {\n      this.setState({\n        maxResults: value\n      });\n    });\n\n    _defineProperty(this, \"handleOrderByChange\", (event, index, value) => {\n      this.setState({\n        orderBy: value\n      });\n    });\n\n    _defineProperty(this, \"toggleShowAdvancedZScoreFields\", () => {\n      const shouldShow = !this.state.showAdvancedZScoreFields;\n\n      if (shouldShow) {\n        this.setState({\n          showAdvancedZScoreFields: true\n        });\n      } else {\n        this.setState({\n          showAdvancedZScoreFields: false,\n          // Also reset advanced fields\n          dataStartDate: null,\n          dataEndDate: null,\n          orderBy: DEFAULT_SORT_BY\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleOrganisationUnitChange\", organisationUnitIds => {\n      this.setState({\n        organisationUnitIds\n      });\n    });\n\n    _defineProperty(this, \"handleDataSetsChange\", ({\n      selected\n    }) => {\n      this.setState({\n        dataSetIds: selected\n      });\n    });\n\n    _defineProperty(this, \"handleThresholdChange\", (event, index, value) => {\n      this.setState({\n        threshold: value\n      });\n    });\n\n    _defineProperty(this, \"handleAlgorithmChange\", (event, index, value) => {\n      this.setState({\n        algorithm: value\n      });\n    });\n\n    _defineProperty(this, \"toggleCheckbox\", async element => {\n      const currentElementIndex = this.state.elements.findIndex(({\n        key\n      }) => key === element.key);\n      const currentElement = this.state.elements[currentElementIndex];\n\n      if (!currentElement) {\n        return;\n      }\n\n      this.context.updateAppState({\n        pageState: {\n          loading: true,\n          elements: this.state.elements,\n          showTable: true\n        }\n      });\n      const data = OutlierAnalyisTable.convertElementToToggleFollowupRequest(currentElement);\n      const api = this.context.d2.Api.getApi();\n      await api.update(apiConf.endpoints.markOutlierDataValue, data);\n\n      if (!this.isPageMounted()) {\n        return;\n      }\n\n      const updatedElement = { ...currentElement,\n        marked: !currentElement.marked\n      };\n      const elements = [...this.state.elements.slice(0, currentElementIndex), updatedElement, ...this.state.elements.slice(currentElementIndex + 1)];\n      this.context.updateAppState({\n        pageState: {\n          elements,\n          loading: false,\n          showTable: true\n        }\n      });\n    });\n\n    _defineProperty(this, \"isFormValid\", () => this.state.startDate && this.state.endDate && this.state.organisationUnitIds && this.state.organisationUnitIds.length > 0 && this.state.threshold && this.state.dataSetIds && this.state.dataSetIds.length > 0);\n\n    _defineProperty(this, \"isActionDisabled\", () => !this.isFormValid() || this.state.loading);\n\n    _defineProperty(this, \"showMaxResultsAlertBar\", () => this.state.showTable && this.state.elements && this.state.elements.length >= apiConf.results.analysis.limit);\n\n    const threeMonthsAgo = () => {\n      const date = new Date();\n      date.setMonth(date.getMonth() - 3);\n      return date;\n    };\n\n    this.state = {\n      showTable: false,\n      startDate: threeMonthsAgo(),\n      endDate: new Date(),\n      organisationUnitIds: [],\n      dataSetIds: [],\n      elements: [],\n      algorithm: DEFAULT_ALGORITHM,\n      threshold: DEFAULT_THRESHOLD,\n      csvQueryStr: null,\n      showAdvancedZScoreFields: false,\n      dataStartDate: null,\n      dataEndDate: null,\n      maxResults: DEFAULT_MAX_RESULTS,\n      orderBy: DEFAULT_SORT_BY\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (OutlierDetection.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  createQueryString() {\n    const isZScoreAlgorithm = this.state.algorithm === Z_SCORE;\n    const querySegments = [...this.state.dataSetIds.map(id => \"ds=\".concat(id)), ...this.state.organisationUnitIds.map(id => \"ou=\".concat(id)), \"startDate=\".concat(convertDateToApiDateFormat(this.state.startDate)), \"endDate=\".concat(convertDateToApiDateFormat(this.state.endDate)), \"algorithm=\".concat(this.state.algorithm), \"maxResults=\".concat(this.state.maxResults), \"orderBy=\".concat(this.state.orderBy)];\n\n    if (isZScoreAlgorithm) {\n      querySegments.push(\"threshold=\".concat(this.state.threshold));\n    }\n\n    if (isZScoreAlgorithm && this.state.dataStartDate) {\n      querySegments.push(\"dataStartDate=\".concat(convertDateToApiDateFormat(this.state.dataStartDate)));\n    }\n\n    if (isZScoreAlgorithm && this.state.dataEndDate) {\n      querySegments.push(\"dataEndDate=\".concat(convertDateToApiDateFormat(this.state.dataEndDate)));\n    }\n\n    return querySegments.join('&');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n      title: i18n.t('Outlier Detection'),\n      onBack: this.state.showTable ? this.handleBack : null\n    }), /*#__PURE__*/React.createElement(MaxResultsAlertBar, {\n      show: this.showMaxResultsAlertBar()\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: cssPageStyles.card\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: this.state.showTable ? 'none' : 'block'\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.start,\n      submitDisabled: this.isActionDisabled(),\n      startDate: this.state.startDate,\n      endDate: this.state.endDate,\n      algorithm: this.state.algorithm,\n      showAdvancedZScoreFields: this.state.showAdvancedZScoreFields,\n      onToggleAdvancedZScoreFields: this.toggleShowAdvancedZScoreFields,\n      onAlgorithmChange: this.handleAlgorithmChange,\n      threshold: this.state.threshold,\n      onThresholdChange: this.handleThresholdChange,\n      orderBy: this.state.orderBy,\n      onOrderByChange: this.handleOrderByChange,\n      dataStartDate: this.state.dataStartDate,\n      onDataStartDateChange: this.handleDataStartDateChange,\n      onDataEndDateChange: this.handleDataEndDateChange,\n      dataEndDate: this.state.dataEndDate,\n      dataSetIds: this.state.dataSetIds,\n      onDataSetsOnChange: this.handleDataSetsChange,\n      onOrganisationUnitChange: this.handleOrganisationUnitChange,\n      maxResults: this.state.maxResults,\n      onMaxResultsChange: this.handleMaxResultsChange,\n      onStartDateChange: this.handleStartDateChange,\n      onEndDateChange: this.handleEndDateChange\n    })), this.state.showTable && this.state.csvQueryStr && /*#__PURE__*/React.createElement(OutlierAnalyisTable, {\n      algorithm: this.state.algorithm,\n      csvQueryStr: this.state.csvQueryStr,\n      elements: this.state.elements,\n      toggleCheckbox: this.toggleCheckbox\n    })));\n  }\n\n}\n\n_defineProperty(OutlierDetection, \"STATE_PROPERTIES\", ['showTable', 'startDate', 'endDate', 'organisationUnitIds', 'dataSetIds', 'elements', 'threshold', 'loading', 'csvQueryStr', 'showAdvancedZScoreFields', 'dataStartDate', 'dataEndDate', 'maxResults', 'orderBy']);\n\nexport default OutlierDetection;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nexport const ALL_VALIDATION_RULE_GROUPS_ID = -1;\nexport const ALL_VALIDATION_RULE_GROUPS_OPTION = {\n  id: ALL_VALIDATION_RULE_GROUPS_ID,\n  displayName: '[All Validation Rules]'\n};\n\nclass ValidationRuleGroupsSelect extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      validationRuleGroups: [ALL_VALIDATION_RULE_GROUPS_OPTION],\n      selected: ALL_VALIDATION_RULE_GROUPS_ID\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    const d2 = this.context.d2;\n    const translatedAllValidationRulesOption = ALL_VALIDATION_RULE_GROUPS_OPTION;\n    translatedAllValidationRulesOption.displayName = i18n.t(ALL_VALIDATION_RULE_GROUPS_OPTION.displayName);\n    d2.models.validationRuleGroup.list({\n      paging: false,\n      fields: 'id,displayName'\n    }).then(validationRuleGroupsResponse => {\n      this.setState({\n        validationRuleGroups: [translatedAllValidationRulesOption, ...validationRuleGroupsResponse.toArray()]\n      });\n    }).catch(() => {\n      this.manageError();\n    });\n  }\n\n  onChange(event, index, value) {\n    this.setState({\n      selected: value,\n      selectedName: value === ALL_VALIDATION_RULE_GROUPS_ID ? '[All Validation Rules]' : this.state.validationRuleGroups[index].displayName\n    });\n    this.props.onChange(event, index, value);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(SelectField, {\n      style: this.props.style,\n      floatingLabelText: i18n.t('Validation Rule Group'),\n      onChange: this.onChange,\n      value: this.state.selected\n    }, this.state.validationRuleGroups.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n      key: item.id,\n      value: item.id,\n      primaryText: item.displayName\n    })));\n  }\n\n}\n\n_defineProperty(ValidationRuleGroupsSelect, \"propTypes\", {\n  onChange: PropTypes.func.isRequired,\n  style: PropTypes.object\n});\n\n_defineProperty(ValidationRuleGroupsSelect, \"defaultProps\", {\n  style: {}\n});\n\n_defineProperty(ValidationRuleGroupsSelect, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\nexport default ValidationRuleGroupsSelect;","import { useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Checkbox } from '@dhis2/ui';\nimport DatePicker from 'material-ui/DatePicker';\nimport React from 'react';\nimport AvailableOrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree/AvailableOrganisationUnitsTree';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\nimport ValidationRuleGroupsSelect from './ValidationRuleGroupsSelect';\n/* eslint-disable react/prop-types */\n\nconst ValidateButton = ({\n  onClick,\n  disabled\n}) => {\n  const validationPassedAlert = useAlert(i18n.t('Validation passed successfully'), {\n    success: true\n  });\n  const errorAlert = useAlert(({\n    error\n  }) => {\n    (error === null || error === void 0 ? void 0 : error.message) || i18n.t('An unexpected error happened during analysis');\n  }, {\n    critical: true\n  });\n\n  const handleClick = async () => {\n    try {\n      const result = await onClick();\n\n      if (result === 'VALIDATION_PASSED') {\n        validationPassedAlert.show();\n      }\n    } catch (error) {\n      errorAlert.show({\n        error\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    className: cssPageStyles.mainButton,\n    disabled: disabled,\n    onClick: handleClick\n  }, i18n.t('Validate'));\n};\n\nconst Form = ({\n  onSubmit,\n  submitDisabled,\n  onOrganisationUnitChange,\n  startDate,\n  onStartDateChange,\n  endDate,\n  onEndDateChange,\n  onValidationRuleGroupChange,\n  sendNotfications,\n  onSendNotificationsChange,\n  persistNewResults,\n  onPersistNewResultsChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: cssPageStyles.formLabel\n}, i18n.t('Parent organisation unit')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n  onChange: onOrganisationUnitChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-sm-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('Start Date'),\n  onChange: onStartDateChange,\n  value: startDate,\n  defaultDate: new Date(),\n  maxDate: endDate\n}), /*#__PURE__*/React.createElement(DatePicker, {\n  textFieldStyle: jsPageStyles.inputForm,\n  floatingLabelText: i18n.t('End Date'),\n  onChange: onEndDateChange,\n  value: endDate,\n  defaultDate: new Date(),\n  minDate: startDate\n}), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ValidationRuleGroupsSelect, {\n  style: jsPageStyles.inputForm,\n  onChange: onValidationRuleGroupChange\n})), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Checkbox, {\n  label: i18n.t('Send Notifications'),\n  checked: sendNotfications,\n  onChange: onSendNotificationsChange\n})), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Checkbox, {\n  label: i18n.t('Persist new results'),\n  checked: persistNewResults,\n  onChange: onPersistNewResultsChange\n})))), /*#__PURE__*/React.createElement(ValidateButton, {\n  onClick: onSubmit,\n  disabled: submitDisabled\n}));\n\nexport default Form;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Dialog, FlatButton, FontIcon } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport Page from '../../Page';\nimport cssPageStyles from '../../Page.module.css';\nimport jsPageStyles from '../../PageStyles';\nimport ValidationRulesAnalysis from '../ValidationRulesAnalysis';\nimport styles from './ValidationRulesDetails.module.css';\n\nclass ValidationRulesDetails extends Page {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      openDetails: false,\n      rule: {},\n      expression: {\n        leftSide: [],\n        rightSide: []\n      }\n    };\n    this.loadDetails = this.loadDetails.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (ValidationRulesAnalysis.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  loadDetails() {\n    if (!this.state.loading) {\n      const api = this.context.d2.Api.getApi();\n      const requestRule = \"\".concat(apiConf.endpoints.validationRules, \"/\").concat(this.props.validationRuleId);\n      const requestExpression = \"\".concat(apiConf.endpoints.validationRulesExpression) + \"?validationRuleId=\".concat(this.props.validationRuleId) + \"&periodId=\".concat(this.props.periodId) + \"&organisationUnitId=\".concat(this.props.organisationUnitId) + \"&attributeOptionComboId=\".concat(this.props.attributeOptionComboId);\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      Promise.all([api.get(requestRule), api.get(requestExpression)]).then(([rule, expression]) => {\n        this.context.updateAppState({\n          pageState: {\n            loading: false\n          }\n        });\n        this.setState({\n          openDetails: true,\n          rule,\n          expression\n        });\n      }).catch(() => {\n        this.manageError();\n      });\n    }\n  }\n\n  handleClose() {\n    this.setState({\n      openDetails: false\n    });\n  }\n\n  render() {\n    // Details Actions\n    const dialogActions = [/*#__PURE__*/React.createElement(FlatButton, {\n      className: \"close-action\",\n      key: \"FB\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      label: i18n.t('Close'),\n      primary: true,\n      onClick: this.handleClose\n    })];\n    const result = /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', 'results-row', styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, i18n.t('VALIDATIONS RESULT DETAILS')), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionSubTitle)\n    }, i18n.t('VALIDATION RULE')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-3'\n    }, i18n.t('Name')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-9'\n    }, this.state.rule.displayName), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-3'\n    }, i18n.t('Description')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-9'\n    }, this.state.rule.displayDescription));\n\n    const showNoData = side => /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, side), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', cssPageStyles.center)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.noData\n    }, i18n.t('no data available'))));\n\n    const buildSection = (side, elements, classNameRow) => /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', classNameRow, styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, side), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-10', styles.sectionSubTitle)\n    }, i18n.t('DATA ELEMENT')), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-2', styles.sectionSubTitle, cssPageStyles.right)\n    }, i18n.t('VALUE')), elements.map(element => /*#__PURE__*/React.createElement(\"div\", {\n      key: element.name,\n      className: 'col-xs-12'\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'row'\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-10'\n    }, element.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-2', cssPageStyles.right)\n    }, element.value ? /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: Number(element.value)\n    }) : '-')))));\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FontIcon, {\n      key: \"FI|\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      className: 'validation-rules-show-details-action material-icons',\n      style: jsPageStyles.cursorStyle,\n      onClick: this.loadDetails\n    }, \"info\"), /*#__PURE__*/React.createElement(Dialog, {\n      className: \"validation-rules-details-dialog\",\n      key: \"D\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      autoScrollBodyContent: true,\n      title: i18n.t('Validation Details'),\n      actions: dialogActions,\n      modal: true,\n      open: this.state.openDetails,\n      onRequestClose: this.handleClose\n    }, result, this.state.expression.leftSide && this.state.expression.leftSide.length > 0 ? buildSection(i18n.t('LEFT SIDE'), this.state.expression.leftSide, 'left-side-row') : showNoData(i18n.t('LEFT SIDE')), this.state.expression.rightSide && this.state.expression.rightSide.length > 0 ? buildSection(i18n.t('RIGHT SIDE'), this.state.expression.rightSide, 'right-side-row') : showNoData(i18n.t('RIGHT SIDE'))));\n  }\n\n}\n\n_defineProperty(ValidationRulesDetails, \"STATE_PROPERTIES\", ['loading']);\n\n_defineProperty(ValidationRulesDetails, \"propTypes\", {\n  attributeOptionComboId: PropTypes.string.isRequired,\n  organisationUnitId: PropTypes.string.isRequired,\n  periodId: PropTypes.string.isRequired,\n  validationRuleId: PropTypes.string.isRequired\n});\n\nexport default ValidationRulesDetails;","import cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './TableCellContent.module.css';\n\nconst TableCellContent = ({\n  className,\n  size,\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: cx(styles.tableCellContent, className, {\n    [styles[\"tableCellContent-\".concat(size)]]: size\n  })\n}, children);\n\nTableCellContent.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  size: PropTypes.oneOf(['narrow', 'medium', 'wide'])\n};\nexport default TableCellContent;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport DownloadAs from '../../../components/DownloadAs/DownloadAs';\nimport FormattedNumber from '../../../components/FormattedNumber/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport ValidationRulesDetails from '../ValidationRulesDetails/ValidationRulesDetails';\nimport TableCellContent from './TableCellContent';\nimport styles from './ValidationRulesAnalysisTable.module.css';\n\nclass ValidationRulesAnalysisTable extends PureComponent {\n  render() {\n    const elements = this.props.elements;\n    const shouldDisplayAttributeOptionCombo = elements.some(e => e.attributeOptionCombo && e.attributeOptionCombo !== 'default'); // Table Rows\n\n    const rows = elements.map(element => /*#__PURE__*/React.createElement(TableRow, {\n      key: element.key\n    }, /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.organisation\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, element.organisation)), shouldDisplayAttributeOptionCombo && /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.attributeOptionCombo\n    }, /*#__PURE__*/React.createElement(TableCellContent, {\n      size: \"wide\"\n    }, element.attributeOptionCombo)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.period\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, element.period)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.importance\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, element.importance)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.validationRule\n    }, /*#__PURE__*/React.createElement(TableCellContent, {\n      size: 'medium'\n    }, element.validationRule)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.leftValue\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.leftValue\n    }))), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.operator\n    }, /*#__PURE__*/React.createElement(TableCellContent, {\n      className: styles.operator\n    }, element.operator)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.rightValue\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.rightValue\n    }))), /*#__PURE__*/React.createElement(TableRowColumn, null, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(ValidationRulesDetails, {\n      validationRuleId: element.validationRuleId,\n      periodId: element.periodId,\n      organisationUnitId: element.organisationUnitId,\n      attributeOptionComboId: element.attributeOptionComboId\n    })))));\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.cardHeader\n    }, /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.validationRulesReport\n    })), /*#__PURE__*/React.createElement(Table, {\n      selectable: false,\n      className: classNames(cssPageStyles.appTable, styles.validationTable),\n      fixedHeader: false,\n      bodyStyle: {\n        overflowX: 'auto'\n      }\n    }, /*#__PURE__*/React.createElement(TableHeader, {\n      displaySelectAll: false,\n      adjustForCheckbox: false,\n      enableSelectAll: false\n    }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Organisation Unit')\n    }, i18n.t('Organisation Unit')), shouldDisplayAttributeOptionCombo && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Attribute Option Combination')\n    }, i18n.t('Attr. Opt. Combo')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Period')\n    }, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Importance')\n    }, i18n.t('Importance')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Validation Rule')\n    }, i18n.t('Validation Rule')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Value')\n    }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Operator')\n    }, i18n.t('Operator')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Value')\n    }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Details')\n    }, i18n.t('Details')))), /*#__PURE__*/React.createElement(TableBody, {\n      displayRowCheckbox: false,\n      stripedRows: false\n    }, rows)), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(cssPageStyles.cardFooter, cssPageStyles.end)\n    }, /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.validationRulesReport\n    })));\n  }\n\n}\n\n_defineProperty(ValidationRulesAnalysisTable, \"propTypes\", {\n  elements: PropTypes.array.isRequired\n});\n\nexport default ValidationRulesAnalysisTable;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport React from 'react';\nimport MaxResultsAlertBar from '../../components/MaxResultsAlertBar/MaxResultsAlertBar';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport threeMonthsAgo from '../../helpers/threeMonthsAgo';\nimport { apiConf } from '../../server.conf';\nimport Page from '../Page';\nimport cssPageStyles from '../Page.module.css';\nimport Form from './Form';\nimport { ALL_VALIDATION_RULE_GROUPS_ID } from './ValidationRuleGroupsSelect';\nimport ValidationRulesAnalysisTable from './ValidationRulesAnalysisTable/ValidationRulesAnalysisTable';\n\nclass ValidationRulesAnalysis extends Page {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"validate\", async () => {\n      if (!this.isFormValid()) {\n        return;\n      }\n\n      const request = {\n        startDate: convertDateToApiDateFormat(this.state.startDate),\n        endDate: convertDateToApiDateFormat(this.state.endDate),\n        ou: this.state.organisationUnitId,\n        notification: this.state.sendNotfications,\n        persist: this.state.persistNewResults\n      };\n\n      if (this.state.validationRuleGroupId !== ALL_VALIDATION_RULE_GROUPS_ID) {\n        request.vrg = this.state.validationRuleGroupId;\n      }\n\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const api = this.context.d2.Api.getApi();\n      const response = await api.post(apiConf.endpoints.validationRulesAnalysis, { ...request\n      });\n\n      if (!this.isPageMounted()) {\n        return;\n      }\n\n      const elements = response.map(ValidationRulesAnalysis.convertElementFromApiResponse);\n      this.context.updateAppState({\n        pageState: {\n          loading: false,\n          elements,\n          showTable: elements.length > 0\n        }\n      });\n      return elements.length === 0 ? 'VALIDATION_PASSED' : null;\n    });\n\n    _defineProperty(this, \"back\", () => {\n      this.setState({\n        showTable: false\n      });\n      this.context.updateAppState({\n        pageState: {\n          showTable: false\n        }\n      });\n    });\n\n    _defineProperty(this, \"handleStartDateChange\", (event, date) => {\n      this.setState({\n        startDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleEndDateChange\", (event, date) => {\n      this.setState({\n        endDate: new Date(date)\n      });\n    });\n\n    _defineProperty(this, \"handleOrganisationUnitChange\", organisationUnitId => {\n      this.setState({\n        organisationUnitId\n      });\n    });\n\n    _defineProperty(this, \"handleValidationRuleGroupChange\", (event, index, value) => {\n      this.setState({\n        validationRuleGroupId: value\n      });\n    });\n\n    _defineProperty(this, \"handleSendNotificationsChange\", ({\n      checked\n    }) => {\n      this.setState({\n        sendNotfications: checked\n      });\n    });\n\n    _defineProperty(this, \"handlePersistNewResultsChange\", ({\n      checked\n    }) => {\n      this.setState({\n        persistNewResults: checked\n      });\n    });\n\n    _defineProperty(this, \"showMaxResultsAlertBar\", () => this.state.showTable && this.state.elements && this.state.elements.length >= apiConf.results.analysis.limit);\n\n    this.state = {\n      showTable: false,\n      startDate: threeMonthsAgo(),\n      endDate: new Date(),\n      organisationUnitId: null,\n      validationRuleGroupId: ALL_VALIDATION_RULE_GROUPS_ID,\n      sendNotfications: false,\n      persistNewResults: false,\n      elements: [],\n      loading: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (ValidationRulesAnalysis.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  isFormValid() {\n    return this.state.startDate && this.state.endDate && this.state.organisationUnitId;\n  }\n\n  isActionDisabled() {\n    return !this.isFormValid() || this.state.loading;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PageHeader, {\n      title: i18n.t('Validation Rule Analysis'),\n      onBack: this.state.showTable ? this.back : null,\n      sectionKey: this.props.sectionKey\n    }), /*#__PURE__*/React.createElement(MaxResultsAlertBar, {\n      show: this.showMaxResultsAlertBar()\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: cssPageStyles.card\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: this.state.showTable ? 'none' : 'block'\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.validate,\n      submitDisabled: this.isActionDisabled(),\n      onOrganisationUnitChange: this.handleOrganisationUnitChange,\n      startDate: this.state.startDate,\n      onStartDateChange: this.handleStartDateChange,\n      endDate: this.state.endDate,\n      onEndDateChange: this.handleEndDateChange,\n      onValidationRuleGroupChange: this.handleValidationRuleGroupChange,\n      sendNotfications: this.state.sendNotfications,\n      onSendNotificationsChange: this.handleSendNotificationsChange,\n      persistNewResults: this.state.persistNewResults,\n      onPersistNewResultsChange: this.handlePersistNewResultsChange\n    })), this.state.showTable && /*#__PURE__*/React.createElement(ValidationRulesAnalysisTable, {\n      elements: this.state.elements\n    })));\n  }\n\n}\n\n_defineProperty(ValidationRulesAnalysis, \"STATE_PROPERTIES\", ['loading', 'elements', 'showTable']);\n\n_defineProperty(ValidationRulesAnalysis, \"generateElementKey\", e => \"\".concat(e.validationRuleId, \"-\").concat(e.periodId, \"-\").concat(e.organisationUnitId, \"-\").concat(e.attributeOptionComboId));\n\n_defineProperty(ValidationRulesAnalysis, \"convertElementFromApiResponse\", e => ({\n  key: ValidationRulesAnalysis.generateElementKey(e),\n  validationRuleId: e.validationRuleId,\n  attributeOptionCombo: e.attributeOptionComboDisplayName,\n  attributeOptionComboId: e.attributeOptionComboId,\n  organisation: e.organisationUnitDisplayName,\n  organisationUnitId: e.organisationUnitId,\n  period: e.periodDisplayName,\n  periodId: e.periodId,\n  importance: e.importance,\n  validationRule: e.validationRuleDescription,\n  leftValue: e.leftSideValue,\n  operator: e.operator,\n  rightValue: e.rightSideValue\n}));\n\nexport default ValidationRulesAnalysis;","import i18n from '@dhis2/d2-i18n';\nimport FollowUpAnalysis from './FollowUpAnalysis/FollowUpAnalysis';\nimport OutlierDetection from './OutlierDetection/OutlierDetection';\nimport ValidationRulesAnalysis from './ValidationRulesAnalysis/ValidationRulesAnalysis';\nexport const sections = [{\n  key: 'validationRulesAnalysis',\n  path: '/validation-rules-analysis',\n  component: ValidationRulesAnalysis,\n  info: {\n    label: i18n.t('Validation Rule Analysis'),\n    icon: 'done_all',\n    description: i18n.t('Run validation rules in order to unveil anomalies and errors in the data in the database.'),\n    actionText: i18n.t('Run Validation'),\n    docs: 'validation_rule_analysis'\n  }\n}, {\n  key: 'outlierDetection',\n  path: '/outlier-detection',\n  component: OutlierDetection,\n  info: {\n    label: i18n.t('Outlier detection'),\n    icon: 'show_chart',\n    description: i18n.t('Analyze potential outlier values based on standard deviations or min-max values. Outlier values can be examined and marked for follow-up.'),\n    actionText: i18n.t('Analyze'),\n    docs: 'outlier_detection'\n  }\n}, {\n  key: 'followUpAnalysis',\n  path: '/follow-up-analysis',\n  component: FollowUpAnalysis,\n  info: {\n    label: i18n.t('Follow-Up Analysis'),\n    icon: 'description',\n    description: i18n.t('View or edit data values marked for further follow-up during data entry or analysis.'),\n    actionText: i18n.t('View Data Values'),\n    docs: 'follow_up_analysis'\n  }\n}];\nexport const getDocsKeyForSection = sectionKey => {\n  var _sections$find;\n\n  return ((_sections$find = sections.find(section => section.key === sectionKey)) === null || _sections$find === void 0 ? void 0 : _sections$find.info.docs) || '';\n};\nexport default sections;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Card } from '@dhis2/ui';\nimport classNames from 'classnames';\nimport FontIcon from 'material-ui/FontIcon';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './GridSection.module.css';\n\nclass GridSection extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(Link, {\n      className: styles.link,\n      to: this.props.section.path\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: classNames('section', styles.gridElement)\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', styles.gridTitleBar)\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: classNames('section-title', styles.gridTitleDescription)\n    }, this.props.section.info.label), /*#__PURE__*/React.createElement(FontIcon, {\n      className: classNames('material-icons', 'icon', styles.gridIcon)\n    }, this.props.section.info.icon)), /*#__PURE__*/React.createElement(\"p\", {\n      className: classNames('section-description', 'row', styles.gridDescription)\n    }, this.props.section.info.description)), /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-action-text', 'row', styles.gridActionText)\n    }, this.props.section.info.actionText)));\n  }\n\n}\n\n_defineProperty(GridSection, \"propTypes\", {\n  section: PropTypes.shape({\n    info: PropTypes.shape({\n      actionText: PropTypes.func,\n      description: PropTypes.func,\n      icon: PropTypes.string,\n      label: PropTypes.func\n    }),\n    key: PropTypes.string,\n    path: PropTypes.string\n  }).isRequired\n});\n\nexport default GridSection;","import classNames from 'classnames';\nimport React from 'react';\nimport { sections } from '../sections.conf';\nimport GridSection from './grid-section/GridSection';\nimport styles from './Overview.module.css';\n\nconst Overview = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, sections.map(section => /*#__PURE__*/React.createElement(\"div\", {\n  key: section.key,\n  className: classNames('col-sm-12 col-md-6 col-lg-4', styles.gridContainer)\n}, /*#__PURE__*/React.createElement(GridSection, {\n  section: section\n}))));\n\nexport default Overview;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\n\nclass NoMatch extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, \"No match for \", /*#__PURE__*/React.createElement(\"code\", null, this.props.location.pathname)));\n  }\n\n}\n\n_defineProperty(NoMatch, \"propTypes\", {\n  location: PropTypes.object.isRequired\n});\n\nexport default NoMatch;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Overview from '../../pages/Overview/Overview';\nimport { sections } from '../../pages/sections.conf';\nimport NoMatch from './NoMatch';\n\nconst AppRouter = ({\n  pageState\n}) => {\n  const routes = sections.map(section => {\n    const routeRender = () => {\n      const Page = section.component;\n      return /*#__PURE__*/React.createElement(Page, _extends({\n        sectionKey: section.key\n      }, pageState));\n    };\n\n    return /*#__PURE__*/React.createElement(Route, {\n      key: section.key,\n      exact: true,\n      path: section.path,\n      render: routeRender\n    });\n  });\n  routes.push( /*#__PURE__*/React.createElement(Route, {\n    key: \"overview\",\n    exact: true,\n    path: \"/\",\n    component: Overview\n  }));\n  /* No Match Route */\n\n  routes.push( /*#__PURE__*/React.createElement(Route, {\n    key: \"no-match-route\",\n    component: NoMatch\n  }));\n  return /*#__PURE__*/React.createElement(\"main\", null, /*#__PURE__*/React.createElement(Switch, null, routes));\n};\n\nAppRouter.propTypes = {\n  pageState: PropTypes.object\n};\nAppRouter.defaultProps = {\n  pageState: {}\n};\nexport default AppRouter;","import { PropTypes } from '@dhis2/prop-types';\nimport { Menu, MenuItem } from '@dhis2/ui';\nimport React from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { sections } from '../../pages/sections.conf';\nimport styles from './Sidebar.module.css';\n\nconst SidebarItem = ({\n  label,\n  path\n}) => {\n  const history = useHistory();\n  const isActive = !!useRouteMatch(path);\n\n  const navigateToPath = () => history.push(path);\n\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: styles.sidebarItem,\n    onClick: navigateToPath,\n    active: isActive,\n    label: label\n  });\n};\n\nSidebarItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired\n};\n\nconst Sidebar = () => /*#__PURE__*/React.createElement(Menu, null, sections.map(section => /*#__PURE__*/React.createElement(SidebarItem, {\n  key: section.key,\n  label: section.info.label,\n  path: section.path\n})));\n\nexport default Sidebar;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport AppRouter from '../AppRouter/AppRouter';\nimport Sidebar from '../Sidebar/Sidebar';\nimport styles from './App.module.css';\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"updateAppState\", appState => {\n      // TODO: Replace with history.listen\n      // https://github.com/ReactTraining/history/blob/master/docs/getting-started.md#listening\n\n      /*if (\n          appState.currentSection &&\n          !appState.pageState &&\n          this.state.currentSection !== appState.currentSection\n      ) {\n          // clear page state because we are updating page\n          this.setState({ ...appState, pageState: {} })\n      } else {\n          this.setState(appState)\n      }*/\n      this.setState(appState);\n    });\n\n    this.state = {\n      pageState: {}\n    };\n  }\n\n  getChildContext() {\n    return {\n      d2: this.props.d2,\n      updateAppState: this.updateAppState\n    };\n  }\n\n  render() {\n    var _this$state$pageState;\n\n    const showSidebar = !((_this$state$pageState = this.state.pageState) !== null && _this$state$pageState !== void 0 && _this$state$pageState.showTable);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.container\n    }, showSidebar && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.sidebar\n    }, /*#__PURE__*/React.createElement(Sidebar, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.content\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentWrapper\n    }, /*#__PURE__*/React.createElement(AppRouter, {\n      pageState: this.state.pageState\n    }))));\n  }\n\n}\n\n_defineProperty(App, \"childContextTypes\", {\n  d2: PropTypes.object,\n  updateAppState: PropTypes.func\n});\n\nApp.propTypes = {\n  d2: PropTypes.object\n};\nexport default withRouter(App);","import { blue100, blue700, grey100, grey400, orange500, orangeA200, darkBlack, white } from 'material-ui/styles/colors';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport Spacing from 'material-ui/styles/spacing';\nimport { fade } from 'material-ui/utils/colorManipulator';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: '#004ba0',\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: orangeA200,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default muiTheme;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport { CssVariables } from '@dhis2/ui';\nimport { MuiThemeProvider } from 'material-ui/styles';\nimport React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport 'material-design-icons-iconfont';\nimport App from './components/App/App';\nimport appTheme from './theme';\nimport './grid.css';\nimport './locales';\n\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2();\n\n  if (!d2) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true\n  }), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    muiTheme: appTheme\n  }, /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  }))));\n};\n\nexport default AppWrapper;"],"sourceRoot":""}