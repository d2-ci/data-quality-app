{"version":3,"sources":["D2App/pages/Page.module.css","D2App/components/alert-bar/AlertBar.module.css","D2App/components/available-datasets-select/AvailableDatasetsSelect.module.css","D2App/components/available-organisation-units-tree/AvailableOrganisationUnitsTree.module.css","D2App/components/download-as/DownloadAs.module.css","D2App/pages/follow-up-analysis/follow-up-analysis-table/FollowUpAnalysisTable.module.css","D2App/components/outlier-analysis-table/OutlierAnalysisTable.module.css","D2App/components/table/TableCellContent.module.css","D2App/pages/validation-rules-analysis/validation-rules-details/ValidationRulesDetails.module.css","D2App/pages/validation-rules-analysis/validation-rules-analysis-table/ValidationRulesAnalysisTable.module.css","D2App/pages/home/grid-section/GridSection.module.css","D2App/pages/home/Home.module.css","D2App/components/app/App.module.css","D2App/components/alert-bar/AlertBar.js","D2App/components/available-datasets-select/AvailableDatasetsSelect.js","D2App/components/available-organisation-units-tree/AvailableOrganisationUnitsTree.js","D2App/helpers/docs.js","D2App/components/page-helper/PageHelper.js","D2App/helpers/dates.js","D2App/server.conf.js","D2App/pages/Page.js","D2App/pages/PageStyles.js","D2App/components/download-as/DownloadAs.js","D2App/components/formatters/FormattedNumber.js","D2App/pages/follow-up-analysis/follow-up-analysis-table/FollowUpAnalysisTable.js","D2App/pages/follow-up-analysis/FollowUpAnalysis.js","D2App/components/outlier-analysis-table/OutlierAnalysisTable.js","D2App/pages/outlier-detection/OutlierDetection.js","D2App/components/validation-rule-groups-select/ValidationRuleGroupsSelect.js","D2App/components/table/TableCellContent.js","D2App/pages/validation-rules-analysis/validation-rules-details/ValidationRulesDetails.js","D2App/pages/validation-rules-analysis/validation-rules-analysis-table/ValidationRulesAnalysisTable.js","D2App/pages/validation-rules-analysis/ValidationRulesAnalysis.js","D2App/pages/sections.conf.js","D2App/pages/home/grid-section/GridSection.js","D2App/pages/home/Home.js","D2App/components/app-router/NoMatch.js","D2App/components/app-router/AppRouter.js","D2App/components/app/App.js","D2App/theme.js","D2App/locales/index.js","D2App/App.js"],"names":["module","exports","obj","key","value","AlertBar","PureComponent","render","React","createElement","Paper","className","styles","alertBar","style","display","this","props","show","i18n","t","PropTypes","bool","isRequired","Object","defineProperty","enumerable","configurable","writable","_defineProperty","AvailableDatasetsSelect","constructor","super","state","dataSets","componentDidMount","d2","context","models","dataSet","list","paging","fields","then","dataSetsResponse","setState","toArray","catch","manageError","multiple","select","onChange","map","item","id","options","displayName","object","func","query","roots","resource","params","filter","noop","AvailableOrganisationUnitsTree","multiselect","loading","data","error","useDataQuery","selected","setSelected","useState","CircularLoader","Help","organisationUnits","length","handleChange","path","newSelected","includes","selectedPath","getOrgUnitIdFromPath","split","pop","wrapper","OrganisationUnitTree","ou","singleSelection","memo","getDocsVersion","major","minor","snapshot","concat","PageHelper","lng","sectionDocsKey","IconButton","iconStyle","color","href","system","version","target","rel","tooltip","tooltipPosition","iconClassName","string","convertDateToApiDateFormat","date","toISOString","apiConf","endpoints","validationRulesAnalysis","validationRulesExpression","validationRulesReport","validationRules","outlierDetection","folloupAnalysis","markDataValue","reportAnalysis","results","analysis","limit","Page","Component","UNSAFE_componentWillMount","pageMounted","currentSection","sectionKey","updateAppState","componentWillUnmount","isPageMounted","messageError","message","showSnackbar","snackbarConf","type","ERROR","pageState","pageStyles","inputForm","width","iconColor","fill","cursorStyle","cursor","DownloadAs","getHrefs","baseUrl","Api","getApi","endpoint","fileTypes","timestamp","Date","now","queryStr","reduce","acc","hrefs","downloadAs","pdf","download","xls","csv","arrayOf","oneOf","FormattedNumber","minimumFractionDigits","maximumFractionDigits","Intl","NumberFormat","sessionStorage","getItem","format","defaultProps","FollowUpAnalysisTable","element1","element2","attributeOptionComboId","categoryOptionComboId","periodId","organisationUnitId","dataElementId","showComment","comment","unfollow","bind","closeCommentDialog","unfollowups","i","elements","e","marked","push","convertElementToUnFollowupRequest","updateCheckbox","element","toggleCheckbox","oneChecked","commentDialogActions","FlatButton","label","primary","onClick","rows","TableRow","TableRowColumn","dataElement","organisation","period","cssPageStyles","right","min","max","centerFlex","checkboxWrapper","Checkbox","checked","onCheck","jsPageStyles","center","FontIcon","Dialog","title","actions","modal","open","onRequestClose","cardHeader","Table","selectable","classNames","appTable","followUpAnalysisTable","TableHeader","displaySelectAll","adjustForCheckbox","enableSelectAll","TableHeaderColumn","TableBody","displayRowCheckbox","stripedRows","cardFooter","spaceBetween","RaisedButton","disabled","array","sourceId","generateElementKey","dataElementName","sourceName","name","Number","parseFloat","followup","FollowUpAnalysis","showTable","startDate","endDate","dataSetIds","getFollowUpList","back","startDateOnChange","endDateOnChange","organisationUnitOnChange","dataSetsOnChange","UNSAFE_componentWillReceiveProps","nextProps","nextState","keys","forEach","property","STATE_PROPERTIES","api","isFormValid","request","ds","post","response","convertElementFromApiResponse","feedback","SUCCESS","event","selectedOptions","currentElement","followups","j","areElementsTheSame","isActionDisabled","showAlertBar","pageHeader","getDocsKeyForSection","Card","CardText","formLabel","DatePicker","textFieldStyle","floatingLabelText","defaultDate","maxDate","minDate","mainButton","OutlierAnalyisTable","csvQueryStr","algorithm","isZScoreAlgorithm","downloadLink","pe","ouName","zScore","absDev","stdDev","mean","lowerBound","upperBound","outlierAnalysisTable","end","getDisplayName","str","deName","cocName","aocName","aoc","coc","de","convertElementToToggleFollowupRequest","orgUnit","categoryOptionCombo","attributeOptionCombo","contextTypes","Z_SCORE","DEFAULT_SORT_BY","threeMonthsAgo","setMonth","getMonth","OutlierDetection","showAdvancedZScoreFields","dataStartDate","dataEndDate","sortBy","currentElementIndex","findIndex","update","updatedElement","slice","organisationUnitIds","threshold","maxResults","start","thresholdOnChange","algorithmOnChange","dataStartDateOnChange","dataEndDateOnChange","maxResultsOnChange","sortByOnChange","createQueryString","get","outlierValues","querySegments","join","index","renderThresholdField","SelectField","MenuItem","primaryText","renderZScoreFields","buttonLabel","Fragment","fullWidth","toggleShowAdvancedZScoreFields","marginTop","ALL_VALIDATION_RULE_GROUPS_OPTION","ValidationRuleGroupsSelect","validationRuleGroups","translatedAllValidationRulesOption","validationRuleGroup","validationRuleGroupsResponse","selectedName","TableCellContent","size","children","cx","tableCellContent","ValidationRulesDetails","openDetails","rule","expression","leftSide","rightSide","loadDetails","handleClose","ValidationRulesAnalysis","requestRule","validationRuleId","requestExpression","Promise","all","dialogActions","result","sectionBox","sectionTitle","sectionSubTitle","displayDescription","showNoData","side","noData","buildSection","classNameRow","autoScrollBodyContent","ValidationRulesAnalysisTable","shouldDisplayAttributeOptionCombo","some","importance","validationRule","leftValue","operator","rightValue","validationTable","fixedHeader","bodyStyle","overflowX","validationRuleGroupId","notification","persist","validate","validationRuleGroupOnChange","updateSendNotifications","updatePersistNewResults","vrg","labelPosition","attributeOptionComboDisplayName","organisationUnitDisplayName","periodDisplayName","validationRuleDescription","leftSideValue","rightSideValue","sections","component","info","icon","description","actionText","docs","section","GridSection","Link","to","GridTile","gridElement","gridTitleBar","gridTitleDescription","gridIcon","gridDescription","gridActionText","shape","Home","gridElements","gridContainer","NoMatch","location","pathname","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","AppRouter","routes","Route","exact","Switch","App","appState","getChildContext","translatedSections","containerElement","hideSidebar","container","Sidebar","onChangeSection","contentArea","withRouter","theme","spacing","Spacing","fontFamily","palette","primary1Color","primary2Color","blue700","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","orangeA200","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","namespace","addResources","arTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppWrapper","useD2","MuiThemeProvider","appTheme","CssVariables","spacers","colors","HashRouter"],"mappings":"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","file":"static/js/app.83db1e0b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainButton\":\"Page_mainButton__3ZqEW\",\"appTable\":\"Page_appTable__jOHgy\",\"right\":\"Page_right__2IgFz\",\"center\":\"Page_center__2X94F\",\"centerFlex\":\"Page_centerFlex__7_iZ7\",\"pageHeader\":\"Page_pageHeader__HmeVS\",\"cardHeader\":\"Page_cardHeader__2RRDB\",\"cardFooter\":\"Page_cardFooter__IQAZb\",\"spaceBetween\":\"Page_spaceBetween__13D7y\",\"end\":\"Page_end__uY7Dd\",\"formLabel\":\"Page_formLabel__1UsDH\",\"checkboxWrapper\":\"Page_checkboxWrapper__JAojq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alertBar\":\"AlertBar_alertBar__1lHrt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"AvailableDatasetsSelect_select__3nyKE\",\"options\":\"AvailableDatasetsSelect_options__2OH92\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AvailableOrganisationUnitsTree_wrapper__1_TnA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"downloadAs\":\"DownloadAs_downloadAs__36VvG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followUpAnalysisTable\":\"FollowUpAnalysisTable_followUpAnalysisTable__2iOvp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outlierAnalysisTable\":\"OutlierAnalysisTable_outlierAnalysisTable__2SOHh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableCellContent\":\"TableCellContent_tableCellContent__1RAVl\",\"tableCellContent-narrow\":\"TableCellContent_tableCellContent-narrow__g9JrG\",\"tableCellContent-medium\":\"TableCellContent_tableCellContent-medium__3GxAa\",\"tableCellContent-wide\":\"TableCellContent_tableCellContent-wide__1LuIx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionBox\":\"ValidationRulesDetails_sectionBox__3rnVY\",\"sectionTitle\":\"ValidationRulesDetails_sectionTitle__21C0F\",\"sectionSubTitle\":\"ValidationRulesDetails_sectionSubTitle__3FiEB\",\"noData\":\"ValidationRulesDetails_noData__2bKfJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"validationTable\":\"ValidationRulesAnalysisTable_validationTable__MMXm4\",\"operator\":\"ValidationRulesAnalysisTable_operator__3WQMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridElement\":\"GridSection_gridElement__dFN30\",\"gridTitleBar\":\"GridSection_gridTitleBar__iuWB9\",\"gridTitleDescription\":\"GridSection_gridTitleDescription__OBU6O\",\"gridIcon\":\"GridSection_gridIcon__1BcuZ\",\"gridDescription\":\"GridSection_gridDescription__3BQ6R\",\"gridActionText\":\"GridSection_gridActionText__2cTCc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"Home_gridContainer__3mcNn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3FZ3a\",\"contentArea\":\"App_contentArea__xWVxc\"};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Paper } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport styles from './AlertBar.module.css';\n\nclass AlertBar extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(Paper, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.alertBar,\n      style: {\n        display: this.props.show ? 'flex' : 'none'\n      }\n    }, i18n.t('More than 500 values found, please narrow the search to see all')));\n  }\n\n}\n\n_defineProperty(AlertBar, \"propTypes\", {\n  show: PropTypes.bool.isRequired\n});\n\nexport default AlertBar;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport styles from './AvailableDatasetsSelect.module.css';\n\nclass AvailableDatasetsSelect extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      dataSets: null\n    };\n  }\n\n  componentDidMount() {\n    const d2 = this.context.d2;\n\n    if (this.state.dataSets == null) {\n      d2.models.dataSet.list({\n        paging: false,\n        fields: 'id,displayName'\n      }).then(dataSetsResponse => {\n        this.setState({\n          dataSets: dataSetsResponse.toArray()\n        });\n      }).catch(() => {\n        this.manageError();\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"select\", {\n      multiple: true,\n      className: styles.select,\n      onChange: this.props.onChange\n    }, (this.state.dataSets || []).map(item => /*#__PURE__*/React.createElement(\"option\", {\n      key: item.id,\n      value: item.id,\n      className: styles.options\n    }, item.displayName)));\n  }\n\n}\n\n_defineProperty(AvailableDatasetsSelect, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\n_defineProperty(AvailableDatasetsSelect, \"propTypes\", {\n  onChange: PropTypes.func\n});\n\n_defineProperty(AvailableDatasetsSelect, \"defaultProps\", {\n  onChange: null\n});\n\nexport default AvailableDatasetsSelect;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { OrganisationUnitTree } from '@dhis2/ui';\nimport { CircularLoader, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport styles from './AvailableOrganisationUnitsTree.module.css';\nconst query = {\n  roots: {\n    resource: 'organisationUnits',\n    params: {\n      filter: 'level:eq:1',\n      fields: 'id',\n      paging: 'false'\n    }\n  }\n};\n\nconst noop = () => {};\n\nconst AvailableOrganisationUnitsTree = ({\n  multiselect = false,\n  onChange = noop\n}) => {\n  const {\n    loading,\n    data,\n    error\n  } = useDataQuery(query);\n  const [selected, setSelected] = useState([]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CircularLoader, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(Help, {\n      error: true\n    }, i18n.t('Something went wrong whilst loading your organisation units.'));\n  }\n\n  if (data.roots.organisationUnits.length === 0) {\n    return /*#__PURE__*/React.createElement(\"p\", null, i18n.t('You do not have access to any organisation units.'));\n  }\n\n  const handleOrgUnitClickSingle = ({\n    id,\n    path\n  }) => {\n    if (selected.includes(path)) {\n      return;\n    }\n\n    setSelected([path]);\n\n    if (onChange) {\n      onChange(id);\n    }\n  };\n\n  const handleOrgUnitClickMulti = ({\n    path\n  }) => {\n    const newSelected = selected.includes(path) ? selected.filter(selectedPath => selectedPath !== path) : [...selected, path];\n    setSelected(newSelected);\n\n    const getOrgUnitIdFromPath = path => path.split('/').pop();\n\n    if (onChange) {\n      // TODO: Store org unit id in 'selected' instead\n      onChange(newSelected.map(getOrgUnitIdFromPath));\n    }\n  };\n\n  const handleChange = multiselect ? handleOrgUnitClickMulti : handleOrgUnitClickSingle;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.wrapper\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    selected: selected,\n    roots: data.roots.organisationUnits.map(ou => ou.id),\n    singleSelection: !multiselect,\n    onChange: handleChange\n  }));\n};\n\nAvailableOrganisationUnitsTree.propTypes = {\n  multiselect: PropTypes.bool,\n  onChange: PropTypes.func\n};\nexport default /*#__PURE__*/React.memo(AvailableOrganisationUnitsTree);","export const DOCS_LINK = 'https://docs.dhis2.org';\nexport const DOCS_TOOLTIP_LABEL = 'Open user guide';\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\n\nexport const getDocsVersion = ({\n  major,\n  minor,\n  snapshot\n}) => {\n  if (snapshot) {\n    return 'master';\n  }\n\n  return \"\".concat(major, \".\").concat(minor);\n};\nexport default getDocsVersion;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { IconButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { getDocsVersion, DOCS_LINK, DOCS_TOOLTIP_LABEL } from '../../helpers/docs';\n\nclass PageHelper extends PureComponent {\n  render() {\n    const {\n      d2\n    } = this.context;\n    const {\n      lng,\n      sectionDocsKey\n    } = this.props;\n    return /*#__PURE__*/React.createElement(IconButton, {\n      className: \"helper-icon\",\n      iconStyle: {\n        color: '#276696'\n      },\n      href: \"\".concat(DOCS_LINK, \"/\").concat(getDocsVersion(d2.system.version), \"/\").concat(lng, \"/user/html/\").concat(sectionDocsKey, \".html\"),\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      tooltip: i18n.t(DOCS_TOOLTIP_LABEL),\n      tooltipPosition: \"bottom-center\",\n      iconClassName: \"material-icons\"\n    }, \"help\");\n  }\n\n}\n\n_defineProperty(PageHelper, \"propTypes\", {\n  sectionDocsKey: PropTypes.string.isRequired,\n  lng: PropTypes.string\n});\n\n_defineProperty(PageHelper, \"defaultProps\", {\n  lng: 'en'\n});\n\n_defineProperty(PageHelper, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\nexport default PageHelper;","// get Date from YYYY-MM-DDTHH:mm:ss.mmmm\nexport const convertDateToApiDateFormat = date => date.toISOString().split('T')[0];\nexport default convertDateToApiDateFormat;","export const apiConf = {\n  endpoints: {\n    validationRulesAnalysis: '/dataAnalysis/validationRules',\n    validationRulesExpression: '/dataAnalysis/validationRulesExpression',\n    validationRulesReport: '/dataAnalysis/validationRules/report',\n    validationRules: '/validationRules',\n    outlierDetection: '/outlierDetection',\n    folloupAnalysis: '/dataAnalysis/followup',\n    markDataValue: '/dataValues/followup',\n    reportAnalysis: '/dataAnalysis/report'\n  },\n  results: {\n    analysis: {\n      limit: 500\n    }\n  }\n};\nexport default apiConf;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { ERROR } from 'd2-ui/lib/feedback-snackbar/FeedbackSnackbarTypes';\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\n\nclass Page extends Component {\n  UNSAFE_componentWillMount() {\n    this.pageMounted = true; // update section on side bar\n\n    if (this.context.currentSection !== this.props.sectionKey) {\n      this.context.updateAppState({\n        currentSection: this.props.sectionKey\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.pageMounted = false;\n  }\n\n  isPageMounted() {\n    return this.pageMounted;\n  }\n\n  manageError(error) {\n    if (this.isPageMounted()) {\n      const messageError = error && error.message ? error.message : i18n.t('An unexpected error happened during analysis');\n      this.context.updateAppState({\n        showSnackbar: true,\n        snackbarConf: {\n          type: ERROR,\n          message: messageError\n        },\n        pageState: {\n          loading: false\n        }\n      });\n    }\n  }\n\n}\n\n_defineProperty(Page, \"propTypes\", {\n  sectionKey: PropTypes.string.isRequired\n});\n\n_defineProperty(Page, \"contextTypes\", {\n  d2: PropTypes.object,\n  currentSection: PropTypes.string,\n  updateAppState: PropTypes.func\n});\n\nexport default Page;","const pageStyles = {\n  inputForm: {\n    width: '100%'\n  },\n  iconColor: {\n    fill: '#ff9900'\n  },\n  cursorStyle: {\n    cursor: 'pointer'\n  }\n};\nexport default pageStyles;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport styles from './DownloadAs.module.css';\n\nclass DownloadAs extends PureComponent {\n  getHrefs() {\n    const {\n      baseUrl\n    } = this.context.d2.Api.getApi();\n    const {\n      endpoint,\n      fileTypes\n    } = this.props;\n    const timestamp = Date.now(); // The new outlierDetection endpoint produces the correct report\n    // based on query params, but older endpoints only take a timestamp\n\n    const queryStr = this.props.queryStr || \"t=\".concat(timestamp);\n    return fileTypes.reduce((acc, type) => {\n      acc[type] = \"\".concat(baseUrl).concat(endpoint, \".\").concat(type, \"?\").concat(queryStr);\n      return acc;\n    }, {});\n  }\n\n  render() {\n    const {\n      fileTypes\n    } = this.props;\n    const hrefs = this.getHrefs();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.downloadAs\n    }, fileTypes.includes('pdf') && /*#__PURE__*/React.createElement(\"a\", {\n      className: \"export-pdf-action\",\n      href: hrefs.pdf,\n      download: true\n    }, i18n.t('DOWNLOAD AS PDF')), fileTypes.includes('xls') && /*#__PURE__*/React.createElement(\"a\", {\n      className: \"export-xls-action\",\n      href: hrefs.xls,\n      download: true\n    }, i18n.t('DOWNLOAD AS XLS')), fileTypes.includes('csv') && /*#__PURE__*/React.createElement(\"a\", {\n      className: \"export-csv-action\",\n      href: hrefs.csv,\n      download: true\n    }, i18n.t('DOWNLOAD AS CSV')));\n  }\n\n}\n\n_defineProperty(DownloadAs, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\n_defineProperty(DownloadAs, \"propTypes\", {\n  endpoint: PropTypes.string.isRequired,\n  fileTypes: PropTypes.arrayOf(PropTypes.oneOf(['pdf', 'xls', 'csv'])),\n  queryStr: PropTypes.string\n});\n\n_defineProperty(DownloadAs, \"defaultProps\", {\n  fileTypes: ['pdf', 'xls', 'csv']\n});\n\nexport default DownloadAs;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst FormattedNumber = ({\n  value,\n  minimumFractionDigits,\n  maximumFractionDigits\n}) => /*#__PURE__*/React.createElement(\"span\", null, new Intl.NumberFormat(sessionStorage.getItem('uiLocale'), {\n  minimumFractionDigits,\n  maximumFractionDigits\n}).format(value));\n\nFormattedNumber.defaultProps = {\n  maximumFractionDigits: 2,\n  minimumFractionDigits: 2\n};\nFormattedNumber.propTypes = {\n  value: PropTypes.number.isRequired,\n  maximumFractionDigits: PropTypes.number,\n  minimumFractionDigits: PropTypes.number\n};\nexport default FormattedNumber;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Checkbox, FontIcon, RaisedButton, Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn, IconButton, Dialog, FlatButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport DownloadAs from '../../../components/download-as/DownloadAs';\nimport FormattedNumber from '../../../components/formatters/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport jsPageStyles from '../../PageStyles';\nimport styles from './FollowUpAnalysisTable.module.css';\n\nclass FollowUpAnalysisTable extends Component {\n  static areElementsTheSame(element1, element2) {\n    return element1.attributeOptionComboId === element2.attributeOptionComboId && element1.categoryOptionComboId === element2.categoryOptionComboId && element1.periodId === element2.periodId && element1.organisationUnitId === element2.organisationUnitId && element1.dataElementId === element2.dataElementId;\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      showComment: false,\n      comment: null\n    };\n    this.unfollow = this.unfollow.bind(this);\n    this.closeCommentDialog = this.closeCommentDialog.bind(this);\n  }\n\n  unfollow() {\n    const unfollowups = [];\n\n    for (let i = 0; i < this.props.elements.length; i++) {\n      const e = this.props.elements[i];\n\n      if (e.marked) {\n        unfollowups.push(FollowUpAnalysisTable.convertElementToUnFollowupRequest(e));\n      }\n    }\n\n    this.props.unfollow(unfollowups);\n  }\n\n  closeCommentDialog() {\n    this.setState({\n      showComment: false\n    });\n  }\n\n  updateCheckbox(element) {\n    this.props.toggleCheckbox(element);\n  }\n\n  showComment(element) {\n    if (element.comment) {\n      this.setState({\n        showComment: true,\n        comment: element.comment\n      });\n    }\n  }\n\n  render() {\n    let oneChecked = false;\n    const commentDialogActions = [/*#__PURE__*/React.createElement(FlatButton, {\n      key: 'close',\n      label: i18n.t('Close'),\n      primary: true,\n      onClick: this.closeCommentDialog\n    })]; // Table Rows\n\n    const rows = this.props.elements.map(element => {\n      const updateCheckbox = () => {\n        this.updateCheckbox(element);\n      };\n\n      const showComment = () => {\n        this.showComment(element);\n      };\n\n      oneChecked = element.marked ? true : oneChecked;\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: element.key\n      }, /*#__PURE__*/React.createElement(TableRowColumn, null, element.dataElement), /*#__PURE__*/React.createElement(TableRowColumn, null, element.organisation), /*#__PURE__*/React.createElement(TableRowColumn, null, element.period), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.min\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.value\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.right\n      }, /*#__PURE__*/React.createElement(FormattedNumber, {\n        value: element.max\n      })), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.centerFlex\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: cssPageStyles.checkboxWrapper\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: element.marked,\n        onCheck: updateCheckbox,\n        iconStyle: jsPageStyles.iconColor\n      }))), /*#__PURE__*/React.createElement(TableRowColumn, {\n        className: cssPageStyles.center\n      }, element.comment && /*#__PURE__*/React.createElement(IconButton, {\n        key: element.key,\n        onClick: showComment\n      }, /*#__PURE__*/React.createElement(FontIcon, {\n        className: 'material-icons',\n        style: jsPageStyles.cursorStyle\n      }, \"speaker_notes\"))));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Dialog, {\n      title: i18n.t('Comment'),\n      actions: commentDialogActions,\n      modal: false,\n      open: this.state.showComment,\n      onRequestClose: this.closeCommentDialog\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: 'comment-content'\n    }, this.state.comment)), /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.cardHeader\n    }, /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.reportAnalysis\n    })), /*#__PURE__*/React.createElement(Table, {\n      selectable: false,\n      className: classNames(cssPageStyles.appTable, styles.followUpAnalysisTable)\n    }, /*#__PURE__*/React.createElement(TableHeader, {\n      displaySelectAll: false,\n      adjustForCheckbox: false,\n      enableSelectAll: false\n    }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Data Element')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Min')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.right\n    }, i18n.t('Max')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.center\n    }, i18n.t('Unfollow')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      className: cssPageStyles.center\n    }, i18n.t('Comment')))), /*#__PURE__*/React.createElement(TableBody, {\n      displayRowCheckbox: false,\n      stripedRows: false\n    }, rows)), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(cssPageStyles.cardFooter, cssPageStyles.spaceBetween)\n    }, /*#__PURE__*/React.createElement(RaisedButton, {\n      id: \"unfollow-action\",\n      primary: true,\n      disabled: this.props.loading || !oneChecked,\n      label: i18n.t('unfollow'),\n      onClick: this.unfollow\n    }), /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.reportAnalysis\n    })));\n  }\n\n}\n\n_defineProperty(FollowUpAnalysisTable, \"propTypes\", {\n  elements: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  toggleCheckbox: PropTypes.func.isRequired,\n  unfollow: PropTypes.func.isRequired\n});\n\n_defineProperty(FollowUpAnalysisTable, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\n_defineProperty(FollowUpAnalysisTable, \"generateElementKey\", e => \"\".concat(e.attributeOptionComboId, \"-\").concat(e.categoryOptionComboId, \"-\").concat(e.periodId, \"-\").concat(e.sourceId, \"-\").concat(e.dataElementId));\n\n_defineProperty(FollowUpAnalysisTable, \"convertElementFromApiResponse\", e => ({\n  key: FollowUpAnalysisTable.generateElementKey(e),\n  attributeOptionComboId: e.attributeOptionComboId,\n  categoryOptionComboId: e.categoryOptionComboId,\n  periodId: e.periodId,\n  organisationUnitId: e.sourceId,\n  dataElementId: e.dataElementId,\n  dataElement: e.dataElementName,\n  organisation: e.sourceName,\n  period: e.period.name,\n  min: e.min,\n  max: e.max,\n  value: Number.parseFloat(e.value, 10),\n  marked: !e.followup,\n  comment: e.comment\n}));\n\n_defineProperty(FollowUpAnalysisTable, \"convertElementToUnFollowupRequest\", e => ({\n  dataElementId: e.dataElementId,\n  periodId: e.periodId,\n  organisationUnitId: e.organisationUnitId,\n  categoryOptionComboId: e.categoryOptionComboId,\n  attributeOptionComboId: e.attributeOptionComboId,\n  followup: false\n}));\n\nexport default FollowUpAnalysisTable;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { SUCCESS } from 'd2-ui/lib/feedback-snackbar/FeedbackSnackbarTypes';\nimport { FontIcon, IconButton } from 'material-ui';\nimport { Card, CardText } from 'material-ui/Card';\nimport DatePicker from 'material-ui/DatePicker';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react';\nimport AlertBar from '../../components/alert-bar/AlertBar';\nimport AvailableDatasetsSelect from '../../components/available-datasets-select/AvailableDatasetsSelect';\nimport AvailableOrganisationUnitsTree from '../../components/available-organisation-units-tree/AvailableOrganisationUnitsTree';\nimport PageHelper from '../../components/page-helper/PageHelper';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport { apiConf } from '../../server.conf';\nimport Page from '../Page';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\nimport { getDocsKeyForSection } from '../sections.conf';\nimport FollowUpAnalysisTable from './follow-up-analysis-table/FollowUpAnalysisTable';\n\nclass FollowUpAnalysis extends Page {\n  constructor() {\n    super();\n    this.state = {\n      showTable: false,\n      startDate: new Date(),\n      endDate: new Date(),\n      organisationUnitId: null,\n      dataSetIds: [],\n      elements: [],\n      loading: false\n    };\n    this.getFollowUpList = this.getFollowUpList.bind(this);\n    this.back = this.back.bind(this);\n    this.startDateOnChange = this.startDateOnChange.bind(this);\n    this.endDateOnChange = this.endDateOnChange.bind(this);\n    this.organisationUnitOnChange = this.organisationUnitOnChange.bind(this);\n    this.dataSetsOnChange = this.dataSetsOnChange.bind(this);\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n    this.unfollow = this.unfollow.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (FollowUpAnalysis.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  getFollowUpList() {\n    const api = this.context.d2.Api.getApi();\n\n    if (this.isFormValid()) {\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const request = {\n        startDate: convertDateToApiDateFormat(this.state.startDate),\n        endDate: convertDateToApiDateFormat(this.state.endDate),\n        ou: this.state.organisationUnitId,\n        ds: this.state.dataSetIds\n      };\n      api.post(apiConf.endpoints.folloupAnalysis, request).then(response => {\n        if (this.isPageMounted()) {\n          const elements = response.map(FollowUpAnalysisTable.convertElementFromApiResponse);\n          const feedback = elements && elements.length > 0 ? {\n            showSnackbar: false\n          } : {\n            showSnackbar: true,\n            snackbarConf: {\n              type: SUCCESS,\n              message: i18n.t('No values found')\n            }\n          };\n          this.context.updateAppState({ ...feedback,\n            pageState: {\n              loading: false,\n              elements,\n              showTable: elements && elements.length > 0\n            }\n          });\n        }\n      }).catch(() => {\n        this.manageError();\n      });\n    }\n  }\n\n  back() {\n    this.setState({\n      showTable: false\n    });\n    this.context.updateAppState({\n      pageState: {\n        showTable: false\n      }\n    });\n  }\n\n  startDateOnChange(event, date) {\n    this.setState({\n      startDate: new Date(date)\n    });\n  }\n\n  endDateOnChange(event, date) {\n    this.setState({\n      endDate: new Date(date)\n    });\n  }\n\n  organisationUnitOnChange(organisationUnitId) {\n    this.setState({\n      organisationUnitId\n    });\n  }\n\n  dataSetsOnChange(event) {\n    const dataSetIds = [];\n    const selectedOptions = event.target.selectedOptions;\n\n    for (let i = 0; i < selectedOptions.length; i++) {\n      dataSetIds.push(selectedOptions[i].value);\n    }\n\n    this.setState({\n      dataSetIds\n    });\n  }\n\n  toggleCheckbox(element) {\n    const elements = this.state.elements;\n\n    for (let i = 0; i < elements.length; i++) {\n      const currentElement = elements[i];\n\n      if (currentElement.key === element.key) {\n        currentElement.marked = !currentElement.marked;\n        elements[i] = currentElement;\n        this.setState({\n          elements\n        });\n        break;\n      }\n    }\n  }\n\n  unfollow(unfollowups) {\n    const api = this.context.d2.Api.getApi();\n    this.context.updateAppState({\n      pageState: {\n        loading: true\n      }\n    });\n    api.post(apiConf.endpoints.markDataValue, {\n      followups: unfollowups\n    }).then(() => {\n      if (this.isPageMounted()) {\n        // remove unfollowed elements\n        const elements = this.state.elements.filter(element => {\n          for (let j = 0; j < unfollowups.length; j++) {\n            const unfollow = unfollowups[j];\n\n            if (FollowUpAnalysisTable.areElementsTheSame(element, unfollow)) {\n              return false;\n            }\n          }\n\n          return true;\n        });\n        this.context.updateAppState({\n          showSnackbar: true,\n          snackbarConf: {\n            type: SUCCESS,\n            message: i18n.t('Unfollow done')\n          },\n          pageState: {\n            loading: false,\n            elements\n          }\n        });\n      }\n    }).catch(() => {\n      this.manageError();\n    });\n  }\n\n  isFormValid() {\n    return this.state.startDate && this.state.endDate && this.state.organisationUnitId && this.state.dataSetIds && this.state.dataSetIds.length > 0;\n  }\n\n  isActionDisabled() {\n    return !this.isFormValid() || this.state.loading;\n  }\n\n  showAlertBar() {\n    return this.state.showTable && this.state.elements && this.state.elements.length >= apiConf.results.analysis.limit;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: cssPageStyles.pageHeader\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.back,\n      style: {\n        display: this.state.showTable ? 'inline' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(FontIcon, {\n      className: 'material-icons'\n    }, \"arrow_back\")), /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Follow-Up Analysis')), /*#__PURE__*/React.createElement(PageHelper, {\n      sectionDocsKey: getDocsKeyForSection(this.props.sectionKey)\n    })), /*#__PURE__*/React.createElement(AlertBar, {\n      show: this.showAlertBar()\n    }), /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardText, {\n      style: {\n        display: !this.state.showTable ? 'block' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"data-sets-container\",\n      className: \"col-md-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.formLabel\n    }, i18n.t('Data Set')), /*#__PURE__*/React.createElement(AvailableDatasetsSelect, {\n      onChange: this.dataSetsOnChange\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.formLabel\n    }, i18n.t('Parent organisation unit')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n      onChange: this.organisationUnitOnChange\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\"\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"start-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Start Date'),\n      onChange: this.startDateOnChange,\n      defaultDate: new Date(),\n      maxDate: this.state.endDate,\n      value: this.state.startDate\n    }), /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"end-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('End Date'),\n      onChange: this.endDateOnChange,\n      defaultDate: new Date(),\n      minDate: this.state.startDate,\n      value: this.state.endDate\n    }))), /*#__PURE__*/React.createElement(RaisedButton, {\n      id: \"start-analysis-button\",\n      className: cssPageStyles.mainButton,\n      primary: true,\n      label: i18n.t('follow up'),\n      onClick: this.getFollowUpList,\n      disabled: this.isActionDisabled()\n    })), /*#__PURE__*/React.createElement(CardText, {\n      id: \"results-table\",\n      style: {\n        display: this.state.showTable ? 'block' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(FollowUpAnalysisTable, {\n      elements: this.state.elements,\n      toggleCheckbox: this.toggleCheckbox,\n      unfollow: this.unfollow,\n      loading: this.state.loading\n    }))));\n  }\n\n}\n\n_defineProperty(FollowUpAnalysis, \"STATE_PROPERTIES\", ['showTable', 'startDate', 'endDate', 'organisationUnitId', 'dataSetIds', 'elements', 'loading']);\n\nexport default FollowUpAnalysis;","import i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Checkbox, Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DownloadAs from '../../components/download-as/DownloadAs';\nimport FormattedNumber from '../../components/formatters/FormattedNumber';\nimport cssPageStyles from '../../pages/Page.module.css';\nimport jsPageStyles from '../../pages/PageStyles';\nimport { apiConf } from '../../server.conf';\nimport styles from './OutlierAnalysisTable.module.css';\n\nconst OutlierAnalyisTable = ({\n  csvQueryStr,\n  elements,\n  toggleCheckbox,\n  algorithm\n}) => {\n  const isZScoreAlgorithm = algorithm === 'Z_SCORE';\n  const downloadLink = /*#__PURE__*/React.createElement(DownloadAs, {\n    fileTypes: ['csv'],\n    endpoint: apiConf.endpoints.outlierDetection,\n    queryStr: csvQueryStr\n  }); // Table Rows\n\n  const rows = elements.map(element => {\n    const updateCheckbox = () => {\n      toggleCheckbox(element);\n    };\n\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: element.key\n    }, /*#__PURE__*/React.createElement(TableRowColumn, null, element.displayName), /*#__PURE__*/React.createElement(TableRowColumn, null, element.pe), /*#__PURE__*/React.createElement(TableRowColumn, null, element.ouName), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.value,\n      minimumFractionDigits: 0\n    })), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.zScore\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.absDev,\n      minimumFractionDigits: 0\n    })), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.stdDev\n    })), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.mean,\n      minimumFractionDigits: 0\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.lowerBound,\n      minimumFractionDigits: 0\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.right\n    }, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.upperBound,\n      minimumFractionDigits: 0\n    })), /*#__PURE__*/React.createElement(TableRowColumn, {\n      className: cssPageStyles.centerFlex\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: cssPageStyles.checkboxWrapper\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      checked: element.marked,\n      onCheck: updateCheckbox,\n      iconStyle: jsPageStyles.iconColor\n    }))));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: cssPageStyles.cardHeader\n  }, downloadLink), /*#__PURE__*/React.createElement(Table, {\n    selectable: false,\n    className: classNames(cssPageStyles.appTable, styles.outlierAnalysisTable)\n  }, /*#__PURE__*/React.createElement(TableHeader, {\n    displaySelectAll: false,\n    adjustForCheckbox: false,\n    enableSelectAll: false\n  }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Data Element')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, null, i18n.t('Organisation Unit')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Value')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Z-Score')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Deviation')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Std Dev')), isZScoreAlgorithm && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Mean')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Min')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.right\n  }, i18n.t('Max')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    className: cssPageStyles.center\n  }, i18n.t('Follow-up')))), /*#__PURE__*/React.createElement(TableBody, {\n    displayRowCheckbox: false,\n    stripedRows: false\n  }, rows)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(cssPageStyles.cardFooter, cssPageStyles.end)\n  }, downloadLink));\n};\n\nOutlierAnalyisTable.generateElementKey = e => \"\".concat(e.attributeOptionComboId, \"-\").concat(e.categoryOptionComboId, \"-\").concat(e.periodId, \"-\").concat(e.sourceId, \"-\").concat(e.dataElementId);\n\nOutlierAnalyisTable.convertElementFromApiResponse = e => ({\n  displayName: getDisplayName(e),\n  key: \"\".concat(e.aoc, \"-\").concat(e.coc, \"-\").concat(e.de, \"-\").concat(e.pe, \"-\").concat(e.ou),\n  marked: e.followup,\n  ...e\n});\n\nOutlierAnalyisTable.convertElementToToggleFollowupRequest = e => ({\n  dataElement: e.de,\n  period: e.pe,\n  orgUnit: e.ou,\n  categoryOptionCombo: e.coc || null,\n  attributeOptionCombo: e.aoc || null,\n  followup: !e.marked\n});\n\nOutlierAnalyisTable.propTypes = {\n  csvQueryStr: PropTypes.string.isRequired,\n  elements: PropTypes.array.isRequired,\n  toggleCheckbox: PropTypes.func.isRequired,\n  algorithm: PropTypes.oneOf(['Z_SCORE', 'MIN_MAX'])\n};\nOutlierAnalyisTable.contextTypes = {\n  d2: PropTypes.object\n};\n\nfunction getDisplayName(e) {\n  let str = e.deName; // In the context of a dataElement, the default COC or AOC means \"none\".\n  // The \"default\" string is not localised, and probably won't ever be.\n  // That is why the conditions below should work in the foreseeable future.\n\n  if (e.cocName !== 'default') {\n    str += \" (\".concat(e.cocName, \")\");\n  }\n\n  if (e.aocName !== 'default') {\n    str += \" (\".concat(e.aocName, \")\");\n  }\n\n  return str;\n}\n\nexport default OutlierAnalyisTable;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { SUCCESS } from 'd2-ui/lib/feedback-snackbar/FeedbackSnackbarTypes';\nimport { FontIcon, IconButton } from 'material-ui';\nimport { Card, CardText } from 'material-ui/Card';\nimport DatePicker from 'material-ui/DatePicker';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SelectField from 'material-ui/SelectField';\nimport React from 'react';\nimport AlertBar from '../../components/alert-bar/AlertBar';\nimport AvailableDatasetsSelect from '../../components/available-datasets-select/AvailableDatasetsSelect';\nimport AvailableOrganisationUnitsTree from '../../components/available-organisation-units-tree/AvailableOrganisationUnitsTree';\nimport OutlierAnalyisTable from '../../components/outlier-analysis-table/OutlierAnalysisTable';\nimport PageHelper from '../../components/page-helper/PageHelper';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport { apiConf } from '../../server.conf';\nimport Page from '../Page';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\nimport { getDocsKeyForSection } from '../sections.conf';\nexport const Z_SCORE = 'Z_SCORE';\nexport const DEFAULT_THRESHOLD = 3.0;\nexport const DEFAULT_ALGORITHM = Z_SCORE;\nexport const DEFAULT_MAX_RESULTS = 500;\nexport const DEFAULT_SORT_BY = Z_SCORE;\n\nconst threeMonthsAgo = () => {\n  const date = new Date();\n  date.setMonth(date.getMonth() - 3);\n  return date;\n};\n\nconst getMarkedForFollowUpSuccesMessage = marked => marked ? i18n.t('Marked for follow-up') : i18n.t('Unmarked for follow-up');\n\nclass OutlierDetection extends Page {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"toggleShowAdvancedZScoreFields\", () => {\n      const shouldShow = !this.state.showAdvancedZScoreFields;\n\n      if (shouldShow) {\n        this.setState({\n          showAdvancedZScoreFields: true\n        });\n      } else {\n        this.setState({\n          showAdvancedZScoreFields: false,\n          // Also reset advanced fields\n          dataStartDate: null,\n          dataEndDate: null,\n          sortBy: DEFAULT_SORT_BY\n        });\n      }\n    });\n\n    _defineProperty(this, \"toggleCheckbox\", element => {\n      const api = this.context.d2.Api.getApi();\n      const currentElementIndex = this.state.elements.findIndex(({\n        key\n      }) => key === element.key);\n      const currentElement = this.state.elements[currentElementIndex];\n\n      if (!currentElement) {\n        return;\n      }\n\n      this.context.updateAppState({\n        pageState: {\n          loading: true,\n          elements: this.state.elements,\n          showTable: true\n        }\n      });\n      const data = OutlierAnalyisTable.convertElementToToggleFollowupRequest(currentElement);\n      api.update(apiConf.endpoints.markDataValue, data).then(() => {\n        if (this.isPageMounted()) {\n          const updatedElement = { ...currentElement,\n            marked: !currentElement.marked\n          };\n          const elements = [...this.state.elements.slice(0, currentElementIndex), updatedElement, ...this.state.elements.slice(currentElementIndex + 1)];\n          this.context.updateAppState({\n            showSnackbar: true,\n            snackbarConf: {\n              type: SUCCESS,\n              message: getMarkedForFollowUpSuccesMessage(updatedElement.marked)\n            },\n            pageState: {\n              elements,\n              loading: false,\n              showTable: true\n            }\n          });\n        }\n      }).catch(error => {\n        this.manageError(error);\n      });\n    });\n\n    this.state = {\n      showTable: false,\n      startDate: threeMonthsAgo(),\n      endDate: new Date(),\n      organisationUnitIds: [],\n      dataSetIds: [],\n      elements: [],\n      algorithm: DEFAULT_ALGORITHM,\n      threshold: DEFAULT_THRESHOLD,\n      csvQueryStr: null,\n      showAdvancedZScoreFields: false,\n      dataStartDate: null,\n      dataEndDate: null,\n      maxResults: DEFAULT_MAX_RESULTS,\n      sortBy: DEFAULT_SORT_BY\n    };\n    this.start = this.start.bind(this);\n    this.back = this.back.bind(this);\n    this.startDateOnChange = this.startDateOnChange.bind(this);\n    this.endDateOnChange = this.endDateOnChange.bind(this);\n    this.organisationUnitOnChange = this.organisationUnitOnChange.bind(this);\n    this.dataSetsOnChange = this.dataSetsOnChange.bind(this);\n    this.thresholdOnChange = this.thresholdOnChange.bind(this);\n    this.algorithmOnChange = this.algorithmOnChange.bind(this);\n    this.dataStartDateOnChange = this.dataStartDateOnChange.bind(this);\n    this.dataEndDateOnChange = this.dataEndDateOnChange.bind(this);\n    this.maxResultsOnChange = this.maxResultsOnChange.bind(this);\n    this.sortByOnChange = this.sortByOnChange.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (OutlierDetection.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  start() {\n    const api = this.context.d2.Api.getApi();\n\n    if (this.isFormValid()) {\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      const endpoint = apiConf.endpoints.outlierDetection;\n      const csvQueryStr = this.createQueryString();\n      api.get(\"\".concat(endpoint, \"?\").concat(csvQueryStr)).then(response => {\n        if (this.isPageMounted()) {\n          const elements = response.outlierValues.map(OutlierAnalyisTable.convertElementFromApiResponse);\n          const feedback = elements && elements.length > 0 ? {\n            showSnackbar: false\n          } : {\n            showSnackbar: true,\n            snackbarConf: {\n              type: SUCCESS,\n              message: i18n.t('No values found')\n            }\n          };\n          this.context.updateAppState({ ...feedback,\n            pageState: {\n              loading: false,\n              elements,\n              showTable: elements && elements.length > 0,\n              csvQueryStr\n            }\n          });\n        }\n      }).catch(error => {\n        this.manageError(error);\n      });\n    }\n  }\n\n  createQueryString() {\n    const isZScoreAlgorithm = this.state.algorithm === Z_SCORE;\n    const querySegments = [...this.state.dataSetIds.map(id => \"ds=\".concat(id)), ...this.state.organisationUnitIds.map(id => \"ou=\".concat(id)), \"startDate=\".concat(convertDateToApiDateFormat(this.state.startDate)), \"endDate=\".concat(convertDateToApiDateFormat(this.state.endDate)), \"algorithm=\".concat(this.state.algorithm), \"maxResults=\".concat(this.state.maxResults), \"sortBy=\".concat(this.state.sortBy)];\n\n    if (isZScoreAlgorithm) {\n      querySegments.push(\"threshold=\".concat(this.state.threshold));\n    }\n\n    if (isZScoreAlgorithm && this.state.dataStartDate) {\n      querySegments.push(\"dataStartDate=\".concat(convertDateToApiDateFormat(this.state.dataStartDate)));\n    }\n\n    if (isZScoreAlgorithm && this.state.dataEndDate) {\n      querySegments.push(\"dataEndDate=\".concat(convertDateToApiDateFormat(this.state.dataEndDate)));\n    }\n\n    return querySegments.join('&');\n  }\n\n  back() {\n    this.setState({\n      showTable: false,\n      csvQueryStr: null\n    });\n    this.context.updateAppState({\n      pageState: {\n        showTable: false\n      }\n    });\n  }\n\n  startDateOnChange(event, date) {\n    this.setState({\n      startDate: new Date(date)\n    });\n  }\n\n  endDateOnChange(event, date) {\n    this.setState({\n      endDate: new Date(date)\n    });\n  }\n\n  dataStartDateOnChange(event, date) {\n    this.setState({\n      dataStartDate: new Date(date)\n    });\n  }\n\n  dataEndDateOnChange(event, date) {\n    this.setState({\n      dataEndDate: new Date(date)\n    });\n  }\n\n  maxResultsOnChange(event, index, value) {\n    this.setState({\n      maxResults: value\n    });\n  }\n\n  sortByOnChange(event, index, value) {\n    this.setState({\n      sortBy: value\n    });\n  }\n\n  organisationUnitOnChange(organisationUnitIds) {\n    this.setState({\n      organisationUnitIds\n    });\n  }\n\n  dataSetsOnChange(event) {\n    const dataSetIds = [];\n    const selectedOptions = event.target.selectedOptions;\n\n    for (let i = 0; i < selectedOptions.length; i++) {\n      dataSetIds.push(selectedOptions[i].value);\n    }\n\n    this.setState({\n      dataSetIds\n    });\n  }\n\n  thresholdOnChange(event, index, value) {\n    this.setState({\n      threshold: value\n    });\n  }\n\n  algorithmOnChange(event, index, value) {\n    this.setState({\n      algorithm: value\n    });\n  }\n\n  isFormValid() {\n    return this.state.startDate && this.state.endDate && this.state.organisationUnitIds && this.state.organisationUnitIds.length > 0 && this.state.threshold && this.state.dataSetIds && this.state.dataSetIds.length > 0;\n  }\n\n  isActionDisabled() {\n    return !this.isFormValid() || this.state.loading;\n  }\n\n  showAlertBar() {\n    return this.state.showTable && this.state.elements && this.state.elements.length >= apiConf.results.analysis.limit;\n  }\n\n  renderThresholdField() {\n    return /*#__PURE__*/React.createElement(SelectField, {\n      id: \"threshold\",\n      style: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Threshold'),\n      onChange: this.thresholdOnChange,\n      value: this.state.threshold\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: 1.0,\n      primaryText: \"1.0\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 1.5,\n      primaryText: \"1.5\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 2.0,\n      primaryText: \"2.0\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 2.5,\n      primaryText: \"2.5\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 3,\n      primaryText: \"3.0\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 3.5,\n      primaryText: \"3.5\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 4,\n      primaryText: \"4.0\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 4.5,\n      primaryText: \"4.5\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 5,\n      primaryText: \"5.0\"\n    }));\n  }\n\n  renderZScoreFields() {\n    const {\n      showAdvancedZScoreFields\n    } = this.state;\n    const buttonLabel = showAdvancedZScoreFields ? i18n.t('Hide advanced options') : i18n.t('Show advanced options');\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FlatButton, {\n      fullWidth: true,\n      label: buttonLabel,\n      onClick: this.toggleShowAdvancedZScoreFields,\n      style: {\n        marginTop: '12px'\n      }\n    }), showAdvancedZScoreFields && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"data-start-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Data start date'),\n      onChange: this.dataStartDateOnChange,\n      maxDate: this.state.dataEndDate,\n      value: this.state.dataStartDate\n    }), /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"data-end-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Data end date'),\n      onChange: this.dataEndDateOnChange,\n      minDate: this.state.dataStartDate,\n      value: this.state.dataEndDate\n    }), /*#__PURE__*/React.createElement(SelectField, {\n      id: \"sort-by\",\n      style: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Sort by'),\n      onChange: this.sortByOnChange,\n      value: this.state.sortBy\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: Z_SCORE,\n      primaryText: \"Z-score\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"MEAN_ABS_DEV\",\n      primaryText: \"Absolute Deviation from Mean\"\n    }))));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: cssPageStyles.pageHeader\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.back,\n      style: {\n        display: this.state.showTable ? 'inline' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(FontIcon, {\n      className: 'material-icons'\n    }, \"arrow_back\")), i18n.t('Outlier Detection'), /*#__PURE__*/React.createElement(PageHelper, {\n      sectionDocsKey: getDocsKeyForSection(this.props.sectionKey)\n    })), /*#__PURE__*/React.createElement(AlertBar, {\n      show: this.showAlertBar()\n    }), /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardText, {\n      style: {\n        display: !this.state.showTable ? 'block' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"data-sets-container\",\n      className: \"col-md-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.formLabel\n    }, i18n.t('Data set')), /*#__PURE__*/React.createElement(AvailableDatasetsSelect, {\n      onChange: this.dataSetsOnChange\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.formLabel\n    }, i18n.t('Organisation units')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n      multiselect: true,\n      onChange: this.organisationUnitOnChange\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\"\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"start-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Start date'),\n      onChange: this.startDateOnChange,\n      defaultDate: new Date(),\n      maxDate: this.state.endDate,\n      value: this.state.startDate\n    }), /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"end-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('End date'),\n      onChange: this.endDateOnChange,\n      defaultDate: new Date(),\n      minDate: this.state.startDate,\n      value: this.state.endDate\n    }), /*#__PURE__*/React.createElement(SelectField, {\n      id: \"algorithm\",\n      style: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Algorithm'),\n      onChange: this.algorithmOnChange,\n      value: this.state.algorithm\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: Z_SCORE,\n      primaryText: \"Z-score\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"MIN_MAX\",\n      primaryText: \"Min-max values\"\n    })), this.state.algorithm === Z_SCORE && this.renderThresholdField(), /*#__PURE__*/React.createElement(SelectField, {\n      id: \"max-results\",\n      style: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Max results'),\n      onChange: this.maxResultsOnChange,\n      value: this.state.maxResults\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: 100,\n      primaryText: \"100\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 200,\n      primaryText: \"200\"\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 500,\n      primaryText: \"500\"\n    })), this.state.algorithm === Z_SCORE && this.renderZScoreFields())), /*#__PURE__*/React.createElement(RaisedButton, {\n      id: \"start-analysis-button\",\n      className: cssPageStyles.mainButton,\n      primary: true,\n      label: i18n.t('Start'),\n      onClick: this.start,\n      disabled: this.isActionDisabled()\n    })), this.state.showTable && this.state.csvQueryStr && /*#__PURE__*/React.createElement(CardText, {\n      id: \"results-table\"\n    }, /*#__PURE__*/React.createElement(OutlierAnalyisTable, {\n      algorithm: this.state.algorithm,\n      csvQueryStr: this.state.csvQueryStr,\n      elements: this.state.elements,\n      toggleCheckbox: this.toggleCheckbox\n    }))));\n  }\n\n}\n\n_defineProperty(OutlierDetection, \"STATE_PROPERTIES\", ['showTable', 'startDate', 'endDate', 'organisationUnitIds', 'dataSetIds', 'elements', 'threshold', 'loading', 'csvQueryStr', 'showAdvancedZScoreFields', 'dataStartDate', 'dataEndDate', 'maxResults', 'sortBy']);\n\nexport default OutlierDetection;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nexport const ALL_VALIDATION_RULE_GROUPS_ID = -1;\nexport const ALL_VALIDATION_RULE_GROUPS_OPTION = {\n  id: ALL_VALIDATION_RULE_GROUPS_ID,\n  displayName: '[All Validation Rules]'\n};\n\nclass ValidationRuleGroupsSelect extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      validationRuleGroups: [ALL_VALIDATION_RULE_GROUPS_OPTION],\n      selected: ALL_VALIDATION_RULE_GROUPS_ID\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    const d2 = this.context.d2;\n    const translatedAllValidationRulesOption = ALL_VALIDATION_RULE_GROUPS_OPTION;\n    translatedAllValidationRulesOption.displayName = i18n.t(ALL_VALIDATION_RULE_GROUPS_OPTION.displayName);\n    d2.models.validationRuleGroup.list({\n      paging: false,\n      fields: 'id,displayName'\n    }).then(validationRuleGroupsResponse => {\n      this.setState({\n        validationRuleGroups: [translatedAllValidationRulesOption, ...validationRuleGroupsResponse.toArray()]\n      });\n    }).catch(() => {\n      this.manageError();\n    });\n  }\n\n  onChange(event, index, value) {\n    this.setState({\n      selected: value,\n      selectedName: value === ALL_VALIDATION_RULE_GROUPS_ID ? '[All Validation Rules]' : this.state.validationRuleGroups[index].displayName\n    });\n    this.props.onChange(event, index, value);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(SelectField, {\n      style: this.props.style,\n      floatingLabelText: i18n.t('Validation Rule Group'),\n      onChange: this.onChange,\n      value: this.state.selected\n    }, this.state.validationRuleGroups.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n      key: item.id,\n      value: item.id,\n      primaryText: item.displayName\n    })));\n  }\n\n}\n\n_defineProperty(ValidationRuleGroupsSelect, \"propTypes\", {\n  onChange: PropTypes.func.isRequired,\n  style: PropTypes.object\n});\n\n_defineProperty(ValidationRuleGroupsSelect, \"defaultProps\", {\n  style: {}\n});\n\n_defineProperty(ValidationRuleGroupsSelect, \"contextTypes\", {\n  d2: PropTypes.object\n});\n\nexport default ValidationRuleGroupsSelect;","import cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './TableCellContent.module.css';\n\nconst TableCellContent = ({\n  className,\n  size,\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: cx(styles.tableCellContent, className, {\n    [styles[\"tableCellContent-\".concat(size)]]: size\n  })\n}, children);\n\nTableCellContent.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  size: PropTypes.oneOf(['narrow', 'medium', 'wide'])\n};\nexport default TableCellContent;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Dialog, FlatButton, FontIcon } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FormattedNumber from '../../../components/formatters/FormattedNumber';\nimport { apiConf } from '../../../server.conf';\nimport Page from '../../Page';\nimport cssPageStyles from '../../Page.module.css';\nimport jsPageStyles from '../../PageStyles';\nimport ValidationRulesAnalysis from '../ValidationRulesAnalysis';\nimport styles from './ValidationRulesDetails.module.css';\n\nclass ValidationRulesDetails extends Page {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      openDetails: false,\n      rule: {},\n      expression: {\n        leftSide: [],\n        rightSide: []\n      }\n    };\n    this.loadDetails = this.loadDetails.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (ValidationRulesAnalysis.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  loadDetails() {\n    if (!this.state.loading) {\n      const api = this.context.d2.Api.getApi();\n      const requestRule = \"\".concat(apiConf.endpoints.validationRules, \"/\").concat(this.props.validationRuleId);\n      const requestExpression = \"\".concat(apiConf.endpoints.validationRulesExpression) + \"?validationRuleId=\".concat(this.props.validationRuleId) + \"&periodId=\".concat(this.props.periodId) + \"&organisationUnitId=\".concat(this.props.organisationUnitId) + \"&attributeOptionComboId=\".concat(this.props.attributeOptionComboId);\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      Promise.all([api.get(requestRule), api.get(requestExpression)]).then(([rule, expression]) => {\n        this.context.updateAppState({\n          pageState: {\n            loading: false\n          }\n        });\n        this.setState({\n          openDetails: true,\n          rule,\n          expression\n        });\n      }).catch(() => {\n        this.manageError();\n      });\n    }\n  }\n\n  handleClose() {\n    this.setState({\n      openDetails: false\n    });\n  }\n\n  render() {\n    // Details Actions\n    const dialogActions = [/*#__PURE__*/React.createElement(FlatButton, {\n      className: \"close-action\",\n      key: \"FB\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      label: i18n.t('Close'),\n      primary: true,\n      onClick: this.handleClose\n    })];\n    const result = /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', 'results-row', styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, i18n.t('VALIDATIONS RESULT DETAILS')), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionSubTitle)\n    }, i18n.t('VALIDATION RULE')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-3'\n    }, i18n.t('Name')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-9'\n    }, this.state.rule.displayName), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-3'\n    }, i18n.t('Description')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-9'\n    }, this.state.rule.displayDescription));\n\n    const showNoData = side => /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, side), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', cssPageStyles.center)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.noData\n    }, i18n.t('no data available'))));\n\n    const buildSection = (side, elements, classNameRow) => /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', classNameRow, styles.sectionBox)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-12', styles.sectionTitle)\n    }, side), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-10', styles.sectionSubTitle)\n    }, i18n.t('DATA ELEMENT')), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-2', styles.sectionSubTitle, cssPageStyles.right)\n    }, i18n.t('VALUE')), elements.map(element => /*#__PURE__*/React.createElement(\"div\", {\n      key: element.name,\n      className: 'col-xs-12'\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'row'\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'col-xs-10'\n    }, element.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('col-xs-2', cssPageStyles.right)\n    }, element.value ? /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: Number(element.value)\n    }) : '-')))));\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FontIcon, {\n      key: \"FI|\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      className: 'validation-rules-show-details-action material-icons',\n      style: jsPageStyles.cursorStyle,\n      onClick: this.loadDetails\n    }, \"info\"), /*#__PURE__*/React.createElement(Dialog, {\n      className: \"validation-rules-details-dialog\",\n      key: \"D\".concat(this.props.organisationUnitId, \"-\").concat(this.props.periodId, \"-\").concat(this.props.validationRuleId),\n      autoScrollBodyContent: true,\n      title: i18n.t('Validation Details'),\n      actions: dialogActions,\n      modal: true,\n      open: this.state.openDetails,\n      onRequestClose: this.handleClose\n    }, result, this.state.expression.leftSide && this.state.expression.leftSide.length > 0 ? buildSection(i18n.t('LEFT SIDE'), this.state.expression.leftSide, 'left-side-row') : showNoData(i18n.t('LEFT SIDE')), this.state.expression.rightSide && this.state.expression.rightSide.length > 0 ? buildSection(i18n.t('RIGHT SIDE'), this.state.expression.rightSide, 'right-side-row') : showNoData(i18n.t('RIGHT SIDE'))));\n  }\n\n}\n\n_defineProperty(ValidationRulesDetails, \"STATE_PROPERTIES\", ['loading']);\n\n_defineProperty(ValidationRulesDetails, \"propTypes\", {\n  attributeOptionComboId: PropTypes.string.isRequired,\n  organisationUnitId: PropTypes.string.isRequired,\n  periodId: PropTypes.string.isRequired,\n  validationRuleId: PropTypes.string.isRequired\n});\n\nexport default ValidationRulesDetails;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport classNames from 'classnames';\nimport { Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport DownloadAs from '../../../components/download-as/DownloadAs';\nimport FormattedNumber from '../../../components/formatters/FormattedNumber';\nimport TableCellContent from '../../../components/table/TableCellContent';\nimport { apiConf } from '../../../server.conf';\nimport cssPageStyles from '../../Page.module.css';\nimport ValidationRulesDetails from '../validation-rules-details/ValidationRulesDetails';\nimport styles from './ValidationRulesAnalysisTable.module.css';\n\nclass ValidationRulesAnalysisTable extends PureComponent {\n  render() {\n    const elements = this.props.elements;\n    const shouldDisplayAttributeOptionCombo = elements.some(e => e.attributeOptionCombo && e.attributeOptionCombo !== 'default'); // Table Rows\n\n    const rows = elements.map(element => /*#__PURE__*/React.createElement(TableRow, {\n      key: element.key\n    }, /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.organisation\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, element.organisation)), shouldDisplayAttributeOptionCombo && /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.attributeOptionCombo\n    }, /*#__PURE__*/React.createElement(TableCellContent, {\n      size: \"wide\"\n    }, element.attributeOptionCombo)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.period\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, element.period)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.importance\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, element.importance)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.validationRule\n    }, /*#__PURE__*/React.createElement(TableCellContent, {\n      size: 'medium'\n    }, element.validationRule)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.leftValue\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.leftValue\n    }))), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.operator\n    }, /*#__PURE__*/React.createElement(TableCellContent, {\n      className: styles.operator\n    }, element.operator)), /*#__PURE__*/React.createElement(TableRowColumn, {\n      title: element.rightValue\n    }, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(FormattedNumber, {\n      value: element.rightValue\n    }))), /*#__PURE__*/React.createElement(TableRowColumn, null, /*#__PURE__*/React.createElement(TableCellContent, null, /*#__PURE__*/React.createElement(ValidationRulesDetails, {\n      validationRuleId: element.validationRuleId,\n      periodId: element.periodId,\n      organisationUnitId: element.organisationUnitId,\n      attributeOptionComboId: element.attributeOptionComboId\n    })))));\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.cardHeader\n    }, /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.validationRulesReport\n    })), /*#__PURE__*/React.createElement(Table, {\n      selectable: false,\n      className: classNames(cssPageStyles.appTable, styles.validationTable),\n      fixedHeader: false,\n      bodyStyle: {\n        overflowX: 'auto'\n      }\n    }, /*#__PURE__*/React.createElement(TableHeader, {\n      displaySelectAll: false,\n      adjustForCheckbox: false,\n      enableSelectAll: false\n    }, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Organisation Unit')\n    }, i18n.t('Organisation Unit')), shouldDisplayAttributeOptionCombo && /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Attribute Option Combination')\n    }, i18n.t('Attr. Opt. Combo')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Period')\n    }, i18n.t('Period')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Importance')\n    }, i18n.t('Importance')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Validation Rule')\n    }, i18n.t('Validation Rule')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Value')\n    }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Operator')\n    }, i18n.t('Operator')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Value')\n    }, i18n.t('Value')), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      title: i18n.t('Details')\n    }, i18n.t('Details')))), /*#__PURE__*/React.createElement(TableBody, {\n      displayRowCheckbox: false,\n      stripedRows: false\n    }, rows)), /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(cssPageStyles.cardFooter, cssPageStyles.end)\n    }, /*#__PURE__*/React.createElement(DownloadAs, {\n      endpoint: apiConf.endpoints.validationRulesReport\n    })));\n  }\n\n}\n\n_defineProperty(ValidationRulesAnalysisTable, \"propTypes\", {\n  elements: PropTypes.array.isRequired\n});\n\nexport default ValidationRulesAnalysisTable;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { SUCCESS } from 'd2-ui/lib/feedback-snackbar/FeedbackSnackbarTypes';\nimport { FontIcon, IconButton } from 'material-ui';\nimport { Card, CardText } from 'material-ui/Card';\nimport Checkbox from 'material-ui/Checkbox';\nimport DatePicker from 'material-ui/DatePicker';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react';\nimport AlertBar from '../../components/alert-bar/AlertBar';\nimport AvailableOrganisationUnitsTree from '../../components/available-organisation-units-tree/AvailableOrganisationUnitsTree';\nimport PageHelper from '../../components/page-helper/PageHelper';\nimport ValidationRuleGroupsSelect, { ALL_VALIDATION_RULE_GROUPS_ID } from '../../components/validation-rule-groups-select/ValidationRuleGroupsSelect';\nimport { convertDateToApiDateFormat } from '../../helpers/dates';\nimport { apiConf } from '../../server.conf';\nimport Page from '../Page';\nimport cssPageStyles from '../Page.module.css';\nimport jsPageStyles from '../PageStyles';\nimport { getDocsKeyForSection } from '../sections.conf';\nimport ValidationRulesAnalysisTable from './validation-rules-analysis-table/ValidationRulesAnalysisTable';\n\nclass ValidationRulesAnalysis extends Page {\n  constructor() {\n    super();\n    this.state = {\n      showTable: false,\n      startDate: new Date(),\n      endDate: new Date(),\n      organisationUnitId: null,\n      validationRuleGroupId: ALL_VALIDATION_RULE_GROUPS_ID,\n      notification: false,\n      persist: false,\n      elements: [],\n      loading: false\n    };\n    this.validate = this.validate.bind(this);\n    this.back = this.back.bind(this);\n    this.startDateOnChange = this.startDateOnChange.bind(this);\n    this.endDateOnChange = this.endDateOnChange.bind(this);\n    this.organisationUnitOnChange = this.organisationUnitOnChange.bind(this);\n    this.validationRuleGroupOnChange = this.validationRuleGroupOnChange.bind(this);\n    this.updateSendNotifications = this.updateSendNotifications.bind(this);\n    this.updatePersistNewResults = this.updatePersistNewResults.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextState = {};\n    Object.keys(nextProps).forEach(property => {\n      if (ValidationRulesAnalysis.STATE_PROPERTIES.includes(property)) {\n        nextState[property] = nextProps[property];\n      }\n    });\n    this.setState(nextState);\n  }\n\n  validate() {\n    const api = this.context.d2.Api.getApi();\n\n    if (this.isFormValid()) {\n      const request = {\n        startDate: convertDateToApiDateFormat(this.state.startDate),\n        endDate: convertDateToApiDateFormat(this.state.endDate),\n        ou: this.state.organisationUnitId,\n        notification: this.state.notification,\n        persist: this.state.persist\n      };\n\n      if (this.state.validationRuleGroupId !== ALL_VALIDATION_RULE_GROUPS_ID) {\n        request.vrg = this.state.validationRuleGroupId;\n      }\n\n      this.context.updateAppState({\n        pageState: {\n          loading: true\n        }\n      });\n      api.post(apiConf.endpoints.validationRulesAnalysis, { ...request\n      }).then(response => {\n        if (this.isPageMounted()) {\n          const elements = response.map(ValidationRulesAnalysis.convertElementFromApiResponse);\n          const feedback = elements && elements.length > 0 ? {\n            showSnackbar: false\n          } : {\n            showSnackbar: true,\n            snackbarConf: {\n              type: SUCCESS,\n              message: i18n.t('Validation passed successfully')\n            }\n          };\n          this.context.updateAppState({ ...feedback,\n            pageState: {\n              loading: false,\n              elements,\n              showTable: elements && elements.length > 0\n            }\n          });\n        }\n      }).catch(() => {\n        this.manageError();\n      });\n    }\n  }\n\n  back() {\n    this.setState({\n      showTable: false\n    });\n    this.context.updateAppState({\n      pageState: {\n        showTable: false\n      }\n    });\n  }\n\n  startDateOnChange(event, date) {\n    this.setState({\n      startDate: new Date(date)\n    });\n  }\n\n  endDateOnChange(event, date) {\n    this.setState({\n      endDate: new Date(date)\n    });\n  }\n\n  organisationUnitOnChange(organisationUnitId) {\n    this.setState({\n      organisationUnitId\n    });\n  }\n\n  validationRuleGroupOnChange(event, index, value) {\n    this.setState({\n      validationRuleGroupId: value\n    });\n  }\n\n  updateSendNotifications(event, checked) {\n    this.setState({\n      notification: checked\n    });\n  }\n\n  updatePersistNewResults(event, checked) {\n    this.setState({\n      persist: checked\n    });\n  }\n\n  showAlertBar() {\n    return this.state.showTable && this.state.elements && this.state.elements.length >= apiConf.results.analysis.limit;\n  }\n\n  isFormValid() {\n    return this.state.startDate && this.state.endDate && this.state.organisationUnitId;\n  }\n\n  isActionDisabled() {\n    return !this.isFormValid() || this.state.loading;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: cssPageStyles.pageHeader\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.back,\n      style: {\n        display: this.state.showTable ? 'inline' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(FontIcon, {\n      className: 'material-icons'\n    }, \"arrow_back\")), i18n.t('Validation Rule Analysis'), /*#__PURE__*/React.createElement(PageHelper, {\n      sectionDocsKey: getDocsKeyForSection(this.props.sectionKey)\n    })), /*#__PURE__*/React.createElement(AlertBar, {\n      show: this.showAlertBar()\n    }), /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardText, {\n      style: {\n        display: !this.state.showTable ? 'block' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cssPageStyles.formLabel\n    }, i18n.t('Parent organisation unit')), /*#__PURE__*/React.createElement(AvailableOrganisationUnitsTree, {\n      onChange: this.organisationUnitOnChange\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"start-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('Start Date'),\n      onChange: this.startDateOnChange,\n      value: this.state.startDate,\n      defaultDate: new Date(),\n      maxDate: this.state.endDate\n    }), /*#__PURE__*/React.createElement(DatePicker, {\n      id: \"end-date\",\n      textFieldStyle: jsPageStyles.inputForm,\n      floatingLabelText: i18n.t('End Date'),\n      onChange: this.endDateOnChange,\n      value: this.state.endDate,\n      defaultDate: new Date(),\n      minDate: this.state.startDate\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"validation-rule-groups\"\n    }, /*#__PURE__*/React.createElement(ValidationRuleGroupsSelect, {\n      style: jsPageStyles.inputForm,\n      onChange: this.validationRuleGroupOnChange\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"send-notifications-option\"\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      label: i18n.t('Send Notifications'),\n      labelPosition: \"left\",\n      checked: this.state.notification,\n      onCheck: this.updateSendNotifications\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"persist-results-option\"\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      label: i18n.t('Persist new results'),\n      labelPosition: \"left\",\n      checked: this.state.persist,\n      onCheck: this.updatePersistNewResults\n    })))), /*#__PURE__*/React.createElement(RaisedButton, {\n      id: \"start-analysis-button\",\n      className: cssPageStyles.mainButton,\n      label: i18n.t('validate'),\n      primary: true,\n      disabled: this.isActionDisabled(),\n      onClick: this.validate\n    })), /*#__PURE__*/React.createElement(CardText, {\n      id: \"results-table\",\n      style: {\n        display: this.state.showTable ? 'block' : 'none'\n      }\n    }, /*#__PURE__*/React.createElement(ValidationRulesAnalysisTable, {\n      elements: this.state.elements\n    }))));\n  }\n\n}\n\n_defineProperty(ValidationRulesAnalysis, \"STATE_PROPERTIES\", ['loading', 'elements', 'showTable']);\n\n_defineProperty(ValidationRulesAnalysis, \"generateElementKey\", e => \"\".concat(e.validationRuleId, \"-\").concat(e.periodId, \"-\").concat(e.organisationUnitId, \"-\").concat(e.attributeOptionComboId));\n\n_defineProperty(ValidationRulesAnalysis, \"convertElementFromApiResponse\", e => ({\n  key: ValidationRulesAnalysis.generateElementKey(e),\n  validationRuleId: e.validationRuleId,\n  attributeOptionCombo: e.attributeOptionComboDisplayName,\n  attributeOptionComboId: e.attributeOptionComboId,\n  organisation: e.organisationUnitDisplayName,\n  organisationUnitId: e.organisationUnitId,\n  period: e.periodDisplayName,\n  periodId: e.periodId,\n  importance: e.importance,\n  validationRule: e.validationRuleDescription,\n  leftValue: e.leftSideValue,\n  operator: e.operator,\n  rightValue: e.rightSideValue\n}));\n\nexport default ValidationRulesAnalysis;","import i18n from '@dhis2/d2-i18n';\nimport FollowUpAnalysis from './follow-up-analysis/FollowUpAnalysis';\nimport OutlierDetection from './outlier-detection/OutlierDetection';\nimport ValidationRulesAnalysis from './validation-rules-analysis/ValidationRulesAnalysis';\nexport const VALIDATION_RULES_ANALYSIS_SECTION_KEY = 'validationRulesAnalysis';\nexport const OUTLIER_DETECTION_SECTION_KEY = 'outlierDetection';\nexport const FOLLOW_UP_ANALYSIS_SECTION_KEY = 'followUpAnalysis';\nexport const sections = [{\n  key: VALIDATION_RULES_ANALYSIS_SECTION_KEY,\n  path: '/validation-rules-analysis',\n  component: ValidationRulesAnalysis,\n  info: {\n    label: () => i18n.t('Validation Rule Analysis'),\n    icon: 'done_all',\n    description: () => i18n.t('Run validation rules in order to unveil anomalies and errors in the data in the database.'),\n    actionText: () => i18n.t('Run Validation'),\n    docs: 'validation_rule_analysis'\n  }\n}, {\n  key: OUTLIER_DETECTION_SECTION_KEY,\n  path: '/outlier-detection',\n  component: OutlierDetection,\n  info: {\n    label: () => i18n.t('Outlier detection'),\n    icon: 'show_chart',\n    description: () => i18n.t('Analyze potential outlier values based on standard deviations or min-max values. Outlier values can be examined and marked for follow-up.'),\n    actionText: () => i18n.t('Analyze'),\n    docs: 'outlier_detection'\n  }\n}, {\n  key: FOLLOW_UP_ANALYSIS_SECTION_KEY,\n  path: '/follow-up-analysis',\n  component: FollowUpAnalysis,\n  info: {\n    label: () => i18n.t('Follow-Up Analysis'),\n    icon: 'description',\n    description: () => i18n.t('View or edit data values marked for further follow-up during data entry or analysis.'),\n    actionText: () => i18n.t('View Data Values'),\n    docs: 'follow_up_analysis'\n  }\n}];\nexport const getDocsKeyForSection = sectionKey => {\n  for (let i = 0; i < sections.length; i++) {\n    const section = sections[i];\n\n    if (section.key === sectionKey) {\n      return section.info.docs;\n    }\n  }\n\n  return '';\n};\nexport default sections;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport classNames from 'classnames';\nimport FontIcon from 'material-ui/FontIcon';\nimport { GridTile } from 'material-ui/GridList';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './GridSection.module.css';\n\nclass GridSection extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(Link, {\n      className: \"link\",\n      to: this.props.section.path\n    }, /*#__PURE__*/React.createElement(GridTile, {\n      key: this.props.section.key,\n      className: classNames('section', styles.gridElement)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames('row', styles.gridTitleBar)\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-title', styles.gridTitleDescription)\n    }, this.props.section.info.label()), /*#__PURE__*/React.createElement(FontIcon, {\n      className: classNames('material-icons', 'icon', styles.gridIcon)\n    }, this.props.section.info.icon)), /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-description', 'row', styles.gridDescription)\n    }, this.props.section.info.description()), /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames('section-action-text', 'row', styles.gridActionText)\n    }, this.props.section.info.actionText())));\n  }\n\n}\n\n_defineProperty(GridSection, \"propTypes\", {\n  section: PropTypes.shape({\n    info: PropTypes.shape({\n      actionText: PropTypes.func,\n      description: PropTypes.func,\n      icon: PropTypes.string,\n      label: PropTypes.func\n    }),\n    key: PropTypes.string,\n    path: PropTypes.string\n  }).isRequired\n});\n\nexport default GridSection;","import classNames from 'classnames';\nimport React from 'react';\nimport { sections } from '../sections.conf';\nimport GridSection from './grid-section/GridSection';\nimport styles from './Home.module.css';\n\nconst Home = () => {\n  const gridElements = sections.map(section => /*#__PURE__*/React.createElement(\"div\", {\n    key: section.key,\n    className: classNames('col-sm-12 col-md-6 col-lg-4', styles.gridContainer)\n  }, /*#__PURE__*/React.createElement(GridSection, {\n    key: section.key,\n    section: section\n  })));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"grid-list-id\",\n    className: \"row\"\n  }, gridElements);\n};\n\nexport default Home;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\n\nclass NoMatch extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, \"No match for \", /*#__PURE__*/React.createElement(\"code\", null, this.props.location.pathname)));\n  }\n\n}\n\n_defineProperty(NoMatch, \"propTypes\", {\n  location: PropTypes.object.isRequired\n});\n\nexport default NoMatch;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Home from '../../pages/home/Home';\nimport { sections } from '../../pages/sections.conf';\nimport NoMatch from './NoMatch';\n\nconst AppRouter = ({\n  pageState\n}) => {\n  const routes = sections.map(section => {\n    const routeRender = () => {\n      const Page = section.component;\n      return /*#__PURE__*/React.createElement(Page, _extends({\n        sectionKey: section.key\n      }, pageState));\n    };\n\n    return /*#__PURE__*/React.createElement(Route, {\n      key: section.key,\n      exact: true,\n      path: section.path,\n      render: routeRender\n    });\n  });\n  /* Home route */\n\n  const homeRouteRender = () => /*#__PURE__*/React.createElement(Home, {\n    sectionKey: \"home\"\n  });\n\n  routes.push( /*#__PURE__*/React.createElement(Route, {\n    key: \"home\",\n    exact: true,\n    path: \"/\",\n    render: homeRouteRender\n  }));\n  /* No Match Route */\n\n  routes.push( /*#__PURE__*/React.createElement(Route, {\n    key: \"no-match-route\",\n    component: NoMatch\n  }));\n  return /*#__PURE__*/React.createElement(\"main\", null, /*#__PURE__*/React.createElement(Switch, null, routes));\n};\n\nAppRouter.propTypes = {\n  pageState: PropTypes.object\n};\nAppRouter.defaultProps = {\n  pageState: {}\n};\nexport default AppRouter;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Sidebar from 'd2-ui/lib/sidebar/Sidebar.component';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { sections } from '../../pages/sections.conf';\nimport AppRouter from '../app-router/AppRouter';\nimport styles from './App.module.css';\n\nconst noop = () => null;\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"updateAppState\", appState => {\n      if (appState.currentSection && !appState.pageState && this.state.currentSection !== appState.currentSection) {\n        // clear page state because we are updating page\n        this.setState({ ...appState,\n          pageState: {},\n          showSnackbar: false\n        });\n      } else {\n        this.setState(appState);\n      }\n    });\n\n    this.state = {\n      currentSection: '',\n      showSnackbar: false,\n      snackbarConf: {\n        type: '',\n        message: ''\n      },\n      pageState: {}\n    };\n  }\n\n  getChildContext() {\n    return {\n      d2: this.props.d2,\n      showSnackbar: this.state.showSnackbar,\n      snackbarConf: this.state.snackbarConf,\n      currentSection: this.state.currentSection,\n      updateAppState: this.updateAppState\n    };\n  }\n\n  render() {\n    const translatedSections = sections.map(section => ({ ...section,\n      icon: section.info.icon,\n      label: section.info.label(),\n      containerElement: /*#__PURE__*/React.createElement(Link, {\n        to: section.path\n      })\n    }));\n    const hideSidebar = this.state.pageState && this.state.pageState.showTable;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.container\n    }, !hideSidebar && /*#__PURE__*/React.createElement(Sidebar, {\n      sections: translatedSections,\n      currentSection: this.state.currentSection,\n      onChangeSection: noop\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentArea\n    }, /*#__PURE__*/React.createElement(AppRouter, {\n      pageState: this.state.pageState\n    })));\n  }\n\n}\n\n_defineProperty(App, \"childContextTypes\", {\n  d2: PropTypes.object,\n  currentSection: PropTypes.string,\n  showSnackbar: PropTypes.bool,\n  snackbarConf: PropTypes.shape({\n    message: PropTypes.string,\n    type: PropTypes.string\n  }),\n  updateAppState: PropTypes.func\n});\n\nApp.propTypes = {\n  d2: PropTypes.object\n};\nexport default withRouter(App);","import { blue100, blue700, grey100, grey400, orange500, orangeA200, darkBlack, white } from 'material-ui/styles/colors';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport Spacing from 'material-ui/styles/spacing';\nimport { fade } from 'material-ui/utils/colorManipulator';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: '#004ba0',\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: orangeA200,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default muiTheme;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport { CssVariables } from '@dhis2/ui';\nimport { MuiThemeProvider } from 'material-ui/styles';\nimport React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport 'material-design-icons-iconfont';\nimport App from './components/app/App';\nimport appTheme from './theme';\nimport './locales';\n\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2();\n\n  if (!d2) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    muiTheme: appTheme\n  }, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true\n  }), /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  })));\n};\n\nexport default AppWrapper;"],"sourceRoot":""}